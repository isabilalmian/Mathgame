<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Educational quiz by Isa Mian</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Nunito:wght@400;700&family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a0b;
      --surface: #141416;
      --surface2: #1c1c1f;
      --border: #2a2a2e;
      --text: #e8e8ea;
      --text-muted: #888;
      --accent: #d4d4d6;
      --correct: #4a4a4e;
      --wrong: #2a2a2e;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Outfit', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Equation background ‚Äî muted, kid-friendly font, overlap OK */
    .equation-bg {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      opacity: 0.07;
    }
    .equation-bg span {
      position: absolute;
      font-family: 'Nunito', sans-serif;
      font-size: clamp(0.875rem, 2.5vw, 1.25rem);
      font-weight: 700;
      color: var(--text);
      white-space: nowrap;
    }
    .eq1 { top: 5%; left: 0%; }
    .eq2 { top: 15%; right: -5%; }
    .eq3 { bottom: 30%; left: -2%; }
    .eq4 { bottom: 10%; right: 0%; }
    .eq5 { top: 40%; left: -8%; }
    .eq6 { top: 55%; right: -10%; }
    .eq7 { bottom: 50%; right: 5%; }
    .eq8 { top: 70%; left: 10%; }
    .eq9 { bottom: 20%; left: 5%; }
    .eq10 { top: 8%; right: 15%; }
    .eq11 { top: 22%; left: 25%; }
    .eq12 { top: 65%; right: 22%; }
    .eq13 { bottom: 45%; left: 12%; }
    .eq14 { top: 85%; right: 35%; }
    .eq15 { top: 12%; left: 55%; }
    .eq16 { bottom: 15%; left: 42%; }
    .eq17 { top: 50%; right: 45%; }
    .eq18 { bottom: 65%; left: 65%; }
    .eq19 { top: 35%; left: 85%; }
    .eq20 { top: 78%; right: 70%; }

    .container {
      position: relative;
      z-index: 1;
      max-width: min(480px, 95vw);
      margin: 0 auto;
      padding: clamp(1rem, 4vw, 2rem) clamp(1rem, 4vw, 1.5rem);
      padding-bottom: max(clamp(1rem, 4vw, 2rem), 3.5rem);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .container:has(.age-screen.active),
    .container:has(.results-screen.active) {
      max-width: min(2600px, 98vw);
    }

    /* Screens */
    .screen {
      display: none;
      animation: fadeIn 0.3s ease;
    }
    .screen.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      letter-spacing: -0.02em;
    }

    .subtitle {
      color: var(--text-muted);
      font-size: 0.95rem;
      margin-bottom: 2rem;
    }

    /* Age gate */
    .age-form {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.75rem;
    }
    .language-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      justify-content: center;
    }
    .language-buttons .btn,
    .curriculum-options .btn-curriculum {
      flex: 1 1 45%;
      min-width: 120px;
    }
    .curriculum-options {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .curriculum-options label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0;
      cursor: pointer;
    }

    .age-form label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
      color: var(--text-muted);
    }
    .age-form input {
      width: 100%;
      padding: 0.85rem 1rem;
      font-size: 1.1rem;
      font-family: 'JetBrains Mono', monospace;
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      margin-bottom: 1rem;
    }
    .age-form input:focus {
      outline: none;
      border-color: var(--accent);
    }
    .age-form .error {
      color: #999;
      font-size: 0.85rem;
      margin-top: -0.5rem;
      margin-bottom: 0.5rem;
      min-height: 1.2rem;
    }
    .age-form .error.username-taken {
      color: #e44 !important;
      font-size: 1.05rem;
      font-weight: 500;
    }
    .subject-option {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.75rem;
      cursor: pointer;
    }
    .subject-option input[type="checkbox"],
    .age-form input[type="checkbox"],
    input[type="checkbox"].box-style {
      appearance: none;
      -webkit-appearance: none;
      width: 1.25rem;
      height: 1.25rem;
      min-width: 1.25rem;
      border: 2px solid var(--border);
      background: var(--surface2);
      border-radius: 3px;
      margin: 0;
      cursor: pointer;
      position: relative;
      flex-shrink: 0;
    }
    .subject-option input[type="checkbox"]:checked,
    .age-form input[type="checkbox"]:checked,
    input[type="checkbox"].box-style:checked {
      background: var(--border);
      border-color: var(--accent);
    }
    .subject-option input[type="checkbox"]:checked::after,
    .age-form input[type="checkbox"]:checked::after,
    input[type="checkbox"].box-style:checked::after {
      content: '‚úï';
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: bold;
      color: var(--text);
      line-height: 1;
    }
    .curriculum-options input[type="radio"],
    input[type="radio"].box-style {
      appearance: none;
      -webkit-appearance: none;
      width: 1.25rem;
      height: 1.25rem;
      min-width: 1.25rem;
      border: 2px solid var(--border);
      background: var(--surface2);
      border-radius: 3px;
      margin: 0;
      cursor: pointer;
      position: relative;
      flex-shrink: 0;
    }
    .curriculum-options input[type="radio"]:checked,
    input[type="radio"].box-style:checked {
      background: var(--border);
      border-color: var(--accent);
    }
    .curriculum-options input[type="radio"]:checked::after,
    input[type="radio"].box-style:checked::after {
      content: '‚úï';
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: bold;
      color: var(--text);
      line-height: 1;
    }
    .subject-option.disabled {
      opacity: 0.5;
      pointer-events: none;
    }
    .btn {
      width: 100%;
      padding: 0.9rem;
      font-size: 1rem;
      font-weight: 600;
      font-family: inherit;
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s;
    }
    .btn:hover {
      background: var(--border);
      border-color: var(--accent);
    }
    .btn:active {
      transform: scale(0.98);
    }

    /* Game ‚Äî stats bar on top, fat bar so all stats visible in one glance */
    .game-screen-inner {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      width: 100%;
    }
    .score-bar {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: stretch;
      gap: clamp(0.75rem, 3vw, 1.5rem);
      padding: clamp(1.25rem, 5vw, 2rem) clamp(1rem, 4vw, 2rem);
      margin-bottom: clamp(1rem, 4vw, 1.5rem);
      font-size: clamp(1.65rem, 4.5vw, 2rem);
      color: var(--text-muted);
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      flex-shrink: 0;
      min-height: 5rem;
    }
    .score-bar .stat {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.2em;
      min-width: 3.5rem;
      flex: 1 1 auto;
    }
    .score-bar .stat-emoji {
      font-size: 1.15em;
      line-height: 1;
    }
    .score-bar .stat-value {
      color: var(--text);
      font-weight: 600;
      font-family: 'JetBrains Mono', monospace;
    }
    .score-bar .stat-label {
      font-size: 0.48em;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      white-space: nowrap;
    }
    .score-bar .timer-warn {
      color: #b8860b;
    }
    .score-bar .timer-warn .stat-value {
      color: #b8860b;
    }
    .game-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    /* Emoji reaction ‚Äî between stats bar and question, shows 2‚Äì3s then fades (same height as old stickman) */
    .emoji-reaction-wrap {
      display: none;
      justify-content: center;
      align-items: center;
      min-height: 100px;
      height: 100px;
      margin-bottom: 1rem;
      padding: 0.5rem;
    }
    .emoji-reaction-wrap.show {
      display: flex;
      animation: emojiReactionIn 0.35s ease-out forwards;
    }
    .emoji-reaction-wrap.hide {
      animation: emojiReactionOut 0.35s ease-in forwards;
    }
    .emoji-reaction-wrap .emoji-char {
      font-size: 100px;
      line-height: 1;
      user-select: none;
      animation: emojiPop 0.5s ease-out;
    }
    @keyframes emojiReactionIn {
      from { opacity: 0; transform: scale(0.6); }
      to { opacity: 1; transform: scale(1); }
    }
    @keyframes emojiReactionOut {
      from { opacity: 1; transform: scale(1); }
      to { opacity: 0; transform: scale(0.85); }
    }
    @keyframes emojiPop {
      0% { transform: scale(0.7); }
      60% { transform: scale(1.08); }
      100% { transform: scale(1); }
    }

    /* Emoji bump when stat updates */
    .score-bar .stat .stat-emoji {
      display: inline-block;
      transition: transform 0.15s ease-out;
    }
    .score-bar .stat.bump .stat-emoji {
      animation: emojiBump 0.45s ease-out;
    }
    @keyframes emojiBump {
      0% { transform: scale(1); }
      30% { transform: scale(1.35); }
      55% { transform: scale(0.92); }
      80% { transform: scale(1.08); }
      100% { transform: scale(1); }
    }

    .question-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: clamp(1.5rem, 5vw, 2.5rem);
      margin-bottom: clamp(1rem, 4vw, 1.5rem);
      min-width: min(95vw, 42rem);
      max-width: min(95vw, 48rem);
    }
    .diagram-container {
      margin-bottom: 1rem;
      padding: 1rem;
      background: var(--surface2);
      border-radius: 8px;
    }
    .diagram-container .bar-chart-wrap {
      display: flex;
      gap: 0.5rem;
      align-items: stretch;
    }
    .diagram-container .bar-chart-y-axis {
      display: flex;
      flex-direction: column-reverse;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--text-muted);
      font-family: 'JetBrains Mono', monospace;
      padding-right: 0.5rem;
    }
    .diagram-container .bar-chart {
      display: flex;
      align-items: flex-end;
      gap: 0.5rem;
      height: 120px;
      flex: 1;
    }
    .diagram-container .bar-wrap {
      flex: 1;
      min-width: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .diagram-container .bar {
      width: 100%;
      min-height: 4px;
      background: var(--accent);
      border-radius: 4px 4px 0 0;
      transition: height 0.2s;
    }
    .diagram-container .bar-value {
      font-size: 0.8rem;
      font-family: 'JetBrains Mono', monospace;
      color: var(--text);
      margin-top: 0.25rem;
    }
    .diagram-container .bar-chart-labels {
      display: flex;
      justify-content: space-around;
      margin-top: 0.5rem;
      font-size: 0.85rem;
      color: var(--text-muted);
    }
    .diagram-container .pie-row {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .diagram-container .pie-legend {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }
    .diagram-container .pie-legend span {
      font-size: 0.9rem;
      color: var(--text-muted);
    }
    .question-text {
      font-family: 'JetBrains Mono', monospace;
      font-size: clamp(1.4rem, 5.5vw, 1.95rem);
      font-weight: 600;
      text-align: center;
      margin-bottom: 1.5rem;
      word-break: break-word;
      line-height: 1.4;
    }
    .answer-form {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }
    .answer-form input {
      flex: 1;
      min-width: 0;
      padding: 0.85rem 1rem;
      font-size: 1.1rem;
      font-family: 'JetBrains Mono', monospace;
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
    }
    .answer-form input:focus {
      outline: none;
      border-color: var(--accent);
    }
    .answer-form .btn {
      width: auto;
      min-width: 100px;
    }

    .next-btn-wrap {
      margin-top: 1rem;
      display: none;
    }
    .next-btn-wrap.show { display: block; }
    .next-btn-wrap .btn {
      width: 100%;
    }

    .feedback {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      font-size: 0.95rem;
      display: none;
    }
    .feedback.show { display: block; }
    .feedback.correct {
      background: var(--correct);
      border: 1px solid var(--border);
      color: var(--text);
    }
    .feedback.wrong {
      background: var(--wrong);
      border: 1px solid var(--border);
      color: var(--text-muted);
    }
    .feedback .joke {
      margin-top: 0.5rem;
      font-style: italic;
      color: var(--text-muted);
    }
    .feedback .explanation {
      margin-top: 0.75rem;
      padding-top: 0.75rem;
      border-top: 1px solid var(--border);
      font-size: 0.9rem;
      color: var(--text-muted);
      font-family: 'JetBrains Mono', monospace;
    }

    .answer-form.hidden {
      display: none;
    }
    .answer-choices { display: flex; flex-wrap: wrap; gap: 0.75rem; margin-bottom: 0.75rem; }
    .answer-choices .choice-btn { padding: 0.85rem 1.25rem; font-size: 1rem; min-width: 100px; }
    .answer-input-wrap { display: flex; gap: 0.75rem; flex-wrap: wrap; flex: 1; min-width: 0; }

    /* Results */
    .results-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
    }
    .results-card h2 {
      font-size: 1.35rem;
      margin-bottom: 0.5rem;
    }
    .results-card .score-display {
      font-family: 'JetBrains Mono', monospace;
      font-size: 2rem;
      font-weight: 600;
      margin: 1rem 0;
      color: var(--accent);
    }
    .results-card .btn {
      margin-top: 1.5rem;
    }

    /* Scoreboard ‚Äî diagram-style table, wider, compact, readable */
    .scoreboard-wrapper {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }
    .scoreboard-box {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1rem 1.25rem;
      margin: 1rem auto;
      width: 100%;
      max-width: min(98vw, 2400px);
      min-width: min(95vw, 1200px);
      box-sizing: border-box;
    }
    .age-screen .scoreboard-wrapper,
    .results-screen .scoreboard-wrapper {
      justify-content: center;
    }
    .scoreboard-box h3 {
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: 0.6rem;
      color: var(--text-muted);
    }
    .scoreboard-list {
      font-size: 0.8rem;
      max-height: 420px;
      min-height: 280px;
      overflow: auto;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: var(--surface2);
    }
    .scoreboard-row {
      display: grid;
      grid-template-columns: 2.5rem minmax(5rem, 1fr) 3rem minmax(6.5rem, 1.2fr) 4rem minmax(4.5rem, 1fr) minmax(5rem, 1.2fr) minmax(6rem, 1.5fr);
      gap: 0 0.75rem;
      align-items: center;
      padding: 0.4rem 0.6rem;
      border-bottom: 1px solid var(--border);
      color: var(--text-muted);
    }
    .scoreboard-row:last-child { border-bottom: none; }
    .scoreboard-row.rank-1 { color: var(--accent); font-weight: 600; background: rgba(255,255,255,0.04); }
    .scoreboard-row.scoreboard-header { background: var(--border); font-weight: 600; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.04em; }
    .scoreboard-row .rank { font-family: 'JetBrains Mono', monospace; text-align: center; }
    .scoreboard-row .name { overflow-wrap: break-word; word-break: break-word; min-width: 0; }
    .scoreboard-row .age { font-family: 'JetBrains Mono', monospace; text-align: center; }
    .scoreboard-row .grade { font-family: 'JetBrains Mono', monospace; text-align: center; white-space: nowrap; min-width: 0; }
    .scoreboard-row .score { font-family: 'JetBrains Mono', monospace; text-align: center; }
    .scoreboard-row .avg { font-family: 'JetBrains Mono', monospace; text-align: center; white-space: nowrap; min-width: 0; }
    .scoreboard-row .language { overflow-wrap: break-word; word-break: break-word; min-width: 0; }
    .scoreboard-row .subjects { overflow-wrap: break-word; word-break: break-word; min-width: 0; }
    .scoreboard-empty { color: var(--text-muted); font-size: 0.9rem; padding: 0.5rem 0; }
    .scoreboard-row.scoreboard-separator { background: rgba(255,255,255,0.03); font-weight: 600; color: var(--text-muted); padding: 0.5rem 0.6rem; }
    .scoreboard-row.scoreboard-your-row { background: rgba(255,255,255,0.02); }
    .scoreboard-view-label { display: block; font-size: 0.85rem; color: var(--text-muted); margin-bottom: 0.35rem; }
    .scoreboard-locale-select { width: 100%; padding: 0.5rem; font-size: 0.9rem; background: var(--surface2); border: 1px solid var(--border); border-radius: 8px; color: var(--text); margin-bottom: 0.75rem; }

    /* Results summary (Q&A list before scoreboard) */
    .results-summary {
      margin-top: 1.5rem;
      text-align: left;
    }
    .results-summary h3 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
      color: var(--text-muted);
    }
    .summary-list {
      max-height: 280px;
      overflow-y: auto;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 0.75rem 1rem;
      font-size: 0.9rem;
    }
    .summary-item {
      padding: 0.6rem 0;
      border-bottom: 1px solid var(--border);
      color: var(--text);
    }
    .summary-item:last-child { border-bottom: none; }
    .summary-item .q-text { font-weight: 500; margin-bottom: 0.25rem; }
    .summary-item .q-answers { color: var(--text-muted); font-size: 0.85rem; }
    .summary-item.correct .q-answers { color: var(--correct); }
    .summary-item.wrong .q-answers { color: var(--wrong); }
    .summary-item .q-explanation { margin-top: 0.35rem; font-size: 0.8rem; color: var(--text-muted); font-style: italic; }
    .results-scoreboard-wrap { margin-top: 1rem; }
    #show-scoreboard-btn { margin-top: 1rem; }

    /* Creator credit ‚Äî same size as Game over, not bold, bottom left */
    .creator-credit {
      position: fixed;
      bottom: 0;
      left: 0;
      padding: 0.75rem 1rem;
      font-size: 1.75rem;
      font-weight: 400;
      color: var(--text-muted);
      z-index: 100;
      pointer-events: none;
      visibility: visible;
    }

    /* Full-screen celebration overlays */
    .celebration-overlay {
      position: fixed;
      inset: 0;
      z-index: 100;
      pointer-events: none;
    }
    .celebration-overlay canvas {
      display: block;
      width: 100%;
      height: 100%;
    }
    .confetti-piece {
      position: fixed;
      width: 10px;
      height: 10px;
      pointer-events: none;
      z-index: 100;
    }

    /* Back button - always visible, top right */
    .back-btn {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 50;
      padding: 0.6rem 1rem;
      font-size: 0.95rem;
      font-weight: 600;
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: background 0.2s, border-color 0.2s;
    }
    .back-btn:hover { background: var(--border); border-color: var(--accent); }
    .back-btn:active { transform: scale(0.98); }

    /* Mode selection buttons */
    .mode-buttons { display: flex; flex-direction: column; gap: 0.75rem; }
    .mode-buttons .btn { min-height: 3rem; font-size: 1.1rem; }

    /* Learn/Practice screen */
    .learn-screen-inner { position: relative; min-height: 100vh; padding-top: 3rem; }
    .learn-toc {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      max-height: 40vh;
      overflow-y: auto;
    }
    .learn-toc h2 { font-size: 1.1rem; margin-bottom: 1rem; color: var(--text-muted); }
    .learn-toc-list { list-style: none; }
    .learn-toc-list li {
      padding: 0.4rem 0;
      border-bottom: 1px solid var(--border);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      gap: 1rem;
    }
    .learn-toc-list li:last-child { border-bottom: none; }
    .learn-toc-list li:hover { color: var(--accent); }
    .learn-content { padding: 1rem 0 4rem; }
    .learn-section {
      margin-bottom: 2.5rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid var(--border);
    }
    .learn-section:last-child { border-bottom: none; }
    .learn-section h3 { font-size: 1.25rem; margin-bottom: 0.75rem; color: var(--accent); }
    .learn-section p { line-height: 1.75; margin-bottom: 0.75rem; color: var(--text); font-size: 1rem; }
    .learn-section .learn-images { display: flex; flex-wrap: wrap; gap: 1rem; margin: 1rem 0; }
    .learn-section .learn-images img { max-width: 100%; max-height: 200px; border-radius: 8px; border: 1px solid var(--border); }
    .learn-section .learn-sources { font-size: 0.8rem; color: var(--text-muted); font-style: italic; margin-top: 1rem; }
    .learn-section .page-num { font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem; }
  </style>
</head>
<body>
  <div class="equation-bg" aria-hidden="true">
    <span class="eq1">E = mc¬≤</span>
    <span class="eq2">a¬≤ + b¬≤ = c¬≤</span>
    <span class="eq3">x = (‚àíb ¬± ‚àö(b¬≤‚àí4ac)) / 2a</span>
    <span class="eq4">A = œÄr¬≤</span>
    <span class="eq5">e^(iœÄ) + 1 = 0</span>
    <span class="eq6">F = ma</span>
    <span class="eq7">sin¬≤Œ∏ + cos¬≤Œ∏ = 1</span>
    <span class="eq8">d = ‚àö((x‚ÇÇ‚àíx‚ÇÅ)¬≤ + (y‚ÇÇ‚àíy‚ÇÅ)¬≤)</span>
    <span class="eq9">S = ut + ¬Ωat¬≤</span>
    <span class="eq10">PV = nRT</span>
    <span class="eq11">V = IR</span>
    <span class="eq12">KE = ¬Ωmv¬≤</span>
    <span class="eq13">v = Œªf</span>
    <span class="eq14">C = 2œÄr</span>
    <span class="eq15">y = mx + b</span>
    <span class="eq16">p = mv</span>
    <span class="eq17">W = Fd</span>
    <span class="eq18">E = hf</span>
    <span class="eq19">V = ‚ÖìœÄr¬≤h</span>
    <span class="eq20">a¬≤ ‚àí b¬≤ = (a+b)(a‚àíb)</span>
  </div>

  <button type="button" id="back-btn" class="back-btn" aria-label="Go back" style="display: none;">
    ‚Üê <span data-i18n="btn_back">Back</span>
  </button>

  <div class="container">
    <!-- Language selection (first screen) -->
    <section id="language-screen" class="screen active">
      <h1 data-i18n="title_language">Choose your language</h1>
      <p class="subtitle" data-i18n="subtitle_language">Select the language for the game.</p>
      <div class="age-form">
        <div class="language-buttons">
          <button type="button" class="btn btn-lang" data-lang="de">Deutsch</button>
          <button type="button" class="btn btn-lang" data-lang="en">English</button>
        </div>
      </div>
    </section>

    <!-- English variant (UK / USA) ‚Äì only when English chosen -->
    <section id="english-variant-screen" class="screen">
      <h1 data-i18n="title_english_variant">Which English?</h1>
      <p class="subtitle" data-i18n="subtitle_english_variant">Choose UK or US English and curriculum.</p>
      <div class="age-form">
        <div class="language-buttons">
          <button type="button" class="btn btn-variant" data-variant="UK">UK English</button>
          <button type="button" class="btn btn-variant" data-variant="USA">US English</button>
        </div>
      </div>
    </section>

    <!-- Curriculum selection (after language / English variant) -->
    <section id="curriculum-screen" class="screen">
      <h1 data-i18n="title_curriculum">School curriculum</h1>
      <p class="subtitle" data-i18n="subtitle_curriculum">Choose your school curriculum.</p>
      <form id="curriculum-form" class="age-form">
        <div id="curriculum-options" class="curriculum-options"></div>
        <p class="error" id="curriculum-error" role="alert"></p>
        <button type="submit" class="btn" data-i18n="btn_continue">Continue</button>
      </form>
    </section>

    <!-- Age gate -->
    <section id="age-screen" class="screen">
      <h1 id="age-screen-title" translate="no">Educational quiz by Isa Mian</h1>
      <p class="subtitle" data-i18n="subtitle_age">All information is from a reliable source!</p>
      <div class="scoreboard-wrapper">
        <div class="scoreboard-box">
          <h3 data-i18n="scoreboard_title">üèÜ Scoreboard ‚Äî beat the top to become #1</h3>
          <div id="scoreboard-start" class="scoreboard-list"></div>
        </div>
      </div>
      <form id="age-form" class="age-form" novalidate>
        <label for="player-name" data-i18n="label_name">Your name</label>
        <input type="text" id="player-name" name="name" autofocus maxlength="30" title="">
        <label for="age" data-i18n="label_age">How old are you?</label>
        <input type="number" id="age" name="age" min="8" max="99" title="">
        <p class="error" id="age-error" role="alert"></p>
        <button type="submit" class="btn" data-i18n="btn_continue">Continue</button>
      </form>
    </section>

    <!-- Subject selection -->
    <section id="subject-screen" class="screen">
      <h1 data-i18n="title_subjects">Choose subjects</h1>
      <p class="subtitle" data-i18n="subtitle_subjects">Pick which subjects you want to learn. You get 10 questions per subject. Maths from Grade 4; Chemistry, Biology, Physics, Geography, History, German, Musik, English from Grade 5/6. Berlin curriculum.</p>
      <form id="subject-form" class="age-form">
        <label class="subject-option">
          <input type="checkbox" name="subjects" value="maths" checked>
          <span data-i18n="subject_maths">Maths</span>
        </label>
        <label class="subject-option subject-grade7" data-grade7>
          <input type="checkbox" name="subjects" value="chemistry">
          <span data-i18n="subject_chemistry">Chemistry</span>
        </label>
        <label class="subject-option subject-grade7" data-grade7>
          <input type="checkbox" name="subjects" value="biology">
          <span data-i18n="subject_biology">Biology</span>
        </label>
        <label class="subject-option subject-grade7" data-grade7>
          <input type="checkbox" name="subjects" value="physics">
          <span data-i18n="subject_physics">Physics</span>
        </label>
        <label class="subject-option subject-grade5" data-grade5>
          <input type="checkbox" name="subjects" value="astronomy">
          <span data-i18n="subject_astronomy">Astronomy</span>
        </label>
        <label class="subject-option subject-grade5" data-grade5>
          <input type="checkbox" name="subjects" value="geography">
          <span data-i18n="subject_geography">Geography</span>
        </label>
        <label class="subject-option subject-grade5" data-grade5>
          <input type="checkbox" name="subjects" value="history">
          <span data-i18n="subject_history">History</span>
        </label>
        <label class="subject-option subject-grade5" data-grade5>
          <input type="checkbox" name="subjects" value="german">
          <span data-i18n="subject_german">German</span>
        </label>
        <label class="subject-option subject-grade5" data-grade5>
          <input type="checkbox" name="subjects" value="musik">
          <span data-i18n="subject_musik">Musik</span>
        </label>
        <label class="subject-option subject-grade5" data-grade5>
          <input type="checkbox" name="subjects" value="english">
          <span data-i18n="subject_english">English</span>
        </label>
        <p class="error" id="subject-error" role="alert"></p>
        <button type="submit" class="btn" data-i18n="btn_choose_mode">Continue</button>
      </form>
    </section>

    <!-- Mode selection: Quiz / Learn (non-language subjects) -->
    <section id="mode-screen" class="screen">
      <h1 data-i18n="title_mode">Quiz or Learn?</h1>
      <p class="subtitle" data-i18n="subtitle_mode">Choose how you want to study your selected subjects.</p>
      <div class="mode-buttons age-form">
        <button type="button" id="btn-mode-quiz" class="btn" data-i18n="mode_quiz">üìù Quiz ‚Äî answer questions and score points</button>
        <button type="button" id="btn-mode-learn" class="btn" data-i18n="mode_learn">üìñ Learn ‚Äî read age-appropriate explanations of every topic</button>
      </div>
    </section>

    <!-- Mode selection: Quiz / Info texts / Dictionary / Vocabulary (when language subject selected) -->
    <section id="mode-lang-screen" class="screen">
      <h1 data-i18n="title_mode_lang">Quiz or Info texts?</h1>
      <p class="subtitle" data-i18n="subtitle_mode_lang">Choose how you want to study your selected language subjects.</p>
      <div class="mode-buttons age-form">
        <button type="button" id="btn-mode-lang-quiz" class="btn" data-i18n="mode_quiz">üìù Quiz ‚Äî answer questions and score points</button>
        <button type="button" id="btn-mode-lang-info" class="btn" data-i18n="mode_info_texts">üìñ Info texts search ‚Äî read explanations in your language</button>
      </div>
    </section>

    <!-- Learn content -->
    <section id="learn-screen" class="screen">
      <div class="learn-screen-inner">
        <h1 id="learn-title" data-i18n="learn_title">Learning content</h1>
        <p class="subtitle" id="learn-subtitle" data-i18n="learn_subtitle">Age-appropriate explanations for your selected subjects.</p>
        <div class="learn-toc">
          <h2 data-i18n="learn_toc_heading">Summary ‚Äî Table of contents</h2>
          <ul id="learn-toc-list" class="learn-toc-list"></ul>
        </div>
        <div id="learn-content" class="learn-content"></div>
      </div>
    </section>

    <!-- Game -->
    <section id="game-screen" class="screen">
      <div class="game-screen-inner">
        <div class="score-bar">
          <div class="stat" id="stat-question">
            <span class="stat-emoji" aria-hidden="true">üìù</span>
            <span class="stat-label" data-i18n="stat_question">Question</span>
            <span class="stat-value"><span id="q-num">1</span>/<span id="q-total">10</span></span>
          </div>
          <div class="stat" id="stat-timer">
            <span class="stat-emoji" aria-hidden="true">‚è±Ô∏è</span>
            <span class="stat-label" data-i18n="stat_time">Time</span>
            <span class="stat-value" id="question-timer">0:00</span>
          </div>
          <div class="stat" id="stat-avg">
            <span class="stat-emoji" aria-hidden="true">üìä</span>
            <span class="stat-label" data-i18n="stat_avg">Avg</span>
            <span class="stat-value" id="avg-time">‚Äî</span>
          </div>
          <div class="stat" id="stat-score">
            <span class="stat-emoji" aria-hidden="true">üèÜ</span>
            <span class="stat-label" data-i18n="stat_score">Score</span>
            <span class="stat-value" id="score">0</span>
          </div>
          <div class="stat" id="stat-lives">
            <span class="stat-emoji" aria-hidden="true">‚ù§Ô∏è</span>
            <span class="stat-label" data-i18n="stat_lives">Lives</span>
            <span class="stat-value" id="lives">3</span>
          </div>
          <div class="stat" id="stat-mistakes">
            <span class="stat-emoji" aria-hidden="true">‚úó</span>
            <span class="stat-label" data-i18n="stat_err">Err</span>
            <span class="stat-value" id="mistakes-stat">0/10</span>
          </div>
        </div>
        <div class="game-content">
          <div id="emoji-reaction-wrap" class="emoji-reaction-wrap" aria-hidden="true">
            <span class="emoji-char" id="emoji-reaction-char"></span>
          </div>
      <div class="question-card">
        <div id="diagram-container" class="diagram-container" style="display: none;"></div>
        <p class="question-text" id="question"></p>
        <form id="answer-form" class="answer-form">
          <div id="answer-choices" class="answer-choices" style="display: none;"></div>
          <div class="answer-input-wrap">
            <input type="text" id="answer" inputmode="decimal" data-i18n-placeholder="placeholder_answer" placeholder="Your answer" autocomplete="off">
            <button type="submit" class="btn" data-i18n="btn_check">Check</button>
          </div>
        </form>
        <div id="feedback" class="feedback" role="status"></div>
        <div id="next-btn-wrap" class="next-btn-wrap">
          <button type="button" id="next-question-btn" class="btn" data-i18n="btn_next_question">Next question</button>
        </div>
      </div>
        </div>
      </div>
    </section>

    <!-- Results -->
    <section id="results-screen" class="screen">
      <h1 data-i18n="title_game_over">Game over</h1>
      <p class="subtitle" data-i18n="subtitle_results">Here‚Äôs how you did.</p>
      <div class="results-card">
        <h2 id="results-title" data-i18n="results_title">Your score</h2>
        <p class="score-display" id="final-score">0/10</p>
        <p class="score-display" id="final-mistakes"></p>
        <p class="score-display game-over-msg" id="game-over-msg" style="display: none;"></p>
        <div class="results-summary" id="results-summary">
          <h3 data-i18n="summary_title">Summary ‚Äî questions and answers</h3>
          <div id="results-summary-list" class="summary-list"></div>
          <button type="button" id="show-scoreboard-btn" class="btn" data-i18n="btn_continue_scoreboard">Continue to Scoreboard</button>
        </div>
        <div class="results-scoreboard-wrap" id="results-scoreboard-wrap" style="display: none;">
          <div class="scoreboard-wrapper">
            <div class="scoreboard-box" style="text-align: left;">
              <h3 data-i18n="scoreboard_heading">üèÜ Scoreboard</h3>
              <div id="scoreboard-results" class="scoreboard-list"></div>
            </div>
          </div>
        </div>
        <button type="button" id="play-again" class="btn" style="margin-top: 1rem;" data-i18n="btn_play_again">Play again</button>
      </div>
    </section>
  </div>

  <div class="creator-credit" translate="no">Educational quiz by Isa Mian</div>

  <div id="celebration-overlay" class="celebration-overlay" aria-hidden="true" style="display: none;">
    <canvas id="celebration-canvas"></canvas>
  </div>

  <script>
    const JOKES = [
      "Better luck next time",
      "But hey, at least you tried‚Ä¶sort of",
      "gg",
      "Are you trying to confuse me?",
      "I forgive you this time",
      "Close‚Ä¶but no snack for you this time",
      "Do or do not. There is no try.",
      "We're in an age where humans get dumber and dumber",
      "You are lucky that I did not tell Duo!",
      "I sense delusion is strong with this one",
      "Infinite minus aura"
    ];

    const SYMBOLS = [
      { op: '+', label: '+', fn: (a, b) => a + b },
      { op: '-', label: '‚àí', fn: (a, b) => a - b },
      { op: '*', label: '√ó', fn: (a, b) => a * b },
      { op: '/', label: '√∑', fn: (a, b) => a / b },
      { op: '**', label: '^', fn: (a, b) => Math.pow(a, b) }
    ];

    const QUESTIONS_PER_SUBJECT = 10;
    const MIN_AGE = 8;
    const MAX_AGE = 99;

    /**
     * Age ‚Üí mathschoolbook grade mapping (Berliner Rahmenlehrpl√§ne aligned).
     * Beyond highest school grade (12‚Äì13) ‚Üí university-level maths.
     * Age 8‚Äì9: Grade 4 | 10‚Äì11: Grade 5 | 11‚Äì12: Grade 6 | 12‚Äì13: Grade 7
     * 13‚Äì14: Grade 8 | 14‚Äì15: Grade 9 | 15‚Äì16: Grade 10 | 16‚Äì17: Grade 11 | 17‚Äì18: Grade 12
     * 18+: University books
     */
    function getGradeFromAge(age) {
      if (age == null || age < 8) return 4;
      if (age >= 19) return 'university';
      if (age >= 18) return 12;  // 17‚Äì18
      if (age >= 17) return 11;  // 16‚Äì17
      if (age >= 16) return 10;  // 15‚Äì16
      if (age >= 15) return 9;   // 14‚Äì15
      if (age >= 14) return 8;   // 13‚Äì14
      if (age >= 12) return 7;   // 12‚Äì13
      if (age >= 11) return 6;   // 11‚Äì12
      if (age >= 10) return 5;   // 10‚Äì11
      if (age >= 8) return 4;    // 8‚Äì9
      return 4;
    }

    function getCurriculumConfig(age) {
      if (age == null || age < 8) age = 8;
      const grade = getGradeFromAge(age);

      const trigAndCalculus = (grade === 'university' || grade >= 9);  // after grade 9/10
      const stats = (grade === 'university' || grade >= 5);  // grade 5 onwards
      const statsIncreased = (grade === 'university' || grade >= 8);  // after grade 7
      const rootsBasic = (grade === 'university' || grade >= 7);  // after grade 6 (roots after grade 7)
      const rootsIncreased = (grade === 'university' || grade >= 8);  // after grade 7
      const baseAdvanced = {
        advanced: true,
        sqrtMax: rootsIncreased ? (grade === 'university' ? 25 : Math.min(8 + grade, 20)) : (rootsBasic ? 10 : 0),
        cbrtMax: rootsIncreased ? (grade === 'university' ? 15 : Math.min(5 + grade, 12)) : (rootsBasic ? 5 : 0),
        algebraMax: (grade === 'university' || grade >= 8) ? (grade === 'university' ? 15 : Math.min(5 + grade, 12)) : 0,
        trig: trigAndCalculus,
        calculus: trigAndCalculus,
        stats,
        statsLevel: statsIncreased ? 'increased' : 'grade6',
        diagrams: true,
        geometry: true
      };
      const huge = 999999;  // no practical limit after grade 6/7
      // Above grade 5: only √ó and √∑ (no +, -, powers in arithmetic)
      if (grade === 'university') {
        return {
          symbols: ['*', '/'],
          maxNum: huge,
          powerMaxBase: 0,
          powerMaxExp: 0,
          ...baseAdvanced
        };
      }
      if (grade >= 12) {
        return {
          symbols: ['*', '/'],
          maxNum: huge,
          powerMaxBase: 0,
          powerMaxExp: 0,
          ...baseAdvanced
        };
      }
      if (grade >= 10) {
        return {
          symbols: ['*', '/'],
          maxNum: huge,
          powerMaxBase: 0,
          powerMaxExp: 0,
          ...baseAdvanced
        };
      }
      if (grade >= 8) {
        return {
          symbols: ['*', '/'],
          maxNum: huge,
          powerMaxBase: 0,
          powerMaxExp: 0,
          ...baseAdvanced
        };
      }
      if (grade >= 7) {
        return {
          symbols: ['*', '/'],
          maxNum: huge,
          powerMaxBase: 0,
          powerMaxExp: 0,
          ...baseAdvanced
        };
      }
      if (grade >= 6) {
        return {
          symbols: ['*', '/'],
          maxNum: 500,
          powerMaxBase: 0,
          powerMaxExp: 0,
          advanced: true,
          stats: true,
          statsLevel: 'grade6',
          diagrams: true,
          geometry: true
        };
      }
      if (grade >= 5) {
        return {
          symbols: ['+', '-', '*', '/'],
          maxNum: 100,
          powerMaxBase: 0,
          powerMaxExp: 0,
        advanced: true,
        stats: true,
        statsLevel: 'grade6',
        diagrams: true,
        geometry: true
        };
      }
      // Grade 4: 8‚Äì9
      return {
        symbols: ['+', '-', '*', '/'],
        maxNum: 50,
        multMax: 10,
        divMax: 10,
        powerMaxBase: 0,
        powerMaxExp: 0
      };
    }
    const STARTING_LIVES = 3;
    const MAX_SECONDS_PER_QUESTION = 3 * 60; // 3 minutes

    const SCOREBOARD_KEY = 'mathsGameScoreboard2';  // Changed to clear old usernames; 30-day expiry remains
    const MAX_LEADERBOARD = 30;

    var ALL_LOCALES = ['en_UK', 'en_USA', 'de'];
    var LOCALE_LABELS = { en_UK: 'English (UK)', en_USA: 'English (USA)', de: 'Deutsch' };
    /** Parent locale for fallback when a locale has no TRANSLATIONS block or missing key */
    var LOCALE_PARENT = { en_USA: 'en_UK' };
    /** Subject value that matches the chosen UI language ‚Äì available from age 8 onward */
    var LOCALE_TO_SUBJECT = { en_UK: 'english', en_USA: 'english', de: 'german' };

    /** Build age-appropriate explanations for Learn/Practice mode. Returns array of { heading, content, pageNum } */
    function buildExplanationsForSubject(subject, grade) {
      const gradeNum = grade === 'university' ? 13 : (typeof grade === 'number' ? grade : 4);
      const isYoung = gradeNum <= 5;
      const isOlder = gradeNum >= 8;
      const expl = [];
      let page = 1;

      var subjLabel = t('subject_' + subject.replace(/-/g, '_')) || subject;
      function add(h, c, minG, maxG, opts) {
        const mn = minG === 'uni' ? 13 : (minG || 4);
        const mx = maxG === 'uni' ? 99 : (maxG || 12);
        if (gradeNum >= mn && gradeNum <= mx) {
          const item = { heading: subjLabel + ': ' + h, content: c, pageNum: page++ };
          if (opts) {
            if (opts.images && opts.images.length) item.images = opts.images.slice(0, 2);
            if (opts.sources) item.sources = opts.sources;
          }
          expl.push(item);
        }
      }

      if (subject === 'maths') {
        add(t('e_add_what'), isYoung ? t('e_add_what_young') : t('e_add_what_old'), 4, 6, {
          images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png'],
          sources: t('e_sources_default')
        });
        add(t('e_add_single'), isYoung ? t('e_add_single_young') : t('e_add_single_old'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Addition.svg/200px-Addition.svg.png'], sources: t('e_sources_default') });
        add(t('e_add_two'), t('e_add_two_c'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png'], sources: t('e_sources_default') });
        add(t('e_carry'), t('e_carry_c'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Addition.svg/200px-Addition.svg.png'], sources: t('e_sources_default') });
        add(t('e_sub_what'), isYoung ? t('e_sub_what_young') : t('e_sub_what_old'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png'], sources: t('e_sources_default') });
        add(t('e_sub_no_borrow'), t('e_sub_no_borrow_c'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Subtraction.svg/200px-Subtraction.svg.png'], sources: t('e_sources_default') });
        add(t('e_sub_borrow'), t('e_sub_borrow_c'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Subtraction.svg/200px-Subtraction.svg.png'], sources: t('e_sources_default') });
        add(t('e_mult_what'), isYoung ? t('e_mult_what_young') : t('e_mult_what_old'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Addition.svg/200px-Addition.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Multiplication_symbol.svg/120px-Multiplication_symbol.svg.png'], sources: t('e_sources_default') });
        add(t('e_times'), t('e_times_c'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Multiplication_symbol.svg/120px-Multiplication_symbol.svg.png'], sources: t('e_sources_default') });
        add(t('e_mult10'), t('e_mult10_c'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png'], sources: t('e_sources_default') });
        add(t('e_div_what'), isYoung ? t('e_div_what_young') : t('e_div_what_old'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/2-4_Fraction.svg/220px-2-4_Fraction.svg.png'], sources: t('e_sources_default') });
        add(t('e_div_rem'), t('e_div_rem_c'), 4, 6, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/2-4_Fraction.svg/220px-2-4_Fraction.svg.png'], sources: t('e_sources_default') });
        add(t('e_order'), t('e_order_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Multiplication_symbol.svg/120px-Multiplication_symbol.svg.png'], sources: t('e_sources_default') });
        add(t('e_frac_what'), isYoung ? t('e_frac_what_young') : t('e_frac_what_old'), 5, 8, {
          images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/2-4_Fraction.svg/220px-2-4_Fraction.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/One-half.svg/220px-One-half.svg.png'],
          sources: t('e_sources_default')
        });
        add(t('e_equiv_frac'), t('e_equiv_frac_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/2-4_Fraction.svg/220px-2-4_Fraction.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/One-half.svg/220px-One-half.svg.png'], sources: t('e_sources_default') });
        add(t('e_add_frac_same'), t('e_add_frac_same_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/2-4_Fraction.svg/220px-2-4_Fraction.svg.png'], sources: t('e_sources_default') });
        add(t('e_add_frac_diff'), t('e_add_frac_diff_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/One-half.svg/220px-One-half.svg.png'], sources: t('e_sources_default') });
        add(t('e_decimals'), t('e_decimals_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Decimal-fraction.svg/300px-Decimal-fraction.svg.png'], sources: t('e_sources_default') });
        add(t('e_dec_add'), t('e_dec_add_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Decimal-fraction.svg/300px-Decimal-fraction.svg.png'], sources: t('e_sources_default') });
        add(t('e_pct'), t('e_pct_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/PieChartFraction_OneFourth.svg/200px-PieChartFraction_OneFourth.svg.png'], sources: t('e_sources_default') });
        add(t('e_mean'), t('e_mean_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Bar_chart_comparison.svg/300px-Bar_chart_comparison.svg.png'], sources: t('e_sources_default') });
        add(t('e_median'), t('e_median_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Bar_chart_comparison.svg/300px-Bar_chart_comparison.svg.png'], sources: t('e_sources_default') });
        add(t('e_bar'), t('e_bar_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Bar_chart_comparison.svg/300px-Bar_chart_comparison.svg.png'], sources: t('e_sources_default') });
        add(t('e_pie_chart'), t('e_pie_chart_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/PieChartFraction_OneFourth.svg/200px-PieChartFraction_OneFourth.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Pie_chart_75-25.svg/200px-Pie_chart_75-25.svg.png'], sources: t('e_sources_default') });
        add(t('e_data_table'), t('e_data_table_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Bar_chart_comparison.svg/300px-Bar_chart_comparison.svg.png'], sources: t('e_sources_default') });
        add(t('e_area_rect'), t('e_area_rect_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Unit_square.svg/200px-Unit_square.svg.png'], sources: t('e_sources_default') });
        add(t('e_perimeter'), t('e_perimeter_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Unit_square.svg/200px-Unit_square.svg.png'], sources: t('e_sources_default') });
        add(t('e_triangle_area'), t('e_triangle_area_c'), 6, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Right_triangle.svg/220px-Right_triangle.svg.png'], sources: t('e_sources_default') });
        add(t('e_third_angle'), t('e_third_angle_c'), 5, 8, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Right_triangle.svg/220px-Right_triangle.svg.png'], sources: t('e_sources_default') });
        add(t('e_box_volume'), t('e_box_volume_c'), 8, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Unit_square.svg/200px-Unit_square.svg.png'], sources: t('e_sources_default') });
        add(t('e_cube_root'), t('e_cube_root_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Radical_symbol.svg/120px-Radical_symbol.svg.png'], sources: t('e_sources_default') });
        add(t('e_sqrt'), t('e_sqrt_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Radical_symbol.svg/120px-Radical_symbol.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Unit_square.svg/200px-Unit_square.svg.png'], sources: t('e_sources_default') });
        add(t('e_algebra'), t('e_algebra_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png'], sources: t('e_sources_default') });
        add(t('e_powers'), t('e_powers_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Multiplication_symbol.svg/120px-Multiplication_symbol.svg.png'], sources: t('e_sources_default') });
        add(t('e_pythag'), t('e_pythag_c'), 8, 12, {
          images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Right_triangle.svg/220px-Right_triangle.svg.png'],
          sources: t('e_sources_default')
        });
        add(t('e_area_circle'), t('e_area_circle_c'), 7, 12, {
          images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Circle-withsegments.svg/200px-Circle-withsegments.svg.png'],
          sources: t('e_sources_default')
        });
        add(t('e_circum'), t('e_circum_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Circle-withsegments.svg/200px-Circle-withsegments.svg.png'], sources: t('e_sources_default') });
        add(t('e_trig'), t('e_trig_c'), 9, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Right_triangle.svg/220px-Right_triangle.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Unit_circle_angles.svg/220px-Unit_circle_angles.svg.png'], sources: t('e_sources_default') });
        add(t('e_quadratic'), t('e_quadratic_c'), 10, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Polynomialdeg2.svg/220px-Polynomialdeg2.svg.png'], sources: t('e_sources_default') });
        var imgNumLine = 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png';
        var imgFrac = 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/PieChartFraction_OneFourth.svg/200px-PieChartFraction_OneFourth.svg.png';
        var imgUnitSq = 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Unit_square.svg/200px-Unit_square.svg.png';
        var imgCircle = 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Circle-withsegments.svg/200px-Circle-withsegments.svg.png';
        var imgRadical = 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Radical_symbol.svg/120px-Radical_symbol.svg.png';
        var imgMult = 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Multiplication_symbol.svg/120px-Multiplication_symbol.svg.png';
        var imgAdd = 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Addition.svg/200px-Addition.svg.png';
        var imgSub = 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Subtraction.svg/200px-Subtraction.svg.png';
        var imgPie = 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/PieChartFraction_OneFourth.svg/200px-PieChartFraction_OneFourth.svg.png';
        for (let g = 4; g <= Math.min(12, gradeNum); g++) {
          add(tParam('e_practice', g), t('e_practice_c'), g, g, { images: [imgNumLine, imgUnitSq], sources: t('e_sources_default') });
        }
        for (let a = 1; a <= 12; a++) {
          for (let b = 1; b <= 12; b++) {
            if (gradeNum >= 4 && gradeNum <= 6) add(tParam('e_mult_ab', a, b), tParam('e_mult_ab_c', a, b, a*b), 4, 6, { images: [imgMult, imgNumLine], sources: t('e_sources_default') });
          }
        }
        const addPairs = [[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[12,13],[15,20],[20,25],[25,30],[30,40],[40,50]];
        addPairs.forEach(([a,b]) => { if (gradeNum >= 4 && gradeNum <= 6) add(tParam('e_add_ab', a, b), tParam('e_add_ab_c', a, b, a+b), 4, 6, { images: [imgNumLine, imgAdd], sources: t('e_sources_default') }); });
        const subPairs = [[5,2],[7,3],[10,4],[12,5],[15,7],[20,8],[25,10],[30,12],[50,25]];
        subPairs.forEach(([a,b]) => { if (gradeNum >= 4 && gradeNum <= 6) add(tParam('e_sub_ab', a, b), tParam('e_sub_ab_c', a, b, a-b), 4, 6, { images: [imgNumLine, imgSub], sources: t('e_sources_default') }); });
        for (let d = 2; d <= 12; d++) {
          for (let n = d; n <= d*12; n += d) {
            if (gradeNum >= 4 && gradeNum <= 6) add(tParam('e_div_ab', n, d), tParam('e_div_ab_c', n, d, n/d), 4, 6, { images: [imgFrac], sources: t('e_sources_default') });
          }
        }
        for (let p = 2; p <= 10; p++) {
          const pwStr = p + '¬π=' + p + ', ' + p + '¬≤=' + (p*p) + ', ' + p + '¬≥=' + (p*p*p) + (p<=5 ? ', ' + p + '‚Å¥=' + (p*p*p*p) : '');
          add(tParam('e_power_base', p), tParam('e_power_base_c', p, pwStr), 7, 10, { images: [imgMult, imgNumLine], sources: t('e_sources_default') });
        }
        for (let r = 2; r <= 20; r++) add(tParam('e_sqrt_n', r*r), tParam('e_sqrt_n_c', r*r, r), 7, 10, { images: [imgRadical, imgUnitSq], sources: t('e_sources_default') });
        for (let n = 1; n <= 20; n++) add(tParam('e_frac_1n', n), tParam('e_frac_1n_c', n, (1/n).toFixed(3)), 5, 8, { images: [imgFrac], sources: t('e_sources_default') });
        for (let pct = 10; pct <= 100; pct += 10) add(tParam('e_pct_n', pct), tParam('e_pct_n_c', pct, pct/100), 5, 8, { images: [imgPie], sources: t('e_sources_default') });
        for (let w = 2; w <= 15; w++) for (let h = 2; h <= 15; h++) if (w <= h) add(tParam('e_rect_wh', w, h), tParam('e_rect_wh_c', w, h, w*h), 5, 8, { images: [imgUnitSq], sources: t('e_sources_default') });
        for (let r = 1; r <= 15; r++) add(tParam('e_circle_r', r), tParam('e_circle_r_c', r, (3.14*r*r).toFixed(1), (2*3.14*r).toFixed(1)), 7, 10, { images: [imgCircle], sources: t('e_sources_default') });
        for (let x = 1; x <= 20; x++) add(tParam('e_alg_x', x), tParam('e_alg_x_c', x, 10-x), 7, 10, { images: [imgNumLine], sources: t('e_sources_default') });
      }

      if (subject === 'astronomy') {
        add(t('e_black_holes'), t('e_black_holes_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Black_Hole_Milkyway.jpg/280px-Black_Hole_Milkyway.jpg', 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Event_Horizon_Telescope_black_hole_image.jpg/200px-Event_Horizon_Telescope_black_hole_image.jpg'], sources: t('e_sources_default') });
        add(t('e_white_holes'), t('e_white_holes_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Black_Hole_Milkyway.jpg/280px-Black_Hole_Milkyway.jpg'], sources: t('e_sources_default') });
        add(t('e_wormholes'), t('e_wormholes_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Spacetime_curvature.png/280px-Spacetime_curvature.png'], sources: t('e_sources_default') });
        add(t('e_spacetime'), t('e_spacetime_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Spacetime_curvature.png/280px-Spacetime_curvature.png'], sources: t('e_sources_default') });
        add(t('e_speed_of_light'), t('e_speed_of_light_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/b/b4/The_Sun_by_the_Atmospheric_Imaging_Assembly_of_NASA%27s_Solar_Dynamics_Observatory_-_20100819.jpg/200px-The_Sun_by_the_Atmospheric_Imaging_Assembly_of_NASA%27s_Solar_Dynamics_Observatory_-_20100819.jpg'], sources: t('e_sources_default') });
        add(t('e_universe_grid'), t('e_universe_grid_c'), 8, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Cosmic_web_scheme.png/280px-Cosmic_web_scheme.png'], sources: t('e_sources_default') });
        add(t('e_gravity'), t('e_gravity_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Spacetime_curvature.png/280px-Spacetime_curvature.png'], sources: t('e_sources_default') });
        add(t('e_origin_christian'), t('e_origin_christian_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Cosmic_web_scheme.png/280px-Cosmic_web_scheme.png'], sources: t('e_sources_default') });
        add(t('e_origin_muslim'), t('e_origin_muslim_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Cosmic_web_scheme.png/280px-Cosmic_web_scheme.png'], sources: t('e_sources_default') });
        add(t('e_origin_secular'), t('e_origin_secular_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Cosmic_web_scheme.png/280px-Cosmic_web_scheme.png'], sources: t('e_sources_default') });
        add(t('e_origin_other'), t('e_origin_other_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Cosmic_web_scheme.png/280px-Cosmic_web_scheme.png'], sources: t('e_sources_default') });
        add(t('e_solar_system'), t('e_solar_system_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Planets2013.svg/400px-Planets2013.svg.png'], sources: t('e_sources_default') });
        add(t('e_mercury'), t('e_mercury_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Mercury_in_color_-_Prockter07_centered.jpg/200px-Mercury_in_color_-_Prockter07_centered.jpg'], sources: t('e_sources_default') });
        add(t('e_venus'), t('e_venus_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Venus-real_color.jpg/280px-Venus-real_color.jpg'], sources: t('e_sources_default') });
        add(t('e_earth'), t('e_earth_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Earth_Eastern_Hemisphere.jpg/280px-Earth_Eastern_Hemisphere.jpg'], sources: t('e_sources_default') });
        add(t('e_mars'), t('e_mars_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/OSIRIS_Mars_true_color.jpg/280px-OSIRIS_Mars_true_color.jpg'], sources: t('e_sources_default') });
        add(t('e_jupiter'), t('e_jupiter_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2b/Jupiter_and_its_shrunken_Great_Red_Spot.jpg/280px-Jupiter_and_its_shrunken_Great_Red_Spot.jpg'], sources: t('e_sources_default') });
        add(t('e_saturn'), t('e_saturn_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Saturn_during_Equinox.jpg/280px-Saturn_during_Equinox.jpg'], sources: t('e_sources_default') });
        add(t('e_uranus'), t('e_uranus_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Uranus2.jpg/200px-Uranus2.jpg'], sources: t('e_sources_default') });
        add(t('e_neptune'), t('e_neptune_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Neptune_Full.jpg/200px-Neptune_Full.jpg'], sources: t('e_sources_default') });
        add(t('e_sun'), t('e_sun_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/b/b4/The_Sun_by_the_Atmospheric_Imaging_Assembly_of_NASA%27s_Solar_Dynamics_Observatory_-_20100819.jpg/280px-The_Sun_by_the_Atmospheric_Imaging_Assembly_of_NASA%27s_Solar_Dynamics_Observatory_-_20100819.jpg'], sources: t('e_sources_default') });
        add(t('e_stars'), t('e_stars_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Black_Hole_Milkyway.jpg/280px-Black_Hole_Milkyway.jpg'], sources: t('e_sources_default') });
        add(t('e_far_galaxies'), t('e_far_galaxies_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Cosmic_web_scheme.png/280px-Cosmic_web_scheme.png'], sources: t('e_sources_default') });
        add(t('e_mars_terraforming'), t('e_mars_terraforming_c'), 8, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/OSIRIS_Mars_true_color.jpg/280px-OSIRIS_Mars_true_color.jpg'], sources: t('e_sources_default') });
        add(t('e_venus_terraforming'), t('e_venus_terraforming_c'), 8, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Venus-real_color.jpg/280px-Venus-real_color.jpg'], sources: t('e_sources_default') });
        add(t('e_extraterrestrial_life'), t('e_extraterrestrial_life_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Cosmic_web_scheme.png/280px-Cosmic_web_scheme.png'], sources: t('e_sources_default') });
        add(t('e_satellites'), t('e_satellites_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/ISS_after_STS-119_in_March_2009.jpg/280px-ISS_after_STS-119_in_March_2009.jpg'], sources: t('e_sources_default') });
        add(t('e_iss'), t('e_iss_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/ISS_after_STS-119_in_March_2009.jpg/280px-ISS_after_STS-119_in_March_2009.jpg'], sources: t('e_sources_default') });
        add(t('e_rockets'), t('e_rockets_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Space_Shuttle_Columbia_launching.jpg/280px-Space_Shuttle_Columbia_launching.jpg'], sources: t('e_sources_default') });
        add(t('e_moon_landing'), t('e_moon_landing_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Aldrin_Apollo_11_original.jpg/200px-Aldrin_Apollo_11_original.jpg'], sources: t('e_sources_default') });
      }

      if (subject === 'physics') {
        add(t('e_force'), isYoung ? t('e_force_young') : t('e_force_old'), 7, 'uni', {
          images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Newtons_cradle_animation_book.gif/200px-Newtons_cradle_animation_book.gif'],
          sources: t('e_sources_default')
        });
        add(t('e_energy'), t('e_energy_c'), 7, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Newtons_cradle_animation_book.gif/200px-Newtons_cradle_animation_book.gif', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png'], sources: t('e_sources_default') });
        add(t('e_speed'), t('e_speed_c'), 7, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png'], sources: t('e_sources_default') });
        add(t('e_fma'), t('e_fma_c'), 7, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Newtons_cradle_animation_book.gif/200px-Newtons_cradle_animation_book.gif'], sources: t('e_sources_default') });
        add(t('e_speed_formula'), t('e_speed_formula_c'), 7, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/440px-Number-line.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png'], sources: t('e_sources_default') });
        add(t('e_vuat'), t('e_vuat_c'), 8, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Number-line.svg/330px-Number-line.svg.png'], sources: t('e_sources_default') });
        add(t('e_work'), t('e_work_c'), 8, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Newtons_cradle_animation_book.gif/200px-Newtons_cradle_animation_book.gif'], sources: t('e_sources_default') });
        add(t('e_power_iv'), t('e_power_iv_c'), 8, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Simple_electrical_circuit.svg/220px-Simple_electrical_circuit.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Sinus_wave.svg/300px-Sinus_wave.svg.png'], sources: t('e_sources_default') });
        add(t('e_mc2'), t('e_mc2_c'), 9, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Albert_Einstein_Head.jpg/170px-Albert_Einstein_Head.jpg', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png'], sources: t('e_sources_default') });
        add(t('e_ke'), t('e_ke_c'), 8, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Newtons_cradle_animation_book.gif/200px-Newtons_cradle_animation_book.gif', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png'], sources: t('e_sources_default') });
        add(t('e_pe'), t('e_pe_c'), 8, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Newtons_cradle_animation_book.gif/200px-Newtons_cradle_animation_book.gif', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png'], sources: t('e_sources_default') });
        add(t('e_momentum'), t('e_momentum_c'), 9, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Newtons_cradle_animation_book.gif/200px-Newtons_cradle_animation_book.gif', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png'], sources: t('e_sources_default') });
        add(t('e_heat'), t('e_heat_c'), 9, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Phase_change_-_en.svg/280px-Phase_change_-_en.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Helium_atom_QM.svg/200px-Helium_atom_QM.svg.png'], sources: t('e_sources_default') });
        add(t('e_density'), t('e_density_c'), 8, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Phase_change_-_en.svg/280px-Phase_change_-_en.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Periodic_table.svg/300px-Periodic_table.svg.png'], sources: t('e_sources_default') });
        add(t('e_hooke'), t('e_hooke_c'), 9, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Sinus_wave.svg/300px-Sinus_wave.svg.png'], sources: t('e_sources_default') });
        add(t('e_pressure'), t('e_pressure_c'), 9, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Phase_change_-_en.svg/280px-Phase_change_-_en.svg.png'], sources: t('e_sources_default') });
        add(t('e_waves'), t('e_waves_c'), 9, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Sinus_wave.svg/300px-Sinus_wave.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Refraction_photo.png/280px-Refraction_photo.png'], sources: t('e_sources_default') });
        add(t('e_circuit'), t('e_circuit_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Simple_electrical_circuit.svg/220px-Simple_electrical_circuit.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Free_body_diagram.svg/200px-Free_body_diagram.svg.png'], sources: t('e_sources_default') });
        add(t('e_light'), t('e_light_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Refraction_photo.png/280px-Refraction_photo.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Sinus_wave.svg/300px-Sinus_wave.svg.png'], sources: t('e_sources_default') });
      }

      if (subject === 'chemistry') {
        add(t('e_atom'), isYoung ? t('e_atom_young') : t('e_atom_old'), 7, 'uni', {
          images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Helium_atom_QM.svg/200px-Helium_atom_QM.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Periodic_table.svg/400px-Periodic_table.svg.png'],
          sources: t('e_sources_default')
        });
        add(t('e_elements'), t('e_elements_c'), 7, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Periodic_table.svg/400px-Periodic_table.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Helium_atom_QM.svg/200px-Helium_atom_QM.svg.png'], sources: t('e_sources_default') });
        add(t('e_chem_rxn'), t('e_chem_rxn_c'), 7, 'uni', { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Helium_atom_QM.svg/200px-Helium_atom_QM.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Periodic_table.svg/300px-Periodic_table.svg.png'], sources: t('e_sources_default') });
        add(t('e_matter'), t('e_matter_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Phase_change_-_en.svg/280px-Phase_change_-_en.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Helium_atom_QM.svg/200px-Helium_atom_QM.svg.png'], sources: t('e_sources_default') });
      }

      if (subject === 'biology') {
        add(t('e_cells'), isYoung ? t('e_cells_young') : t('e_cells_old'), 7, 'uni', {
          images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Animal_cell_structure_en.svg/220px-Animal_cell_structure_en.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Plant_cell_structure-en.svg/280px-Plant_cell_structure-en.svg.png'],
          sources: t('e_sources_default')
        });
        add(t('e_photo'), t('e_photo_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Animal_cell_structure_en.svg/220px-Animal_cell_structure_en.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Plant_cell_structure-en.svg/280px-Plant_cell_structure-en.svg.png'], sources: t('e_sources_default') });
        add(t('e_body'), t('e_body_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Organ_systems.svg/300px-Organ_systems.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Animal_cell_structure_en.svg/220px-Animal_cell_structure_en.svg.png'], sources: t('e_sources_default') });
      }

      if (subject === 'geography') {
        add(t('e_maps'), t('e_maps_c'), 5, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Compass_rose_simple.svg/200px-Compass_rose_simple.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Earth_lights_large.jpg/280px-Earth_lights_large.jpg'], sources: t('e_sources_default') });
        add(t('e_continents'), t('e_continents_c'), 5, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Earth_lights_large.jpg/280px-Earth_lights_large.jpg', 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Compass_rose_simple.svg/200px-Compass_rose_simple.svg.png'], sources: t('e_sources_default') });
        add(t('e_climate'), t('e_climate_c'), 5, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Compass_rose_simple.svg/200px-Compass_rose_simple.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Earth_lights_large.jpg/280px-Earth_lights_large.jpg'], sources: t('e_sources_default') });
        add(t('e_federal_states'), t('e_federal_states_c'), 5, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Deutschland_Bundeslaender.svg/300px-Deutschland_Bundeslaender.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Earth_lights_large.jpg/200px-Earth_lights_large.jpg'], sources: t('e_sources_default') });
        add(t('e_countries_borders'), t('e_countries_borders_c'), 5, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Earth_lights_large.jpg/280px-Earth_lights_large.jpg', 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Compass_rose_simple.svg/200px-Compass_rose_simple.svg.png'], sources: t('e_sources_default') });
        add(t('e_directions_hemispheres'), t('e_directions_hemispheres_c'), 5, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Compass_rose_simple.svg/200px-Compass_rose_simple.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Earth_lights_large.jpg/200px-Earth_lights_large.jpg'], sources: t('e_sources_default') });
        add(t('e_time_zones'), t('e_time_zones_c'), 7, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Standard_World_Time_Zones.png/400px-Standard_World_Time_Zones.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Earth_lights_large.jpg/200px-Earth_lights_large.jpg'], sources: t('e_sources_default') });
      }

      if (subject === 'history') {
        add(t('e_homo_sapiens'), t('e_homo_sapiens_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Timeline.svg/400px-Timeline.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Globe_icon_2.svg/200px-Globe_icon_2.svg.png'], sources: t('e_sources_default') });
        add(t('e_history'), t('e_history_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Timeline.svg/400px-Timeline.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Globe_icon_2.svg/200px-Globe_icon_2.svg.png'], sources: t('e_sources_default') });
        add(t('e_timeline'), t('e_timeline_c'), 5, 10, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Timeline.svg/400px-Timeline.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Globe_icon_2.svg/200px-Globe_icon_2.svg.png'], sources: t('e_sources_default') });
        add(t('e_years_dates'), t('e_years_dates_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Timeline.svg/400px-Timeline.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Calendar_icon.svg/200px-Calendar_icon.svg.png'], sources: t('e_sources_default') });
        add(t('e_ancient_egypt'), t('e_ancient_egypt_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Great_Pyramid_of_Giza_from_north.jpg/280px-Great_Pyramid_of_Giza_from_north.jpg', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Cairo_National_Museum_-_Pharaoh_Mask.jpg/200px-Cairo_National_Museum_-_Pharaoh_Mask.jpg'], sources: t('e_sources_default') });
        add(t('e_ancient_civilizations'), t('e_ancient_civilizations_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Map_of_the_ancient_world.png/280px-Map_of_the_ancient_world.png'], sources: t('e_sources_default') });
        add(t('e_persian_empire'), t('e_persian_empire_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Achaemenid_Empire_500_BCE.png/280px-Achaemenid_Empire_500_BCE.png'], sources: t('e_sources_default') });
        add(t('e_chinese_dynasties'), t('e_chinese_dynasties_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Qin_Empire_210_BCE.png/280px-Qin_Empire_210_BCE.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Song-dynasty-map.png/200px-Song-dynasty-map.png'], sources: t('e_sources_default') });
        add(t('e_islamic_golden_age'), t('e_islamic_golden_age_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Islamic_Golden_Age.png/280px-Islamic_Golden_Age.png'], sources: t('e_sources_default') });
        add(t('e_black_death'), t('e_black_death_c'), 8, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Bubonic_plague_map_2.svg/280px-Bubonic_plague_map_2.svg.png'], sources: t('e_sources_default') });
        add(t('e_ottoman_empire'), t('e_ottoman_empire_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Ottoman_Empire_1481-1683.png/280px-Ottoman_Empire_1481-1683.png'], sources: t('e_sources_default') });
        add(t('e_inventions_history'), t('e_inventions_history_c'), 6, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Gutenberg_bible_Old_Testament_Epistles.jpg/200px-Gutenberg_bible_Old_Testament_Epistles.jpg'], sources: t('e_sources_default') });
        add(t('e_roman_empire'), t('e_roman_empire_c'), 7, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Roman_Empire_Trajan_117AD.png/280px-Roman_Empire_Trajan_117AD.png'], sources: t('e_sources_default') });
        add(t('e_renaissance'), t('e_renaissance_c'), 8, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Mona_Lisa,_by_Leonardo_da_Vinci,_from_C2RMF_retouched.jpg/200px-Mona_Lisa,_by_Leonardo_da_Vinci,_from_C2RMF_retouched.jpg'], sources: t('e_sources_default') });
        add(t('e_industrial_revolution'), t('e_industrial_revolution_c'), 8, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/Coal_mine_Britain.jpg/280px-Coal_mine_Britain.jpg'], sources: t('e_sources_default') });
        add(t('e_history_today'), t('e_history_today_c'), 8, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Timeline.svg/400px-Timeline.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Globe_icon_2.svg/200px-Globe_icon_2.svg.png'], sources: t('e_sources_default') });
      }

      if (['german','english'].indexOf(subject) !== -1) {
        add(t('e_grammar'), t('e_grammar_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/English_language.svg/200px-English_language.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Wikibooks-logo-en.svg/200px-Wikibooks-logo-en.svg.png'], sources: t('e_sources_default') });
        add(t('e_vocab'), t('e_vocab_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/English_language.svg/200px-English_language.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Wikibooks-logo-en.svg/200px-Wikibooks-logo-en.svg.png'], sources: t('e_sources_default') });
        add(t('e_reading'), t('e_reading_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/English_language.svg/200px-English_language.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Wikibooks-logo-en.svg/200px-Wikibooks-logo-en.svg.png'], sources: t('e_sources_default') });
        if (subject === 'german') add(t('e_german_grammar'), t('e_german_grammar_c'), 5, 12, { sources: 'Basic German (Schenke & Seago, Routledge); Grammatik mit Sinn und Verstand (Rug & Tomaszewski, Klett)' });
      }

      if (subject === 'musik') {
        add(t('e_rhythm'), t('e_rhythm_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Notes_64-256.svg/300px-Notes_64-256.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Treble_Clef.svg/150px-Treble_Clef.svg.png'], sources: t('e_sources_default') });
        add(t('e_notes'), t('e_notes_c'), 5, 12, { images: ['https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Treble_Clef.svg/150px-Treble_Clef.svg.png', 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Notes_64-256.svg/300px-Notes_64-256.svg.png'], sources: t('e_sources_default') });
      }

      return expl;
    }

    function showLearnContent() {
      const grade = getGradeFromAge(state.age);
      const subjects = state.subjects || ['maths'];
      const allSections = [];
      let pageNum = 1;

      subjects.forEach(subj => {
        const expl = buildExplanationsForSubject(subj, grade);
        expl.forEach(e => {
          allSections.push({
            ...e,
            subject: subj,
            pageNum: pageNum++
          });
        });
      });

      const tocList = document.getElementById('learn-toc-list');
      const contentEl = document.getElementById('learn-content');
      if (!tocList || !contentEl) return;

      tocList.innerHTML = '';
      contentEl.innerHTML = '';

      allSections.forEach((s, i) => {
        const li = document.createElement('li');
        li.innerHTML = '<span>' + escapeHtml(s.heading) + '</span><span>' + s.pageNum + '</span>';
        li.onclick = () => {
          const el = contentEl.querySelector('[data-section="' + i + '"]');
          if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
        };
        tocList.appendChild(li);

        const section = document.createElement('div');
        section.className = 'learn-section';
        section.setAttribute('data-section', String(i));
        let html = '<h3>' + escapeHtml(s.heading) + '</h3><p>' + escapeHtml(s.content) + '</p>';
        if (s.images && s.images.length) {
          html += '<div class="learn-images">';
          s.images.forEach(function(url) {
            html += '<img src="' + escapeHtml(url) + '" alt="" loading="lazy">';
          });
          html += '</div>';
        }
        if (s.sources) html += '<div class="learn-sources">' + escapeHtml(s.sources) + '</div>';
        html += '<div class="page-num">' + t('learn_page') + ' ' + s.pageNum + '</div>';
        section.innerHTML = html;
        contentEl.appendChild(section);
      });

      const subjLabels = subjects.map(s => t('subject_' + s.replace(/-/g, '_')) || s).join(', ');
      document.getElementById('learn-title').textContent = t('learn_title');
      document.getElementById('learn-subtitle').textContent = t('learn_subtitle') + ' ' + subjLabels + '.';
      applyTranslations();
      showScreenWithBack('learn-screen');
    }

    let state = {
      language: null,
      englishVariant: 'UK',
      curriculum: null,
      name: '',
      age: null,
      subjects: ['maths'],
      mode: null,           // 'quiz' | 'learn'
      quizCompleted: false, // true only when reaching results via normal game end (not back)
      score: 0,
      lives: STARTING_LIVES,
      currentQ: 0,
      totalQuestions: 10,
      currentProblem: null,
      correctAnswer: null,
      answered: false,
      questionStartTime: null,
      timerIntervalId: null,
      timePerQuestion: [],
      emojiReactionTimeoutId: null,
      screenHistory: []     // for back button navigation
    };

    function getLocale() {
      if (state.language === 'en') return 'en_' + (state.englishVariant || 'UK');
      return state.language || 'en_UK';
    }

    const TRANSLATIONS = {
      en_UK: {
        title_language: 'Choose your language',
        subtitle_language: 'Select the language for the game.',
        title_english_variant: 'Which English?',
        subtitle_english_variant: 'Choose UK or US English and curriculum.',
        title_curriculum: 'School curriculum',
        subtitle_curriculum: 'Choose your school curriculum (UK sources).',
        title_age: 'Educational quiz by Isa Mian',
        subtitle_age: 'All information is from a reliable source!',
        label_name: 'Your name',
        label_age: 'How old are you?',
        placeholder_name: '',
        placeholder_age: '',
        btn_continue: 'Continue',
        scoreboard_title: 'Scoreboard ‚Äî beat the top to become #1',
        title_subjects: 'Choose subjects',
        subtitle_subjects: 'Pick which subjects you want to learn. You get 10 questions per subject. Maths from Grade 4; Chemistry, Biology, Physics from Grade 7; Geography, History, German, Musik, English from Grade 5. UK curriculum.',
        btn_back: 'Back',
        btn_choose_mode: 'Continue',
        title_mode: 'Quiz or Learn?',
        subtitle_mode: 'Choose how you want to study your selected subjects.',
        mode_quiz: 'üìù Quiz ‚Äî answer questions and score points',
        mode_learn: 'üìñ Learn ‚Äî read age-appropriate explanations',
        title_mode_lang: 'Quiz or Info texts?',
        subtitle_mode_lang: 'Choose how you want to study your selected language subjects.',
        mode_info_texts: 'üìñ Info texts search ‚Äî read explanations in your language',
        mode_dictionary: 'üìï Dictionary ‚Äî look up words in your language',
        mode_vocabulary: 'üìó Vocabulary ‚Äî learn words from your language subject into your language',
        dict_title: 'Dictionary',
        dict_subtitle: 'Type a word in the box below to look it up. Reliable sources: Wiktionary, PONS, Cambridge, Duden. Textbook publishers: Cornelsen.',
        dict_search_label: 'Search word',
        dict_search_placeholder: 'Enter a word',
        dict_search_btn: 'Search',
        dict_pages_aa_zz: 'Pages aa‚Äìzz',
        vocab_title: 'Vocabulary',
        vocab_subtitle: 'Type a word in the box below. Reliable sources: PONS, dict.cc, Leo, Cambridge, Wiktionary. Textbook publishers: Cornelsen.',
        vocab_search_label: 'Search word',
        vocab_search_placeholder: 'Enter a word',
        vocab_search_btn: 'Search',
        vocab_pages_aa_zz: 'Pages aa‚Äìzz',
        learn_title: 'Learning content',
        learn_subtitle: 'Age-appropriate explanations of every topic in your selected subjects.',
        learn_toc_heading: 'Summary ‚Äî Table of contents',
        learn_page: 'Page',
        btn_start_game: 'Start game',
        stat_question: 'Question',
        stat_time: 'Time',
        stat_avg: 'Avg',
        stat_score: 'Score',
        stat_lives: 'Lives',
        stat_err: 'Err',
        placeholder_answer: 'Your answer',
        btn_check: 'Check',
        btn_next_question: 'Next question',
        feedback_correct: 'Correct!',
        feedback_wrong: 'Wrong! The answer was',
        title_game_over: 'Game over',
        subtitle_results: "Here's how you did.",
        results_title: 'Your score',
        results_mistakes_format: '%1 mistake(s) out of %2 questions',
        summary_title: 'Summary ‚Äî questions and answers',
        btn_continue_scoreboard: 'Continue to Scoreboard',
        scoreboard_heading: 'Scoreboard',
        btn_play_again: 'Play again',
        err_enter_name: 'Please fill out this field.',
        err_enter_number: 'Please enter a value.',
        err_valid_age: 'Please enter a valid age.',
        err_age_min: 'This game is for ages 8 and up.',
        err_age_max: 'This game is for ages 8‚Äì99. Thanks for your interest!',
        err_select_subject: 'Please select at least one subject.',
        err_username_taken: 'Username already taken. Choose another name.',
        game_over_lives: 'Out of lives',
        game_over_goodbye: 'Goodbye! GG but‚Ä¶',
        no_scores_yet: 'No scores yet. Be the first!',
        what_is: 'What is',
        curriculum_england: 'England (National Curriculum)',
        curriculum_scotland: 'Scotland (Curriculum for Excellence)',
        curriculum_wales: 'Wales (Curriculum for Wales)',
        curriculum_northern_ireland: 'Northern Ireland',
        curriculum_ar_standard: 'Arabic (Standard)',
        curriculum_ar_algeria: 'Algeria',
        curriculum_ar_morocco: 'Morocco',
        curriculum_ar_tunisia: 'Tunisia',
        curriculum_ar_egypt: 'Egypt',
        curriculum_ar_syria: 'Syria',
        curriculum_ar_iran: 'Iran',
        curriculum_afghanistan: 'Afghanistan',
        curriculum_greece: 'Greece',
        curriculum_zh_cn: 'China (Simplified)',
        curriculum_zh_tw: 'Taiwan (Traditional)',
        curriculum_ru: 'Russia',
        curriculum_tr: 'Turkey',
        curriculum_ur: 'Pakistan / Urdu',
        curriculum_hi: 'India (Hindi)',
        curriculum_it: 'Italy',
        curriculum_pt: 'Portugal / Brazil',
        curriculum_ja: 'Japan',
        curriculum_ko: 'Korea',
        curriculum_bn: 'Bengali',
        q_value_of_bar: 'the value of bar %1',
        q_total_of_bars: 'the total of all the bars',
        q_diff_between_bars: 'the difference between bar %1 and bar %2',
        q_mean_of: 'the mean of %1',
        q_median_of: 'the median of %1',
        q_range_of: 'the range of %1',
        q_mode_of: 'the mode of %1',
        q_value_of_x_in: 'the value of x in %1x + %2 = %3',
        q_value_of_deriv: 'the value of d/dx of x^%1 at x = %2',
        q_pct_segment: 'the percentage that the %1 segment represents (give a whole number)',
        q_value_at_row_col: 'the value at row %1, column %2',
        q_area_rect: 'the area of a rectangle with width %1 and height %2',
        q_perimeter_rect: 'the perimeter of a rectangle with width %1 and height %2',
        q_third_angle: 'the third angle in a triangle where two angles are %1 (degrees)',
        q_area_triangle: 'the area of a triangle with base %1 and height %2',
        q_area_circle: 'the area of a circle with radius %1 (use œÄ = 3.14, whole number)',
        q_circumference: 'the circumference of a circle with radius %1 (use œÄ = 3.14, whole number)',
        q_volume_box: 'the volume of a box with length %1, width %2 and height %3',
        subject_maths: 'Maths',
        subject_chemistry: 'Chemistry',
        subject_biology: 'Biology',
        subject_physics: 'Physics',
        subject_astronomy: 'Astronomy',
        subject_geography: 'Geography',
        subject_history: 'History',
        subject_german: 'German',
        subject_musik: 'Musik',
        subject_english: 'English',
        subject_french: 'French',
        subject_latin: 'Latin',
        subject_spanish: 'Spanish',
        subject_laws_rights: 'Laws and rights',
        subject_arabic_standard: 'Arabic (Standard)',
        subject_arabic_algerian: 'Arabic (Algerian)',
        subject_arabic_moroccan: 'Arabic (Moroccan)',
        subject_arabic_tunisian: 'Arabic (Tunisian)',
        subject_arabic_egyptian: 'Arabic (Egyptian)',
        subject_arabic_syrian: 'Arabic (Syrian)',
        subject_arabic_iranian: 'Arabic (Iranian)',
        subject_pashto: 'Pashto (Afghan)',
        subject_greek: 'Greek',
        subject_mandarin_simplified: 'Mandarin (Simplified)',
        subject_mandarin_traditional: 'Mandarin (Traditional)',
        subject_russian: 'Russian',
        subject_turkish: 'Turkish',
        subject_urdu: 'Urdu',
        subject_hindi: 'Hindi',
        subject_italian: 'Italian',
        subject_portuguese: 'Portuguese',
        subject_japanese: 'Japanese',
        subject_korean: 'Korean',
        subject_bengali: 'Bengali',
        subject_dutch: 'Dutch',
        subject_polish: 'Polish',
        subject_swedish: 'Swedish',
        subject_vietnamese: 'Vietnamese',
        subject_indonesian: 'Indonesian',
        scoreboard_col_rank: '#',
        scoreboard_col_name: 'Name',
        scoreboard_col_age: 'Age',
        scoreboard_col_grade: 'Grade',
        scoreboard_col_score: 'Score',
        scoreboard_col_avg: 'Average',
        scoreboard_col_language: 'Language',
        scoreboard_col_subjects: 'Subjects',
        scoreboard_grade_university: 'University',
        scoreboard_your_score: 'Your score',
        q_atomic_number: 'What is the atomic number of %1?',
        q_protons_in: 'How many protons does %1 have?',
        q_electrons_neutral: 'How many electrons does a neutral %1 atom have?',
        q_valence_electrons: 'How many valence electrons does %1 have?',
        q_neutrons_in: 'How many neutrons in %1 (atomic number %2)?',
        q_neutrons_in_short: 'How many neutrons in %1?',
        q_ph_value: 'What is the pH value of %1?',
        q_elements_in: 'How many (different) elements in %1?',
        q_h_atoms_in: 'How many hydrogen atoms in %1?',
        q_atoms_in: 'How many atoms in %1?',
        q_X_atoms_in: 'How many %1 atoms in %2?',
        q_atoms_in_molecule: 'How many atoms in %1?',
        q_number_of: 'What is the number of %1?',
        q_letters_german_alphabet: 'How many letters are in the German alphabet?',
        q_letters_english_alphabet: 'How many letters are in the English alphabet?',
        q_letters_french_alphabet: 'How many letters are in the French alphabet?',
        q_letters_spanish_alphabet: 'How many letters are in the Spanish alphabet?',
        q_letters_latin_alphabet: 'How many letters are in the Latin alphabet?',
        q_letters_in_word: 'How many letters are in "%1"?',
        q_letters_in: 'How many letters in %1?',
        q_number_of_in: 'How many %1 are there in %2?',
        q_bio_wings_ant: 'What is the number of wings on an ant?',
        q_bio_wings_bee: 'What is the number of wings on a bee?',
        q_bio_wings_butterfly: 'What is the number of wings on a butterfly?',
        q_bio_wings_beetle: 'What is the number of wings on a beetle?',
        q_bio_wings_dragonfly: 'What is the number of wings on a dragonfly?',
        q_bio_wings_housefly: 'What is the number of wings on a housefly?',
        q_bio_wings_mosquito: 'What is the number of wings on a mosquito?',
        q_bio_wings_grasshopper: 'What is the number of wings on a grasshopper?',
        q_bio_wings_moth: 'What is the number of wings on a moth?',
        q_bio_legs_insect: 'What is the number of legs on an insect?',
        q_bio_legs_spider: 'What is the number of legs on a spider?',
        q_bio_legs_lobster: 'What is the number of legs on a lobster?',
        q_bio_legs_crab: 'What is the number of legs on a crab?',
        q_bio_legs_scorpion: 'What is the number of legs on a scorpion?',
        q_bio_legs_centipede: 'What is the number of legs on a centipede (per segment)?',
        q_bio_legs_millipede: 'What is the number of legs on a millipede (per segment)?',
        q_bio_chambers_human_heart: 'What is the number of chambers in the human heart?',
        q_bio_chambers_fish_heart: 'What is the number of chambers in a fish heart?',
        q_bio_chambers_bird_heart: 'What is the number of chambers in a bird heart?',
        q_bio_chambers_amphibian_heart: 'What is the number of chambers in an amphibian heart?',
        q_bio_chambers_human_stomach: 'What is the number of chambers in the human stomach?',
        q_bio_chromosomes_human: 'What is the number of chromosomes in a human cell?',
        q_bio_bones_human: 'What is the number of bones in an adult human body?',
        q_bio_teeth_adult: 'What is the number of teeth in a full adult set?',
        q_bio_arms_starfish: 'What is the number of arms on a starfish?',
        q_bio_arms_octopus: 'What is the number of arms on an octopus?',
        q_bio_hearts_octopus: 'What is the number of hearts in an octopus?',
        q_bio_stomachs_cow: 'What is the number of stomachs in a cow?',
        q_geo_continents: 'What is the number of continents?',
        q_geo_oceans: 'What is the number of oceans on Earth?',
        q_geo_bundeslaender: 'What is the number of federal states (Bundesl√§nder) in Germany?',
        q_geo_eu_countries: 'What is the number of countries in the European Union (2024)?',
        q_geo_borders_germany: 'What is the number of countries bordering Germany?',
        q_geo_hemispheres: 'What is the number of hemispheres?',
        q_geo_cardinal_directions: 'What is the number of cardinal directions?',
        q_geo_degrees_circle: 'What is the number of degrees in a full circle?',
        q_geo_degrees_half: 'What is the number of degrees in a half circle?',
        q_geo_degrees_right: 'What is the number of degrees in a right angle?',
        q_geo_us_states: 'What is the number of US states?',
        q_geo_africa: 'What is the number of countries in Africa?',
        q_geo_asia: 'What is the number of countries in Asia?',
        q_geo_south_america: 'What is the number of countries in South America?',
        q_geo_uk_countries: 'What is the number of countries in the UK (constituent countries)?',
        q_geo_un_security: 'What is the number of permanent members of the UN Security Council?',
        q_physics_when: 'What is %1 when %2?',
        physics_and: 'and',
        q_hist_berlin_wall: 'In what year did the Berlin Wall fall?',
        q_hist_reunification: 'In what year was German reunification (official)?',
        q_hist_ww1_begin: 'In what year did World War I begin?',
        q_hist_ww1_end: 'In what year did World War I end?',
        q_hist_ww2_begin: 'In what year did World War II begin (Europe)?',
        q_hist_ww2_end: 'In what year did World War II end in Europe?',
        q_hist_columbus: 'In what year did Christopher Columbus reach the Americas?',
        q_hist_french_rev: 'In what year did the French Revolution begin?',
        q_hist_luther: 'In what year did Martin Luther post his 95 Theses?',
        q_hist_brd: 'In what year was the Federal Republic of Germany founded?',
        q_hist_ddr: 'In what year was the GDR founded?',
        q_hist_un: 'In what year was the UN founded?',
        q_hist_nato: 'In what year was NATO founded?',
        q_hist_30_years: 'How many years did the Thirty Years War last?',
        q_hist_un_security: 'What is the number of permanent UN Security Council members?',
        q_laws_udhr_articles: 'What is the number of articles in the Universal Declaration of Human Rights (1948)?',
        q_laws_gg_rights: 'What is the number of fundamental rights in the German Basic Law (Grundgesetz, first section)?',
        q_laws_us_bill: 'What is the number of amendments to the US Constitution (Bill of Rights)?',
        q_laws_udhr_year: 'In which year was the Universal Declaration of Human Rights adopted?',
        q_laws_echr_year: 'In which year was the European Convention on Human Rights signed?',
        q_laws_crc_articles: 'What is the number of rights in the UN Convention on the Rights of the Child (main articles)?',
        q_laws_vote_de: 'What is the minimum voting age in Germany for federal elections?',
        q_laws_vote_us: 'What is the minimum voting age in most US states for federal elections?',
        q_laws_vote_uk: 'What is the minimum voting age in the UK for general elections?',
        q_laws_crc_principles: 'What is the number of principles in the UN Convention on the Rights of the Child?',
        q_laws_crc_year: 'In which year was the UN Convention on the Rights of the Child adopted?',
        q_laws_un_bodies: 'What is the number of UN human rights treaty bodies (main)?',
        q_laws_eu_charter: 'What is the number of rights in the EU Charter of Fundamental Rights (title II‚ÄìVII)?',
        q_astro_planets: 'What is the number of planets in our Solar System?',
        q_astro_dwarf: 'What is the number of dwarf planets officially recognised by the IAU (approx)?',
        q_astro_days_year: 'What is the number of Earth days in one year (approx)?',
        q_astro_moon_earth: 'What is the number of natural satellites (moons) of Earth?',
        q_astro_moons_mars: 'What is the number of moons of Mars?',
        q_astro_galilean: 'What is the number of Galilean moons of Jupiter?',
        q_astro_speed_light: 'What is the speed of light in vacuum (approx, km/s)?',
        q_astro_spacetime_dim: 'What is the number of dimensions in spacetime in general relativity?',
        q_astro_black_hole_img: 'In what year was the first image of a black hole published (Event Horizon Telescope)?',
        q_astro_hubble: 'In what year was the Hubble Space Telescope launched?',
        q_astro_jwst: 'In what year was the James Webb Space Telescope launched?',
        q_astro_sputnik: 'In what year was the first artificial satellite (Sputnik 1) launched?',
        q_astro_iss: 'In what year was the ISS first module launched?',
        q_astro_iss_crew: 'What is the number of astronauts/cosmonauts the ISS typically holds (crew size)?',
        q_astro_gagarin: 'In what year did the first crewed rocket reach space (Yuri Gagarin)?',
        q_astro_apollo8: 'In what year did humans first orbit the Moon (Apollo 8)?',
        q_astro_apollo11: 'In what year was the first crewed Moon landing (Apollo 11)?',
        q_astro_apollo11_crew: 'What is the number of crew members on Apollo 11?',
        q_astro_homo: 'What is the approximate number of years ago Homo sapiens first appeared (Jebel Irhoud)?',
        q_astro_light_sun_earth: 'What is the approximate number of seconds for light to travel from the Sun to Earth?',
        q_phys_newton_laws: 'What is the number of Newton\'s laws of motion?',
        q_phys_g_value: 'What is the approximate value of g (acceleration due to gravity on Earth) in m/s¬≤?',
        q_phys_forces: 'What is the number of fundamental forces in nature?',
        q_phys_states: 'What is the number of states of matter (classical)?',
        q_phys_sound_speed: 'What is the approximate speed of sound in air in m/s?',
        q_phys_magnet_poles: 'What is the number of poles on a bar magnet?',
        q_phys_primary_colours: 'What is the number of primary colours of light?',
        q_phys_freezing: 'What is the freezing point of water in degrees Celsius?',
        q_phys_boiling: 'What is the boiling point of water in degrees Celsius at sea level?',
        q_phys_simple_machines: 'What is the number of types of simple machine (lever, pulley, etc.)?',
        q_phys_refractive_index: 'What is the refractive index of vacuum or air (approx)?',
        q_phys_lever_classes: 'What is the number of classes of levers?',
        q_phys_thermo_laws: 'What is the number of laws of thermodynamics?',
        q_phys_quarks_proton: 'What is the number of quarks in a proton?',
        q_phys_quarks_neutron: 'What is the number of quarks in a neutron?',
        q_phys_spectrum_colours: 'What is the number of colours in the visible spectrum (ROYGBIV)?',
        q_phys_wave_types: 'What is the number of types of mechanical waves (by direction)?',
        q_phys_battery_terminals: 'What is the number of terminals on a standard battery (cell)?',
        q_phys_kepler: 'What is the number of laws of Kepler (planetary motion)?',
        q_phys_thermo_common: 'What is the number of laws of thermodynamics (commonly taught)?',
        q_phys_energy_types: 'What is the number of types of energy (kinetic and potential)?',
        q_phys_nuclear_radiation: 'What is the number of types of nuclear radiation (alpha, beta, gamma)?',
        q_phys_uk_plug: 'What is the number of prongs on a UK plug?',
        q_phys_us_plug: 'What is the number of prongs on a US plug (standard)?',
        q_phys_light_speed: 'What is the approximate speed of light in km/s?',
        q_phys_circuit_parts: 'What is the number of parts in a DC electric circuit (source, path, load)?',
        q_phys_moon_phases: 'What is the number of phases of the Moon in a complete cycle?',
        term_vowels: 'vowels',
        term_syllables: 'syllables',
        term_cases: 'cases',
        term_genders: 'genders',
        term_articles: 'articles',
        term_accents: 'accents',
        term_tenses: 'tenses',
        term_german: 'German',
        term_english: 'English',
        term_french: 'French',
        term_spanish: 'Spanish',
        term_latin: 'Latin',
        summary_your_answer: 'Your answer',
        summary_correct: 'Correct',
        summary_no_questions: 'No questions answered.',
        e_sources_default: 'Sources: Wikipedia (https://en.wikipedia.org); IUPAC; National curriculum standards. Content adapted for educational use.',
        e_add_what: 'What is addition?',
        e_add_what_young: 'As the mathematician Keith Devlin explains, addition is the act of combining quantities. When we add, we put amounts together to find a total. Educators like Jo Boaler stress that understanding this idea‚Äînot just memorising steps‚Äîbuilds real number sense. A number line helps you see addition as movement: start at one number, jump forward by the other, and you land on the sum.',
        e_add_what_old: 'The logician and mathematician Giuseppe Peano formalised arithmetic so that addition is defined from a few simple rules. Experts note that addition is commutative (order does not matter) and associative (grouping does not matter), and zero leaves a number unchanged. These properties underpin all of algebra.',
        e_add_single: 'Adding single-digit numbers',
        e_add_single_young: 'Cognitive scientists like Stanislas Dehaene show that humans have an innate "number sense" for small quantities. Building fluency with single-digit sums‚Äîthrough practice and visual tools like number lines or blocks‚Äîstrengthens this intuition. Experts recommend starting with doubles and near-doubles, then filling in the rest.',
        e_add_single_old: 'Researchers in mathematics education emphasise that automatic recall of basic sums frees the mind for harder problems. As Jo Boaler puts it, "Number sense" matters more than speed. Use visual models to see why sums work, not just memorise them.',
        e_add_two: 'Adding two-digit numbers',
        e_add_two_c: 'Mathematicians and educators explain that we add place by place: ones first, then tens. When the ones total ten or more, we "carry" into the tens place‚Äîa convention that reflects our base-ten number system. This structure, developed over centuries, makes large calculations manageable.',
        e_carry: 'Carrying when adding',
        e_carry_c: 'As historians of mathematics note, the "carry" algorithm dates back to ancient calculation methods. When a column sums to ten or more, we record the excess and add one to the next column. This reflects how place value works: ten ones become one ten. Experts stress understanding why carrying works, not just the mechanical steps.',
        e_sub_what: 'What is subtraction?',
        e_sub_what_young: 'Subtraction answers "how much is left?" or "what is the difference?" Educators like John Van de Walle describe it as the inverse of addition: if adding puts together, subtracting takes apart or compares. Real-world contexts‚Äîsharing, comparing, finding change‚Äîhelp build this understanding.',
        e_sub_what_old: 'Logicians define subtraction as the inverse of addition: the difference is the number you add back to get the original. This view, formalised in abstract algebra, shows how subtraction and addition are two sides of the same structure.',
        e_sub_no_borrow: 'Subtracting without borrowing',
        e_sub_no_borrow_c: 'When each digit in the top number is at least as large as the one below, we subtract column by column. Mathematicians call this the "direct" case. Understanding place value‚Äîthat each column represents a power of ten‚Äîexplains why this works.',
        e_sub_borrow: 'Borrowing in subtraction',
        e_sub_borrow_c: 'When a digit is too small, we "borrow" one unit from the next column to the left‚Äîconverting one ten into ten ones. Historians trace this method to medieval arithmetic. Experts emphasise that borrowing is really regrouping: we are rewriting the number in a form that allows subtraction.',
        e_mult_what: 'What is multiplication?',
        e_mult_what_young: 'As the mathematician and educator Steven Strogatz writes, multiplication can be thought of as repeated addition‚Äîadding the same number several times. But it also represents scaling, arrays, and area. Seeing multiplication in different ways (groups, rows and columns, jumps on a number line) builds deeper understanding.',
        e_mult_what_old: 'In abstract algebra, multiplication is a binary operation with specific properties: commutativity, associativity, and a unit element (1). Mathematicians extend this idea from whole numbers to fractions, negatives, and beyond. The structure of multiplication underpins much of mathematics.',
        e_times: 'Times tables (2 to 10)',
        e_times_c: 'Research by Jo Boaler and others shows that fluency with multiplication facts supports problem-solving‚Äîbut rote drill alone can harm confidence. Experts suggest learning tables through patterns (e.g. doubling for 2s, 4s, 8s), visual models, and meaningful practice. Understanding beats memorisation.',
        e_mult10: 'Multiplying by 10 and 100',
        e_mult10_c: 'In base ten, multiplying by 10 shifts digits one place left; by 100, two places. As mathematicians explain, this reflects the structure of our number system. Experts like Liping Ma describe how this "place value" idea is central to arithmetic and should be understood, not just applied by rule.',
        e_div_what: 'What is division?',
        e_div_what_young: 'Division answers "how many in each group?" (sharing) or "how many groups?" (grouping). Educators distinguish these two meanings because they lead to different mental models. As John Van de Walle notes, both are essential for understanding division in real contexts.',
        e_div_what_old: 'Algebraically, division is the inverse of multiplication. Mathematicians define it in terms of "how many times one number fits into another." When division is not exact, we get a remainder, a fraction, or a decimal‚Äîall different ways to express the same relationship.',
        e_div_rem: 'Division with remainders',
        e_div_rem_c: 'When one number does not divide another evenly, we get a remainder. As educators explain, remainders appear constantly in real life‚Äîsharing items, measuring, scheduling. The remainder can be left as is, or expressed as a fraction or decimal. Experts stress that understanding the meaning of the remainder matters more than the symbol we use.',
        e_order: 'Order of operations',
        e_order_c: 'The convention "parentheses, then multiplication and division, then addition and subtraction" (PEMDAS or BODMAS) was agreed so that expressions have a single, unambiguous meaning. Historians trace such rules to algebra texts of the 16th‚Äì17th centuries. Experts note that the order reflects the structure of expressions: multiplication binds more tightly than addition.',
        e_frac_what: 'What are fractions?',
        e_frac_what_young: 'As the mathematician and educator Liping Ma describes, fractions represent "parts of a whole" in a precise way. The top number (numerator) counts the parts; the bottom (denominator) tells how many equal parts make the whole. Equivalent fractions‚Äîlike one half, two fourths, three sixths‚Äîexpress the same quantity. Understanding this idea, not just symbols, is what experts emphasise.',
        e_frac_what_old: 'In number theory, fractions are rational numbers: ratios of integers. Mathematicians like G.H. Hardy explain that fractions extend the idea of counting to parts of a whole. Equivalent fractions, decimals, and percentages are different representations of the same underlying quantity‚Äîa central idea in mathematics.',
        e_equiv_frac: 'Equivalent fractions',
        e_equiv_frac_c: 'Equivalent fractions represent the same amount. As educators explain, multiplying or dividing both top and bottom by the same non-zero number gives an equivalent fraction. This reflects the fundamental idea that the same quantity can be "cut" into different numbers of pieces.',
        e_add_frac_same: 'Adding fractions with same denominator',
        e_add_frac_same_c: 'When fractions share the same denominator, we are adding pieces of the same size. As mathematicians explain, we add the numerators and keep the denominator. The denominator tells us the "size" of each piece; the numerators count how many we have.',
        e_add_frac_diff: 'Adding fractions with different denominators',
        e_add_frac_diff_c: 'To add fractions with different denominators, we first express them with a common denominator‚Äîa "common unit" so the pieces match. As educators like John Van de Walle note, finding equivalent fractions with the same denominator is the key. The smallest such denominator is the least common multiple.',
        e_decimals: 'What are decimals?',
        e_decimals_c: 'Decimals extend our place-value system to the right of the ones place: tenths, hundredths, thousandths, and so on. As mathematicians explain, every fraction can be written as a decimal (possibly repeating). The decimal point marks the boundary between whole units and fractional parts.',
        e_dec_add: 'Adding and subtracting decimals',
        e_dec_add_c: 'When adding or subtracting decimals, we align the decimal points so that ones line up with ones, tenths with tenths, and so on. Experts stress that this alignment follows from place value: we combine like units. The decimal point in the answer goes directly below the others.',
        e_pct: 'What is percentage?',
        e_pct_c: 'Percent means "per hundred"‚Äîa way to express parts of a whole on a scale of 100. Statisticians and educators use percentages for comparisons, discounts, and rates. As experts note, understanding that 50% is one half and 100% is the whole helps interpret percentages in context.',
        e_mean: 'Mean (average)',
        e_mean_c: 'The mean is one measure of the "centre" of a set of numbers. As statisticians like David Spiegelhalter explain, it is the value you would get if you distributed the total equally. The mean is sensitive to extreme values; for skewed data, the median may better represent the typical value.',
        e_median: 'Median',
        e_median_c: 'The median is the middle value when data are ordered. As statisticians note, it divides the data into two equal halves. Unlike the mean, the median is "robust"‚Äîit is not pulled strongly by a few extreme values. For many real datasets, the median gives a more representative "typical" value.',
        e_bar: 'Reading bar charts',
        e_bar_c: 'Bar charts represent quantities by the length or height of bars. As data-visualisation experts like Edward Tufte emphasise, good charts make comparisons easy. The bar height encodes the value; comparing heights lets you see which categories are larger or smaller.',
        e_area_rect: 'Area of a rectangle',
        e_area_rect_c: 'As geometers explain, the area of a rectangle is the product of its length and width‚Äîthe number of unit squares that fit inside. This idea, developed in ancient Mesopotamia and Egypt, underlies area measurement. Experts stress understanding area as "covering" or "tiling" rather than memorising a formula.',
        e_perimeter: 'Perimeter',
        e_perimeter_c: 'Perimeter is the total distance around a shape. For polygons, it is the sum of the side lengths. As educators note, perimeter and area measure different things: perimeter is length (one dimension), area is surface (two dimensions). Confusing them is common; experts recommend visualising what each measures.',
        e_sqrt: 'What is a square root?',
        e_sqrt_c: 'The square root of a number is the value that, when multiplied by itself, gives that number. As mathematician Ian Stewart explains, square roots arise naturally in geometry (e.g. the diagonal of a square) and in solving equations. The square root symbol has been used since the Renaissance.',
        e_algebra: 'Basic algebra: solving for x',
        e_algebra_c: 'Algebra uses letters to stand for unknown numbers. The key idea, as mathematicians from al-Khwarizmi onward have taught, is to perform the same operation on both sides of an equation to isolate the unknown. This preserves equality and leads to the solution. Understanding "doing the same to both sides" matters more than memorising steps.',
        e_powers: 'Powers and exponents',
        e_powers_c: 'Exponentiation represents repeated multiplication: the exponent tells how many times to multiply the base by itself. As mathematician Keith Devlin notes, powers grow very quickly‚Äîa phenomenon that appears in compound interest, population growth, and computer science. The notation we use dates to the 17th century.',
        e_pythag: 'Pythagorean theorem',
        e_pythag_c: 'In a right triangle, the square on the hypotenuse equals the sum of the squares on the other two sides. Known to Babylonians and named after Pythagoras, this theorem connects geometry and algebra. As mathematician Eli Maor writes, it has hundreds of proofs and underlies distance measurement and trigonometry. (Sources: E. Maor, The Pythagorean Theorem; Wikipedia)',
        e_area_circle: 'Area of a circle',
        e_area_circle_c: 'The area of a circle depends on its radius. Ancient mathematicians, including Archimedes, showed that a circle can be "unrolled" into a shape whose area is half the circumference times the radius. The constant œÄ (pi) appears because the ratio of circumference to diameter is the same for every circle‚Äîa deep fact about roundness.',
        e_circum: 'Circumference of a circle',
        e_circum_c: 'The circumference of a circle is proportional to its diameter; the constant of proportionality is œÄ. As historians of mathematics note, estimating œÄ was a major problem from antiquity to the computer age. The circumference is about three times the diameter (more precisely, œÄ times the diameter, or 2œÄ times the radius).',
        e_trig: 'Sine, cosine, tangent',
        e_trig_c: 'The trigonometric ratios‚Äîsine, cosine, tangent‚Äîrelate angles in a right triangle to ratios of sides. As historians explain, they arose from astronomy and surveying. Mathematicians extended them to all angles using the unit circle. Trigonometry underpins waves, oscillations, and much of physics and engineering.',
        e_quadratic: 'Quadratic formula',
        e_quadratic_c: 'Quadratic equations have at most two solutions. The quadratic formula, derived by completing the square, expresses these solutions in terms of the coefficients. As mathematicians note, the expression under the square root (the discriminant) determines whether solutions are real or complex. The formula has been known since medieval times.',
        e_practice: 'Practice: mental maths grade %1',
        e_practice_c: 'Researchers in mathematics education, such as Jo Boaler, stress that regular practice builds fluency‚Äîbut variety and understanding matter more than repetition alone. Start with manageable problems, use visual models, and connect practice to real contexts.',
        e_mult_ab: 'Multiplication: %1 √ó %2',
        e_mult_ab_c: 'Multiplying %1 by %2 gives %3. As educators explain, this can be seen as %2 groups of %1, or as repeated addition. Understanding the relationship helps with both computation and problem-solving.',
        e_add_ab: 'Addition: %1 + %2',
        e_add_ab_c: 'Adding %1 and %2 gives %3. Mathematicians describe addition as combining quantities; the sum is the total when we put the amounts together.',
        e_sub_ab: 'Subtraction: %1 ‚àí %2',
        e_sub_ab_c: 'Subtracting %2 from %1 leaves %3. As experts note, subtraction answers "how much is left?" or "what is the difference?"',
        e_div_ab: 'Division: %1 √∑ %2',
        e_div_ab_c: 'Dividing %1 by %2 gives %3. Educators describe this as sharing %1 into %2 equal groups, or as "how many %2s in %1?"',
        e_power_base: 'Power: base %1',
        e_power_base_c: 'Powers of %1: %2. As mathematicians explain, each power is %1 multiplied by itself one more time. This pattern underlies exponential growth.',
        e_sqrt_n: 'Square root of %1',
        e_sqrt_n_c: 'The square root of %1 is %2, since %2 times %2 equals %1. Square roots arise in geometry, physics, and many applications.',
        e_frac_1n: 'Fraction 1/%1',
        e_frac_1n_c: 'One over %1 means one part when a whole is divided into %1 equal parts. As educators note, this "unit fraction" is the building block for other fractions. As a decimal it is approximately %2.',
        e_pct_n: '%1% as a fraction',
        e_pct_n_c: 'Percent means per hundred: %1%% is %1 out of 100, or %2 as a decimal. Statisticians use percentages to compare quantities on a common scale.',
        e_rect_wh: 'Rectangle area %1 √ó %2',
        e_rect_wh_c: 'A rectangle with sides %1 and %2 has area %3 square units. As geometers explain, area is the number of unit squares that fit inside.',
        e_circle_r: 'Circle with radius %1',
        e_circle_r_c: 'For a circle of radius %1, the area is about %2 and the circumference about %3. The constant œÄ links the radius to both measures.',
        e_alg_x: 'Algebra: x + %1 = 10',
        e_alg_x_c: 'If a number plus %1 equals 10, then that number is %2. Algebra uses letters for unknowns; performing the same operation on both sides preserves equality and reveals the answer.',
        e_force: 'What is force?',
        e_force_young: 'As physicists explain, force is a push or pull that can change an object\'s motion. Isaac Newton described how forces cause acceleration. Gravity, friction, and magnetism are everyday examples. Force is measured in newtons. Understanding forces helps explain why things move, fall, or stay still.',
        e_force_old: 'Newton\'s second law states that force is proportional to mass and acceleration. As Richard Feynman put it, this law captures how nature behaves when we push things. Forces can be contact (friction, tension) or action-at-a-distance (gravity, electromagnetism). The vector nature of force‚Äîdirection matters‚Äîis central to mechanics.',
        e_energy: 'What is energy?',
        e_energy_c: 'Physicists define energy as the capacity to do work. It appears in many forms: kinetic (motion), potential (position), thermal, chemical. The law of conservation of energy‚Äîthat energy is neither created nor destroyed, only transformed‚Äîis one of the most fundamental principles in science.',
        e_speed: 'Speed and velocity',
        e_speed_c: 'Speed measures how fast something moves; velocity adds direction. As physicists explain, the relationship between distance, time, and speed underlies kinematics. Average speed is distance travelled divided by time taken‚Äîa concept used from everyday travel to astrophysics.',
        e_circuit: 'Simple circuits',
        e_circuit_c: 'A circuit needs a power source (battery) and a path for electricity. A switch can open or close the circuit to turn a bulb on or off.',
        e_light: 'Light and reflection',
        e_light_c: 'Light travels in straight lines. When it hits a mirror, it bounces off at the same angle (reflection).',
        e_atom: 'What is an atom?',
        e_atom_young: 'An atom is the smallest unit of ordinary matter that forms a chemical element. Everything you see is made of atoms. There are 118 known elements. Each element is defined by its number of protons (atomic number). Hydrogen has 1, carbon 6, oxygen 8. As chemist and educator John Dalton proposed in 1808, matter is made of indivisible atoms that combine in fixed ratios. Atoms join to form molecules. (Sources: Wikipedia ‚Äì Atom; IUPAC; Dalton, A New System of Chemical Philosophy)',
        e_atom_old: 'A chemical element is a species of atom defined by its atomic number (number of protons). In an uncharged atom, protons equal electrons. The nucleus holds protons and neutrons; the proton count defines the element. As physicist Richard Feynman said: "If all of scientific knowledge were to be destroyed, the single statement that would convey the most information would be that all things are made of atoms." Isotopes share atomic number but differ in neutrons. (Sources: Wikipedia ‚Äì Atomic number; IUPAC; Feynman, The Feynman Lectures)',
        e_elements: 'Elements and the periodic table',
        e_elements_c: 'Elements are pure substances made of one type of atom. The periodic table lists all known elements and their properties.',
        e_chem_rxn: 'Chemical reactions',
        e_chem_rxn_c: 'In a chemical reaction, substances change into new substances. Bonds break and form. Mass is conserved.',
        e_matter: 'States of matter',
        e_matter_c: 'Matter can be solid, liquid, or gas. Heating or cooling can change the state. Water can be ice (solid), water (liquid), or steam (gas).',
        e_cells: 'What are cells?',
        e_cells_young: 'Cells are the smallest units of life. Your body has billions of cells‚Äîtoo many to count! Each cell is like a tiny factory: it takes in food and oxygen, gets rid of waste, and does its job. Different cells do different jobs: red blood cells carry oxygen, muscle cells help you move, and nerve cells carry messages. Plants have cells too; their cells can make food from sunlight.',
        e_cells_old: 'Cells are the basic structural and functional units of life. All living organisms are made of one or more cells. A typical cell has a membrane (outer boundary), cytoplasm (gel-like interior), and a nucleus containing DNA (genetic instructions). Plant cells also have a cell wall and chloroplasts for photosynthesis. Cells carry out metabolism, growth, and reproduction.',
        e_photo: 'Photosynthesis',
        e_photo_c: 'Plants use sunlight, water, and carbon dioxide to make food (glucose) and oxygen. This happens in the leaves.',
        e_body: 'The human body systems',
        e_body_c: 'The body has many systems: digestive, circulatory, respiratory, nervous, etc. Each has a special job to keep you healthy.',
        e_maps: 'Maps and directions',
        e_maps_c: 'Maps show the world or parts of it. North is usually up. A compass helps you find direction. Scale shows real distances.',
        e_continents: 'Continents and oceans',
        e_continents_c: 'There are seven continents: Africa, Antarctica, Asia, Europe, North America, Oceania, South America. Oceans include Pacific, Atlantic, Indian, Arctic, Southern.',
        e_climate: 'Climate and weather',
        e_climate_c: 'Weather is short-term (today\'s rain). Climate is long-term (e.g. tropical, temperate). Different places have different climates.',
        e_homo_sapiens: 'Homo sapiens: origins and influence today',
        e_homo_sapiens_c: 'Scientific consensus holds that Homo sapiens emerged in Africa around 300,000 years ago (Jebel Irhoud, Morocco). Genetic and archaeological evidence suggests a migration out of Africa roughly 70,000 years ago; the Agricultural Revolution began c. 10,000 years ago. These events still influence us: our genes, languages, inequalities, and climate adaptation trace to this deep past. Christian scholars hold varied views: some (e.g. Teilhard de Chardin, Pope Francis) accept evolution and an ancient Earth; others read Genesis more literally. Muslim scholars (Sunni and Shia) likewise differ: many integrate science with faith (e.g. integrating Qur\'anic creation narratives with evolutionary timelines); others prefer allegorical readings. Atheist and secular researchers (e.g. Richard Dawkins, Yuval Harari) rely on the scientific consensus. Experts from all traditions agree that understanding human origins helps us address today\'s challenges. (Sources: Nature; Smithsonian; E.H. Carr; Harari, Sapiens)',
        e_history: 'What is history?',
        e_history_c: 'History is the study of the past. As the historian E.H. Carr wrote: "History is a continuous process of interaction between the historian and his facts." Historians use primary sources (documents, artefacts, eyewitness accounts) and secondary sources (analyses by other scholars) to reconstruct events and understand causes and effects. Christian, Muslim (Sunni and Shia), atheist, and secular scholars each bring distinct perspectives‚Äîyet all value rigorous evidence. Reliable sources include UNESCO, academic institutions, and peer-reviewed publications. (Sources: Wikipedia ‚Äì Historiography; E.H. Carr, What Is History?)',
        e_timeline: 'Timelines',
        e_timeline_c: 'A timeline shows events in chronological order. BC (Before Christ) and AD (Anno Domini), or BCE (Before Common Era) and CE (Common Era), mark years. Older events appear further left. As historians note, timelines help us see cause and effect across centuries. (Sources: Wikipedia ‚Äì Timeline)',
        e_grammar: 'Grammar: nouns and verbs',
        e_grammar_c: 'Nouns name people, places, or things. Verbs describe actions or states. In many languages, nouns have gender (e.g. masculine, feminine).',
        e_german_grammar: 'German grammar (Lingolia, Travalang)',
        e_german_grammar_c: 'German has four cases (Nominativ, Akkusativ, Dativ, Genitiv), three genders (der/die/das), and six modal verbs (k√∂nnen, m√ºssen, sollen, d√ºrfen, wollen, m√∂gen). Quiz questions from Basic German (Schenke & Seago, Routledge) and Grammatik mit Sinn und Verstand (Rug & Tomaszewski, Klett).',
        e_vocab: 'Building vocabulary',
        e_vocab_c: 'Learn new words every day. Use flashcards, read books, and practice in sentences. Group words by topic (food, travel, etc.).',
        e_reading: 'Reading and comprehension',
        e_reading_c: 'Read texts at your level. Underline words you do not know. Try to understand the main idea before looking up every word.',
        e_rhythm: 'Rhythm and beat',
        e_rhythm_c: 'Rhythm is the pattern of sounds in time. A beat is the basic pulse. Clap along to music to feel the beat.',
        e_notes: 'Notes and scales',
        e_notes_c: 'Notes are symbols for sounds. Scales are sets of notes in order. The major scale has a happy sound; the minor scale can sound sad.',
        e_pie_chart: 'Reading pie charts',
        e_pie_chart_c: 'Pie charts show parts of a whole. Each slice is a fraction or percentage. To find the percentage of a segment: (segment value √∑ total) √ó 100.',
        e_data_table: 'Reading data tables',
        e_data_table_c: 'Tables have rows and columns. Find the value at a given row and column. Row 1, Column 2 means the cell where the first row meets the second column.',
        e_triangle_area: 'Area of a triangle',
        e_triangle_area_c: 'Area = ¬Ω √ó base √ó height. A triangle with base 6 and height 4 has area ¬Ω √ó 6 √ó 4 = 12 square units.',
        e_third_angle: 'Angles in a triangle',
        e_third_angle_c: 'The three angles in any triangle add up to 180¬∞. If two angles are known, subtract their sum from 180¬∞ to find the third.',
        e_box_volume: 'Volume of a box',
        e_box_volume_c: 'Volume = length √ó width √ó height. A box 3 by 4 by 5 has volume 60 cubic units.',
        e_cube_root: 'Cube roots',
        e_cube_root_c: 'The cube root of n is the number that, when multiplied by itself twice, gives n. ‚àõ8 = 2 because 2√ó2√ó2 = 8.',
        e_fma: 'Newton\'s second law',
        e_fma_c: 'Newton\'s second law states that force is proportional to mass and acceleration. As physicists explain, a larger force produces more acceleration; for the same force, a heavier object accelerates less. This principle underpins classical mechanics and everyday motion.',
        e_speed_formula: 'Speed and distance',
        e_speed_formula_c: 'Speed relates distance travelled to time taken. As educators explain, if you know any two of distance, time, and speed, you can find the third. This relationship appears in travel, sport, and astronomy.',
        e_vuat: 'Equation of motion: v = u + at',
        e_vuat_c: 'Final velocity v = initial velocity u + (acceleration a √ó time t). Used when an object accelerates from rest or from speed u.',
        e_work: 'Work: W = Fd',
        e_work_c: 'Work = force √ó distance. When you push with 10 N over 5 m, work = 10 √ó 5 = 50 J. The unit of work is the joule (J).',
        e_power_iv: 'Electrical power: P = IV',
        e_power_iv_c: 'Power = current √ó voltage. To find P: multiply I and V. To find I: divide P by V. To find V: divide P by I.',
        e_mc2: 'Einstein\'s E = mc¬≤',
        e_mc2_c: 'Energy = mass √ó (speed of light)¬≤. This relates mass and energy. When c = 3, E = m √ó 9. So m = 7 gives E = 63.',
        e_ke: 'Kinetic energy: KE = ¬Ωmv¬≤',
        e_ke_c: 'Kinetic energy is the energy of motion. KE = ¬Ω √ó mass √ó velocity¬≤. Double the speed, and KE is four times larger.',
        e_pe: 'Potential energy: PE = mgh',
        e_pe_c: 'Potential energy is stored energy. PE = mass √ó g √ó height. Often g = 10 m/s¬≤. A mass of 4 at height 7: PE = 4 √ó 10 √ó 7 = 280 J.',
        e_momentum: 'Momentum: p = mv',
        e_momentum_c: 'Momentum = mass √ó velocity. It is conserved in collisions. To find p: multiply m and v. To find v: divide p by m.',
        e_heat: 'Heat transfer: Q = mcŒîT',
        e_heat_c: 'Heat energy Q = mass √ó specific heat √ó temperature change. Used to find how much energy is needed to heat or cool a substance.',
        e_density: 'Density: œÅ = m/V',
        e_density_c: 'Density = mass √∑ volume. Denser objects have more mass per unit volume. To find œÅ: divide m by V. To find m: œÅ √ó V.',
        e_hooke: 'Hooke\'s law: F = kx',
        e_hooke_c: 'The force in a spring = spring constant √ó extension. F = kx. To find F: multiply k and x. To find x: divide F by k.',
        e_pressure: 'Pressure: P = F/A',
        e_pressure_c: 'Pressure = force √∑ area. Same force on a smaller area gives higher pressure. To find P: divide F by A.',
        e_waves: 'Wave speed and frequency',
        e_waves_c: 'Wave speed v = frequency f √ó wavelength Œª. Also, period T = 1/f. So if f = 5 Hz, T = 0.2 s.',
        e_federal_states: 'Federal states and regions',
        e_federal_states_c: 'Germany has 16 federal states (Bundesl√§nder). Other countries have regions, provinces, or states. Count them to answer geography questions.',
        e_countries_borders: 'Countries and borders',
        e_countries_borders_c: 'Geography questions often ask: how many countries in a region, how many border a country, how many in the EU. Learn the main numbers for Europe and the world.',
        e_directions_hemispheres: 'Directions and hemispheres',
        e_directions_hemispheres_c: 'Cardinal directions: North, South, East, West. The equator divides Earth into Northern and Southern hemispheres. The prime meridian divides Eastern and Western.',
        e_time_zones: 'Time zones',
        e_time_zones_c: 'Earth is divided into time zones. Mainland USA has 4 zones, Russia has 11. As you go east, time increases; west, it decreases.',
        e_years_dates: 'Historical years and dates',
        e_years_dates_c: 'History questions ask for specific years (e.g. Berlin Wall fell 1989, WWI 1914‚Äì1918). Learn key dates. BC/BCE years count backwards; AD/CE forward. Experts emphasise that exact dates can vary by source; many events are given approximate or traditional dates. (Sources: Wikipedia; academic curricula)',
        e_ancient_egypt: 'Ancient Egypt',
        e_ancient_egypt_c: 'Ancient Egypt lasted over 3,000 years (c. 3100 BCE‚Äì30 BCE). Egyptologists such as John Baines (Oxford) note it was unified under King Narmer (Menes) and ruled by pharaohs seen as divine. The pyramids at Giza (c. 2580 BCE) remain among the world\'s largest structures. Egyptian civilisation developed hieroglyphic writing, mathematics, and medicine. Christian, Muslim (Sunni and Shia), and secular scholars study Egypt as a cornerstone of civilisation; the biblical Exodus narrative and Qur\'anic references to Pharaoh reflect its lasting influence. Cleopatra VII, the last pharaoh, died in 30 BCE when Rome took control. (Sources: UNESCO; Wikipedia ‚Äì Ancient Egypt; J. Baines, Ancient Egypt)',
        e_ancient_civilizations: 'Ancient civilisations: Mesopotamia, Indus, China',
        e_ancient_civilizations_c: 'The first civilisations emerged in river valleys. Sumer (Mesopotamia, c. 3400 BCE) invented writing (cuneiform) and the wheel. The Indus Valley civilisation (c. 3300‚Äì1300 BCE) had planned cities like Mohenjo-daro. Historians such as Jared Diamond (atheist/secular) argue that agriculture and writing enabled these societies to organise and grow. Hammurabi\'s Code (c. 1754 BCE) is one of the earliest written law codes. Christian scholars link Mesopotamian narratives to biblical tradition; Muslim scholars recognise shared heritage in Near Eastern civilisations. These early developments still influence law, writing, and urban life today. (Sources: UNESCO; Wikipedia ‚Äì Cradle of civilisation; J. Diamond, Guns, Germs, and Steel)',
        e_persian_empire: 'The Persian Empire',
        e_persian_empire_c: 'The Achaemenid Persian Empire, founded by Cyrus the Great (c. 550 BCE), was one of the largest empires of the ancient world. Historians such as Pierre Briant note that the Persians built the Royal Road, practised religious tolerance, and developed efficient administration. The empire stretched from Egypt to India until Alexander the Great conquered it in 330 BCE. Later, the Sassanid and Parthian empires continued Persian influence. (Sources: Wikipedia ‚Äì Achaemenid Empire; P. Briant, From Cyrus to Alexander)',
        e_chinese_dynasties: 'Chinese dynasties',
        e_chinese_dynasties_c: 'Chinese history is traditionally divided into dynasties. The Qin (221‚Äì206 BCE) unified China and began the Great Wall. The Han (202 BCE‚Äì220 CE) expanded trade along the Silk Road. The Tang (618‚Äì907) and Song (960‚Äì1279) are considered golden ages of culture and invention‚Äîincluding gunpowder, the compass, and printing. As historian Patricia Ebrey writes, the civil service examination system shaped Chinese society for centuries. The Qing fell in 1912 when the Republic was proclaimed. (Sources: Wikipedia ‚Äì History of China; P. Ebrey, The Cambridge Illustrated History of China)',
        e_islamic_golden_age: 'The Islamic Golden Age',
        e_islamic_golden_age_c: 'The Islamic Golden Age (roughly 750‚Äì1258 CE) saw major advances in science, mathematics, medicine, and philosophy. The House of Wisdom in Baghdad (founded c. 832) translated Greek and Indian texts and fostered original research. Scholars such as Al-Khwarizmi (algebra), Ibn Sina (Avicenna, medicine), and Al-Biruni (astronomy) made lasting contributions. As Professor George Saliba (Columbia) explains, this period preserved and extended classical knowledge and influenced the European Renaissance. (Sources: Wikipedia ‚Äì Islamic Golden Age; G. Saliba, Islamic Science and the Making of the European Renaissance)',
        e_black_death: 'The Black Death',
        e_black_death_c: 'The Black Death (1347‚Äì1351) killed an estimated 30‚Äì50% of Europe\'s population. Historians such as Ole Benedictow identify the cause as the bacterium Yersinia pestis, spread by fleas on rats. The pandemic had profound social and economic effects: labour shortages, the collapse of feudalism, and religious turmoil. As Professor Samuel Cohn argues, it also prompted medical and public-health innovations. Similar plague outbreaks occurred in Asia and the Middle East. (Sources: WHO; Wikipedia ‚Äì Black Death; O. Benedictow, The Black Death)',
        e_ottoman_empire: 'The Ottoman Empire',
        e_ottoman_empire_c: 'The Ottoman Empire (c. 1299‚Äì1922) was one of the longest-lasting and most influential empires. It reached its height under Suleiman the Magnificent (1520‚Äì1566). The fall of Constantinople in 1453 marked the end of the Byzantine Empire and opened a new chapter in Mediterranean history. As historian Caroline Finkel notes, the Ottomans combined Islamic law with diverse populations and complex administration. The empire dissolved after WWI. (Sources: Wikipedia ‚Äì Ottoman Empire; C. Finkel, Osman\'s Dream)',
        e_inventions_history: 'Major inventions in history',
        e_inventions_history_c: 'Key inventions shaped human history. Gunpowder (9th century China) transformed warfare. The printing press (Gutenberg, c. 1440) enabled mass literacy and the spread of ideas. The steam engine (Watt, 1769) powered the Industrial Revolution. The Wright brothers\' flight (1903) began aviation. The World Wide Web (1991) and smartphones (2007) reshaped communication. As historians and economists such as Joel Mokyr argue, technological change drives long-term economic growth. (Sources: Wikipedia; J. Mokyr, The Lever of Riches)',
        e_roman_empire: 'The Roman Empire',
        e_roman_empire_c: 'Rome grew from a republic (509 BCE) to an empire under Augustus (27 BCE). At its height under Trajan (117 CE), it controlled the Mediterranean and beyond. As historian Mary Beard explains, Rome\'s legacy includes law, engineering (aqueducts, roads), and Latin, which influenced many languages. The empire split in 395; the Western half fell in 476, while the Eastern (Byzantine) Empire endured until 1453. (Sources: Wikipedia ‚Äì Roman Empire; M. Beard, SPQR)',
        e_renaissance: 'The Renaissance',
        e_renaissance_c: 'The Renaissance (14th‚Äì17th centuries) began in Italy and spread across Europe. It revived interest in classical Greek and Roman culture and emphasised humanism and individual achievement. Leonardo da Vinci, Michelangelo, and Raphael produced enduring art; scientists such as Galileo challenged earlier views of the universe. As the historian Jacob Burckhardt argued, the Renaissance marked a shift towards modernity in thought and culture. (Sources: Wikipedia ‚Äì Renaissance; J. Burckhardt, The Civilization of the Renaissance in Italy)',
        e_industrial_revolution: 'The Industrial Revolution',
        e_industrial_revolution_c: 'The Industrial Revolution (c. 1760‚Äì1840) began in Britain with mechanised textile production, steam power, and iron and coal industries. As the economic historian Eric Hobsbawm wrote, it "transformed the world more fundamentally than any other event in history" before or since. Urbanisation, new social classes, and environmental change followed. Similar industrialisation spread to Europe, the USA, and later Asia. (Sources: Wikipedia ‚Äì Industrial Revolution; E. Hobsbawm, Industry and Empire)',
        e_history_today: 'From Industrial Revolution to today (2026)',
        e_history_today_c: 'History from the Industrial Revolution to February 2026: mass production, railways, electrification, world wars, Cold War, digital revolution, climate change, pandemics. The fall of the Berlin Wall (1989), German reunification (1990), EU expansion, 9/11, the Arab Spring, COVID-19 (2020), and Russia\'s invasion of Ukraine (2022) shaped today\'s world. Christian, Muslim (Sunni and Shia), atheist, and secular historians all study how these events influence governance, technology, and society today. (Sources: UNESCO; NASA; ESA; academic institutions)',
        e_udhr: 'Universal Declaration of Human Rights',
        e_udhr_c: 'The Universal Declaration of Human Rights (UDHR) was adopted by the UN in 1948. It has 30 articles covering rights such as life, liberty, equality, freedom of thought and expression, and education. It is the foundation for international human rights law. (Sources: UN; UNESCO)',
        e_crc: 'UN Convention on the Rights of the Child',
        e_crc_c: 'The Convention on the Rights of the Child (1989) has 54 articles. It protects children\'s rights to survival, development, protection, and participation. Nearly all countries have ratified it. (Sources: UNICEF; UN)',
        e_constitution: 'Constitutions and fundamental rights',
        e_constitution_c: 'Constitutions are the supreme law of a state. They define government structure and protect fundamental rights. The German Basic Law (Grundgesetz) has 19 fundamental rights in its first section. The US Bill of Rights has 10 amendments. (Sources: UN; national constitutions; textbook publishers such as Cornelsen)',
        e_black_holes: 'Black holes',
        e_black_holes_c: 'Black holes are regions of spacetime where gravity is so strong that nothing, not even light, can escape. NASA and ESA researchers (Event Horizon Telescope, 2019) captured the first image (M87*). Einstein\'s general relativity predicts their formation. Prof. Stephen Hawking showed they emit radiation. Christian (e.g. Georges Lema√Ætre, John Polkinghorne), Muslim‚ÄîSunni and Shia‚Äî(e.g. medieval Islamic astronomers, contemporary scholars), Jewish (e.g. Rambam on cosmology), Buddhist (e.g. contemplations on emptiness and interdependence), Hindu (e.g. cyclical cosmology in scriptures), and atheist/secular scientists (e.g. Hawking, Kip Thorne) offer varied perspectives on cosmology and creation. (Sources: NASA; ESA; EHT; Wikipedia)',
        e_white_holes: 'White holes',
        e_white_holes_c: 'White holes are theoretical opposites of black holes: matter and light could emerge but not enter. They appear in some solutions of Einstein\'s equations but have never been observed. ESA and NASA researchers note they remain speculative. Physicists like Carlo Rovelli explore them in loop quantum gravity. Christian, Muslim (Sunni and Shia), Jewish, Buddhist, Hindu, and atheist scholars distinguish between mathematical possibility and empirical evidence. (Sources: ESA; NASA; Wikipedia)',
        e_wormholes: 'Wormholes',
        e_wormholes_c: 'Wormholes are theoretical "shortcuts" through spacetime. Einstein and Rosen proposed them in 1935. NASA and ESA scientists note they appear in general relativity but require exotic matter; none have been observed. Physicists like Kip Thorne explore them theoretically. Christian (e.g. William Lane Craig), Muslim (Sunni and Shia), Jewish, Buddhist, Hindu, and atheist scholars discuss whether such structures could exist and what they imply for cosmology. (Sources: NASA; ESA; Wikipedia)',
        e_spacetime: 'Space-time',
        e_spacetime_c: 'Space-time is the four-dimensional fabric (three space + one time) in which events occur. Einstein\'s general relativity describes how mass and energy curve it, producing gravity. NASA\'s GPS and ESA\'s Gaia use relativistic corrections. Christian (e.g. John Polkinghorne), Muslim‚ÄîSunni and Shia‚Äî, Jewish, Buddhist, Hindu, and atheist physicists study these concepts; many see no conflict between science and faith. (Sources: NASA; ESA; Wikipedia)',
        e_speed_of_light: 'Speed of light',
        e_speed_of_light_c: 'Light in vacuum travels at ~299,792 km/s (c). Einstein\'s special relativity shows nothing with mass can reach c. NASA and ESA depend on c for navigation. Christian, Muslim (Ibn al-Haytham), Jewish, Buddhist, Hindu, and atheist scientists use c as a fundamental constant. (Sources: NASA; ESA; Wikipedia)',
        e_universe_grid: 'The universe on a grid?',
        e_universe_grid_c: 'Some theories propose a discrete "grid" or lattice structure at the smallest scales (e.g. loop quantum gravity, causal set theory). NASA and ESA support fundamental physics. Professor Carlo Rovelli and others explore whether spacetime is granular. Christian, Muslim, Jewish, Buddhist, Hindu, and atheist scientists engage with such ideas while distinguishing speculation from established cosmology. (Sources: ESA; NASA; Wikipedia)',
        e_gravity: 'Gravity',
        e_gravity_c: 'Gravity is the force that attracts masses. Newton: F = Gm‚ÇÅm‚ÇÇ/r¬≤; Einstein showed it as curvature of spacetime. NASA and ESA use these laws. Christian (Newton saw God in natural law), Muslim (Ibn al-Haytham, Avicenna), Jewish (Maimonides), Buddhist (dependent arising), Hindu (dharma), and secular physicists offer different perspectives. (Sources: NASA; ESA; Wikipedia)',
        e_origin_christian: 'The start of everything ‚Äî Christian',
        e_origin_christian_c: 'Christian scholars hold varied views. Lema√Ætre proposed the Big Bang; Pope Francis accepts an ancient universe. Some creationists favour a younger Earth. God created out of nothing; how and when are debated. (Sources: NASA; ESA; Vatican; Wikipedia)',
        e_origin_muslim: 'The start of everything ‚Äî Muslim',
        e_origin_muslim_c: 'Muslim scholars (Sunni and Shia) integrate Big Bang with Qur\'anic creation. Al-Biruni and Ibn Sina explored cosmology. Many accept scientific timelines while seeing Allah as Creator. (Sources: NASA; ESA; Wikipedia)',
        e_origin_secular: 'The start of everything ‚Äî Secular',
        e_origin_secular_c: 'Scientific consensus: the universe began ~13.8 billion years ago (Big Bang). NASA (WMAP, Planck) and ESA measured cosmic microwave background. Atheist and secular cosmologists describe the physics. (Sources: NASA; ESA; Wikipedia)',
        e_origin_other: 'The start of everything ‚Äî Jewish, Buddhist, Hindu',
        e_origin_other_c: 'Jewish (Rambam on creation), Buddhist (cyclical universes, dependent origination), Hindu (Brahma\'s days, cyclic cosmology) offer perspectives. Some integrate with Big Bang cosmology. (Sources: NASA; ESA; Wikipedia)',
        e_solar_system: 'Our Solar System',
        e_solar_system_c: 'Our Solar System has 8 planets. NASA and ESA missions (Voyager, Cassini, Juno) have explored them. Dwarf planets include Pluto and Ceres. Christian, Muslim, Jewish, Buddhist, Hindu, and secular scientists study the cosmos. (Sources: NASA; ESA; Wikipedia)',
        e_mercury: 'Mercury',
        e_mercury_c: 'Mercury is the smallest and innermost planet. Extreme temperature swings, no atmosphere, heavily cratered. NASA\'s MESSENGER mapped it. (Sources: NASA; ESA; Wikipedia)',
        e_earth: 'Earth',
        e_earth_c: 'Earth is the third planet and the only known world with life. NASA and ESA study its atmosphere, oceans, and climate. Christian, Muslim (Sunni and Shia), Jewish, Buddhist, Hindu, and secular traditions offer varied perspectives on Earth as a created home or a unique habitable world. (Sources: NASA; ESA; Wikipedia)',
        e_sun: 'The Sun',
        e_sun_c: 'The Sun is a G-type main-sequence star. NASA\'s SDO and ESA\'s Solar Orbiter study it. Christian (Psalm 19), Muslim (Qur\'an), Jewish, Buddhist, Hindu, and secular traditions reflect on the Sun\'s role in creation and science. (Sources: NASA; ESA; Wikipedia)',
        e_stars: 'Stars',
        e_stars_c: 'Stars are luminous spheres of plasma. Hubble and Gaia map billions. The Milky Way has ~200 billion stars. Christian ("He telleth the number of the stars"), Muslim, Jewish, Buddhist, Hindu, and atheist astronomers study stellar evolution. (Sources: NASA; ESA; Wikipedia)',
        e_far_galaxies: 'Far galaxies',
        e_far_galaxies_c: 'Galaxies are vast systems of stars, gas, and dark matter. Hubble, JWST, and Euclid observe galaxies billions of light-years away. Andromeda is ~2.5 million light-years away. Christian, Muslim, Jewish, Buddhist, Hindu, and secular cosmologists reflect on the scale and origin of the universe. (Sources: NASA; ESA; Wikipedia)',
        e_mars: 'Mars',
        e_mars_c: 'Mars is the fourth planet, the "Red Planet." It has polar ice caps, ancient riverbeds, and volcanoes including Olympus Mons. NASA\'s Perseverance, Curiosity, and ESA\'s ExoMars explore it. Scientists search for signs of past or present life. (Sources: NASA; ESA; Wikipedia)',
        e_jupiter: 'Jupiter',
        e_jupiter_c: 'Jupiter is the largest planet, a gas giant with a Great Red Spot (storm), 79 known moons including the four Galilean moons (Io, Europa, Ganymede, Callisto). NASA\'s Juno mission studies it. It protects the inner solar system from many asteroids. (Sources: NASA; ESA; Wikipedia)',
        e_saturn: 'Saturn',
        e_saturn_c: 'Saturn is the sixth planet, famous for its rings. It is a gas giant with 82 known moons, including Titan (which has an atmosphere). NASA\'s Cassini mission explored it for 13 years. (Sources: NASA; ESA; Wikipedia)',
        e_uranus: 'Uranus',
        e_uranus_c: 'Uranus is the seventh planet, an ice giant. It rotates on its side and has a blue-green colour from methane. NASA\'s Voyager 2 is the only spacecraft to have flown by. It has 27 known moons. (Sources: NASA; ESA; Wikipedia)',
        e_neptune: 'Neptune',
        e_neptune_c: 'Neptune is the eighth and farthest known planet. It is an ice giant with strong winds and a dark storm (Great Dark Spot). Voyager 2 flew by in 1989. It has 14 known moons, including Triton. (Sources: NASA; ESA; Wikipedia)',
        e_mars_terraforming: 'Mars terraforming',
        e_mars_terraforming_c: 'Terraforming Mars means altering its environment for human life. NASA and ESA researchers discuss releasing CO‚ÇÇ, greenhouse atmospheres, and microbes. Most experts say centuries or millennia; some doubt feasibility. Christian, Muslim, Jewish, Buddhist, Hindu, and secular ethicists debate whether humans should modify other worlds. (Sources: NASA; ESA; Wikipedia)',
        e_venus: 'Venus',
        e_venus_c: 'Venus is the second planet: similar in size to Earth but with a dense CO‚ÇÇ atmosphere, surface temperatures ~465¬∞C, and crushing pressure. NASA (Magellan) and ESA (Venus Express) study it. It may have had oceans billions of years ago. Named after the Roman goddess of love. (Sources: NASA; ESA; Wikipedia)',
        e_venus_terraforming: 'Venus terraforming',
        e_venus_terraforming_c: 'Terraforming Venus is even more challenging than Mars: extreme heat, pressure, acid clouds. Proposed ideas (floating habitats, cooling) remain highly speculative. Christian, Muslim, Jewish, Buddhist, Hindu, and secular thinkers discuss the ethics of altering other worlds. (Sources: NASA; ESA; Wikipedia)',
        e_extraterrestrial_life: 'Extraterrestrial life beyond Earth',
        e_extraterrestrial_life_c: 'NASA (SETI, astrobiology) and ESA search for life on Mars, Europa, Enceladus, or exoplanets. No evidence yet. Christian (Vatican Observatory), Muslim (Sunni and Shia), Jewish, Buddhist, Hindu, and atheist scholars discuss whether other life exists and what it would mean for theology and philosophy. The Drake Equation estimates communicative civilisations. (Sources: NASA; ESA; SETI; Wikipedia)',
        e_satellites: 'Satellites',
        e_satellites_c: 'Artificial satellites orbit Earth for communications, weather, navigation (GPS, Galileo), and science. Sputnik 1 (1957) was the first. Christian, Muslim, Jewish, Buddhist, Hindu, and secular societies benefit; many see it as a neutral tool for human flourishing. (Sources: NASA; ESA; Wikipedia)',
        e_iss: 'International Space Station (ISS)',
        e_iss_c: 'The ISS is a habitable space station in low Earth orbit, operated by NASA, ESA, Roscosmos, JAXA, and CSA. Continuously occupied since 2000. Christian (astronauts who have spoken of faith), Muslim (Sunni and Shia), Jewish, and atheist crew members have worked aboard. (Sources: NASA; ESA; Wikipedia)',
        e_rockets: 'Rockets',
        e_rockets_c: 'Rockets use Newton\'s third law. NASA\'s Saturn V, Space Shuttle, SLS; ESA\'s Ariane; and commercial rockets (SpaceX) enable exploration. Tsiolkovsky and Goddard pioneered the theory. Christian, Muslim, Jewish, Buddhist, Hindu, and secular societies have celebrated human spaceflight. (Sources: NASA; ESA; Wikipedia)',
        e_moon_landing: 'First Moon orbiting and landing',
        e_moon_landing_c: 'Apollo 8 (1968) first orbited the Moon; Apollo 11 (1969) achieved the first crewed landing. Neil Armstrong and Buzz Aldrin walked on the Moon. Christian (e.g. Buzz Aldrin\'s communion), Muslim (Sunni and Shia), Jewish, Buddhist, Hindu, and secular perspectives have reflected on this "giant leap for mankind." (Sources: NASA; ESA; Wikipedia)',
        e_count_letters: 'Counting letters in words',
        e_count_letters_c: 'Language questions may ask: how many letters in a word? Count each letter, including accents. "Buch" has 4 letters. "√âcole" has 5.'
      },
      en_USA: {
        title_language: 'Choose your language',
        subtitle_language: 'Select the language for the game.',
        title_english_variant: 'Which English?',
        subtitle_english_variant: 'Choose UK or US English and curriculum.',
        title_curriculum: 'School curriculum',
        subtitle_curriculum: 'Choose your school curriculum (US sources).',
        title_age: 'Educational quiz by Isa Mian',
        subtitle_age: 'All information is from a reliable source!',
        label_name: 'Your name',
        label_age: 'How old are you?',
        placeholder_name: '',
        placeholder_age: '',
        btn_continue: 'Continue',
        scoreboard_title: 'Scoreboard ‚Äî beat the top to become #1',
        title_subjects: 'Choose subjects',
        subtitle_subjects: 'Pick which subjects you want to learn. You get 10 questions per subject. Maths from Grade 4; Chemistry, Biology, Physics from Grade 7; Geography, History, German, Musik, English from Grade 5. US curriculum.',
        btn_back: 'Back',
        btn_choose_mode: 'Continue',
        title_mode: 'Quiz or Learn?',
        subtitle_mode: 'Choose how you want to study your selected subjects.',
        mode_quiz: 'üìù Quiz ‚Äî answer questions and score points',
        mode_learn: 'üìñ Learn ‚Äî read age-appropriate explanations',
        title_mode_lang: 'Quiz or Info texts?',
        subtitle_mode_lang: 'Choose how you want to study your selected language subjects.',
        mode_info_texts: 'üìñ Info texts search ‚Äî read explanations in your language',
        mode_dictionary: 'üìï Dictionary ‚Äî look up words in your language',
        mode_vocabulary: 'üìó Vocabulary ‚Äî learn words from your language subject into your language',
        dict_title: 'Dictionary',
        dict_subtitle: 'Type a word in the box below to look it up. Reliable sources: Wiktionary, PONS, Cambridge, Duden. Textbook publishers: Cornelsen.',
        dict_search_label: 'Search word',
        dict_search_placeholder: 'Enter a word',
        dict_search_btn: 'Search',
        dict_pages_aa_zz: 'Pages aa‚Äìzz',
        vocab_title: 'Vocabulary',
        vocab_subtitle: 'Type a word in the box below. Reliable sources: PONS, dict.cc, Leo, Cambridge, Wiktionary. Textbook publishers: Cornelsen.',
        vocab_search_label: 'Search word',
        vocab_search_placeholder: 'Enter a word',
        vocab_search_btn: 'Search',
        vocab_pages_aa_zz: 'Pages aa‚Äìzz',
        learn_title: 'Learning content',
        learn_subtitle: 'Age-appropriate explanations of every topic in your selected subjects.',
        learn_toc_heading: 'Summary ‚Äî Table of contents',
        learn_page: 'Page',
        btn_start_game: 'Start game',
        stat_question: 'Question',
        stat_time: 'Time',
        stat_avg: 'Avg',
        stat_score: 'Score',
        stat_lives: 'Lives',
        stat_err: 'Err',
        placeholder_answer: 'Your answer',
        btn_check: 'Check',
        btn_next_question: 'Next question',
        feedback_correct: 'Correct!',
        feedback_wrong: 'Wrong! The answer was',
        title_game_over: 'Game over',
        subtitle_results: "Here's how you did.",
        results_title: 'Your score',
        results_mistakes_format: '%1 mistake(s) out of %2 questions',
        summary_title: 'Summary ‚Äî questions and answers',
        btn_continue_scoreboard: 'Continue to Scoreboard',
        scoreboard_heading: 'Scoreboard',
        btn_play_again: 'Play again',
        err_enter_name: 'Please fill out this field.',
        err_enter_number: 'Please enter a value.',
        err_valid_age: 'Please enter a valid age.',
        err_age_min: 'This game is for ages 8 and up.',
        err_age_max: 'This game is for ages 8‚Äì99. Thanks for your interest!',
        err_select_subject: 'Please select at least one subject.',
        err_username_taken: 'Username already taken. Choose another name.',
        game_over_lives: 'Out of lives',
        game_over_goodbye: 'Goodbye! GG but‚Ä¶',
        no_scores_yet: 'No scores yet. Be the first!',
        what_is: 'What is',
        curriculum_common_core: 'USA (Common Core)',
        curriculum_texas: 'Texas (TEKS)',
        curriculum_california: 'California'
      },
      de: {
        title_language: 'Sprache w√§hlen',
        subtitle_language: 'W√§hle die Sprache f√ºr das Spiel.',
        title_english_variant: 'Welches Englisch?',
        subtitle_english_variant: 'UK- oder US-Englisch.',
        title_curriculum: 'Schul-Lehrplan',
        subtitle_curriculum: 'W√§hle deinen Schul-Lehrplan (deutsche Quellen).',
        title_age: 'Educational quiz by Isa Mian',
        subtitle_age: 'Alle Informationen stammen aus zuverl√§ssigen Quellen!',
        label_name: 'Dein Name',
        label_age: 'Wie alt bist du?',
        placeholder_name: '',
        placeholder_age: '',
        btn_continue: 'Weiter',
        scoreboard_title: 'Bestenliste ‚Äî werde Nr. 1!',
        title_subjects: 'F√§cher w√§hlen',
        subtitle_subjects: 'W√§hle deine F√§cher. 10 Fragen pro Fach. Mathe ab Klasse 4; Chemie, Biologie, Physik, Geografie, Geschichte, Deutsch, Musik, Englisch ab Klasse 5/6. Rahmenlehrplan.',
        btn_back: 'Zur√ºck',
        btn_choose_mode: 'Weiter',
        title_mode: 'Quiz oder Lernen?',
        subtitle_mode: 'W√§hle, wie du deine F√§cher lernen m√∂chtest.',
        mode_quiz: 'üìù Quiz ‚Äî Fragen beantworten und Punkte sammeln',
        mode_learn: 'üìñ Lernen ‚Äî altersgerechte Erkl√§rungen lesen',
        title_mode_lang: 'Quiz oder Infotexte?',
        subtitle_mode_lang: 'W√§hle, wie du deine Sprachf√§cher lernen m√∂chtest.',
        mode_info_texts: 'üìñ Infotexte ‚Äî Erkl√§rungen in deiner Sprache lesen',
        mode_dictionary: 'üìï W√∂rterbuch ‚Äî W√∂rter in deiner Sprache nachschlagen',
        mode_vocabulary: 'üìó Vokabeln ‚Äî W√∂rter aus dem Sprachfach in deine Sprache lernen',
        learn_title: 'Lerninhalt',
        learn_subtitle: 'Altersgerechte Erkl√§rungen zu jedem Thema in deinen F√§chern.',
        learn_toc_heading: 'Inhaltsverzeichnis',
        learn_page: 'Seite',
        btn_start_game: 'Spiel starten',
        stat_question: 'Frage',
        stat_time: 'Zeit',
        stat_avg: '√ò',
        stat_score: 'Punkte',
        stat_lives: 'Leben',
        stat_err: 'Fehler',
        placeholder_answer: 'Deine Antwort',
        btn_check: 'Pr√ºfen',
        btn_next_question: 'N√§chste Frage',
        feedback_correct: 'Richtig!',
        feedback_wrong: 'Falsch! Die Antwort war',
        title_game_over: 'Spiel vorbei',
        subtitle_results: 'So hast du abgeschnitten.',
        results_title: 'Deine Punkte',
        results_mistakes_format: '%1 Fehler von %2 Fragen',
        summary_title: '√úbersicht ‚Äî Fragen und Antworten',
        btn_continue_scoreboard: 'Weiter zur Bestenliste',
        scoreboard_heading: 'Bestenliste',
        btn_play_again: 'Nochmal spielen',
        err_enter_name: 'Bitte f√ºlle dieses Feld aus.',
        err_enter_number: 'Bitte gib einen Wert ein.',
        err_valid_age: 'Bitte gib ein g√ºltiges Alter ein.',
        err_age_min: 'Das Spiel ist f√ºr 8 Jahre und √§lter.',
        err_age_max: 'Das Spiel ist f√ºr 8‚Äì99 Jahre. Danke f√ºr dein Interesse!',
        err_select_subject: 'Bitte w√§hle mindestens ein Fach.',
        err_username_taken: 'Benutzername bereits vergeben. W√§hle einen anderen Namen.',
        game_over_lives: 'Keine Leben mehr',
        game_over_goodbye: 'Tsch√ºss! Bis zum n√§chsten Mal.',
        no_scores_yet: 'Noch keine Punkte. Sei der Erste!',
        what_is: 'Was ist',
        curriculum_berlin: 'Berlin (Rahmenlehrplan)',
        curriculum_bayern: 'Bayern (LehrplanPLUS)',
        curriculum_bw: 'Baden-W√ºrttemberg',
        curriculum_nrw: 'Nordrhein-Westfalen',
        curriculum_hessen: 'Hessen',
        curriculum_sachsen: 'Sachsen',
        q_value_of_bar: 'der Wert von Balken %1',
        q_total_of_bars: 'die Summe aller Balken',
        q_diff_between_bars: 'die Differenz zwischen Balken %1 und Balken %2',
        q_mean_of: 'der Mittelwert von %1',
        q_median_of: 'der Median von %1',
        q_range_of: 'die Spannweite von %1',
        q_mode_of: 'der Modalwert von %1',
        q_value_of_x_in: 'der Wert von x in %1x + %2 = %3',
        q_value_of_deriv: 'der Wert von d/dx von x^%1 an der Stelle x = %2',
        q_pct_segment: 'der Prozentsatz, den das Segment %1 darstellt (ganze Zahl)',
        q_value_at_row_col: 'der Wert in Zeile %1, Spalte %2',
        q_area_rect: 'der Fl√§cheninhalt eines Rechtecks mit Breite %1 und H√∂he %2',
        q_perimeter_rect: 'der Umfang eines Rechtecks mit Breite %1 und H√∂he %2',
        q_third_angle: 'der dritte Winkel in einem Dreieck, in dem zwei Winkel %1 betragen (Grad)',
        q_area_triangle: 'der Fl√§cheninhalt eines Dreiecks mit Grundseite %1 und H√∂he %2',
        q_area_circle: 'der Fl√§cheninhalt eines Kreises mit Radius %1 (œÄ = 3,14, ganze Zahl)',
        q_circumference: 'der Umfang eines Kreises mit Radius %1 (œÄ = 3,14, ganze Zahl)',
        q_volume_box: 'das Volumen eines Quaders mit L√§nge %1, Breite %2 und H√∂he %3',
        subject_maths: 'Mathematik',
        subject_chemistry: 'Chemie',
        subject_biology: 'Biologie',
        subject_physics: 'Physik',
        subject_geography: 'Geografie',
        subject_history: 'Geschichte',
        subject_german: 'Deutsch',
        subject_musik: 'Musik',
        subject_english: 'Englisch',
        subject_french: 'Franz√∂sisch',
        subject_latin: 'Latein',
        subject_spanish: 'Spanisch',
        subject_laws_rights: 'Recht und Menschenrechte',
        subject_arabic_standard: 'Arabisch (Standard)',
        subject_arabic_algerian: 'Arabisch (Algerisch)',
        subject_arabic_moroccan: 'Arabisch (Marokkanisch)',
        subject_arabic_tunisian: 'Arabisch (Tunesisch)',
        subject_arabic_egyptian: 'Arabisch (√Ñgyptisch)',
        subject_arabic_syrian: 'Arabisch (Syrisch)',
        subject_arabic_iranian: 'Arabisch (Iranisch)',
        subject_pashto: 'Paschtu (Afghanisch)',
        subject_greek: 'Griechisch',
        subject_mandarin_simplified: 'Chinesisch (vereinfacht)',
        subject_mandarin_traditional: 'Chinesisch (traditionell)',
        subject_russian: 'Russisch',
        subject_turkish: 'T√ºrkisch',
        subject_urdu: 'Urdu',
        subject_hindi: 'Hindi',
        subject_italian: 'Italienisch',
        subject_portuguese: 'Portugiesisch',
        subject_japanese: 'Japanisch',
        subject_korean: 'Koreanisch',
        subject_bengali: 'Bengalisch',
        subject_dutch: 'Niederl√§ndisch',
        subject_polish: 'Polnisch',
        subject_swedish: 'Schwedisch',
        subject_vietnamese: 'Vietnamesisch',
        subject_indonesian: 'Indonesisch',
        scoreboard_col_avg: 'Durchschnitt',
        scoreboard_col_language: 'Sprache',
        scoreboard_col_subjects: 'F√§cher',
        scoreboard_grade_university: 'Universit√§t',
        scoreboard_your_score: 'Deine Punktzahl',
        q_atomic_number: 'Wie lautet die Ordnungszahl von %1?',
        q_protons_in: 'Wie viele Protonen hat %1?',
        q_electrons_neutral: 'Wie viele Elektronen hat ein neutrales %1-Atom?',
        q_valence_electrons: 'Wie viele Valenzelektronen hat %1?',
        q_neutrons_in: 'Wie viele Neutronen in %1 (Ordnungszahl %2)?',
        q_neutrons_in_short: 'Wie viele Neutronen in %1?',
        q_ph_value: 'Wie lautet der pH-Wert von %1?',
        q_elements_in: 'Wie viele (verschiedene) Elemente in %1?',
        q_h_atoms_in: 'Wie viele Wasserstoffatome in %1?',
        q_atoms_in: 'Wie viele Atome in %1?',
        q_X_atoms_in: 'Wie viele %1-Atome in %2?',
        q_atoms_in_molecule: 'Wie viele Atome in %1?',
        q_number_of: 'Wie lautet die Anzahl von %1?',
        q_letters_german_alphabet: 'Wie viele Buchstaben hat das deutsche Alphabet?',
        q_letters_english_alphabet: 'Wie viele Buchstaben hat das englische Alphabet?',
        q_letters_french_alphabet: 'Wie viele Buchstaben hat das franz√∂sische Alphabet?',
        q_letters_spanish_alphabet: 'Wie viele Buchstaben hat das spanische Alphabet?',
        q_letters_latin_alphabet: 'Wie viele Buchstaben hat das lateinische Alphabet?',
        q_letters_in_word: 'Wie viele Buchstaben hat ‚Äû%1"?',
        q_letters_in: 'Wie viele Buchstaben in %1?',
        q_number_of_in: 'Wie viele %1 gibt es im %2?',
        q_bio_wings_ant: 'Wie viele Fl√ºgel hat eine Ameise?',
        q_bio_wings_bee: 'Wie viele Fl√ºgel hat eine Biene?',
        q_bio_wings_butterfly: 'Wie viele Fl√ºgel hat ein Schmetterling?',
        q_bio_wings_beetle: 'Wie viele Fl√ºgel hat ein K√§fer?',
        q_bio_wings_dragonfly: 'Wie viele Fl√ºgel hat eine Libelle?',
        q_bio_wings_housefly: 'Wie viele Fl√ºgel hat eine Stubenfliege?',
        q_bio_wings_mosquito: 'Wie viele Fl√ºgel hat eine M√ºcke?',
        q_bio_wings_grasshopper: 'Wie viele Fl√ºgel hat eine Heuschrecke?',
        q_bio_wings_moth: 'Wie viele Fl√ºgel hat eine Motte?',
        q_bio_legs_insect: 'Wie viele Beine hat ein Insekt?',
        q_bio_legs_spider: 'Wie viele Beine hat eine Spinne?',
        q_bio_legs_lobster: 'Wie viele Beine hat ein Hummer?',
        q_bio_legs_crab: 'Wie viele Beine hat ein Krebs?',
        q_bio_legs_scorpion: 'Wie viele Beine hat ein Skorpion?',
        q_bio_legs_centipede: 'Wie viele Beine hat ein Hundertf√º√üer pro Segment?',
        q_bio_legs_millipede: 'Wie viele Beine hat ein Tausendf√º√üer pro Segment?',
        q_bio_chambers_human_heart: 'Wie viele Kammern hat das menschliche Herz?',
        q_bio_chambers_fish_heart: 'Wie viele Kammern hat ein Fischherz?',
        q_bio_chambers_bird_heart: 'Wie viele Kammern hat ein Vogelherz?',
        q_bio_chambers_amphibian_heart: 'Wie viele Kammern hat ein Amphibienherz?',
        q_bio_chambers_human_stomach: 'Wie viele Kammern hat der menschliche Magen?',
        q_bio_chromosomes_human: 'Wie viele Chromosomen hat eine menschliche Zelle?',
        q_bio_bones_human: 'Wie viele Knochen hat ein erwachsener menschlicher K√∂rper?',
        q_bio_teeth_adult: 'Wie viele Z√§hne hat das vollst√§ndige bleibende Gebiss?',
        q_bio_arms_starfish: 'Wie viele Arme hat ein Seestern?',
        q_bio_arms_octopus: 'Wie viele Arme hat ein Oktopus?',
        q_bio_hearts_octopus: 'Wie viele Herzen hat ein Oktopus?',
        q_bio_stomachs_cow: 'Wie viele M√§gen hat eine Kuh?',
        q_geo_continents: 'Wie viele Kontinente gibt es?',
        q_geo_oceans: 'Wie viele Ozeane gibt es auf der Erde?',
        q_geo_bundeslaender: 'Wie viele Bundesl√§nder hat Deutschland?',
        q_geo_eu_countries: 'Wie viele L√§nder hat die EU (2024)?',
        q_geo_borders_germany: 'Wie viele L√§nder grenzen an Deutschland?',
        q_geo_hemispheres: 'Wie viele Halbkugeln gibt es?',
        q_geo_cardinal_directions: 'Wie viele Himmelsrichtungen gibt es?',
        q_geo_degrees_circle: 'Wie viele Grad hat ein Vollkreis?',
        q_geo_degrees_half: 'Wie viele Grad hat ein Halbkreis?',
        q_geo_degrees_right: 'Wie viele Grad hat ein rechter Winkel?',
        q_geo_us_states: 'Wie viele US-Bundesstaaten gibt es?',
        q_geo_africa: 'Wie viele L√§nder hat Afrika?',
        q_geo_asia: 'Wie viele L√§nder hat Asien?',
        q_geo_south_america: 'Wie viele L√§nder hat S√ºdamerika?',
        q_geo_uk_countries: 'Wie viele L√§nder geh√∂ren zum Vereinigten K√∂nigreich?',
        q_geo_un_security: 'Wie viele st√§ndige Mitglieder hat der UN-Sicherheitsrat?',
        q_physics_when: 'Was ist %1, wenn %2?',
        physics_and: 'und',
        q_hist_berlin_wall: 'In welchem Jahr fiel die Berliner Mauer?',
        q_hist_reunification: 'In welchem Jahr war die deutsche Wiedervereinigung (offiziell)?',
        q_hist_ww1_begin: 'In welchem Jahr begann der Erste Weltkrieg?',
        q_hist_ww1_end: 'In welchem Jahr endete der Erste Weltkrieg?',
        q_hist_ww2_begin: 'In welchem Jahr begann der Zweite Weltkrieg (Europa)?',
        q_hist_ww2_end: 'In welchem Jahr endete der Zweite Weltkrieg in Europa?',
        q_hist_columbus: 'In welchem Jahr erreichte Kolumbus Amerika?',
        q_hist_french_rev: 'In welchem Jahr begann die Franz√∂sische Revolution?',
        q_hist_luther: 'In welchem Jahr schlug Luther seine 95 Thesen an?',
        q_hist_brd: 'In welchem Jahr wurde die Bundesrepublik Deutschland gegr√ºndet?',
        q_hist_ddr: 'In welchem Jahr wurde die DDR gegr√ºndet?',
        q_hist_un: 'In welchem Jahr wurde die UNO gegr√ºndet?',
        q_hist_nato: 'In welchem Jahr wurde die NATO gegr√ºndet?',
        q_hist_30_years: 'Wie viele Jahre dauerte der Drei√üigj√§hrige Krieg?',
        q_hist_un_security: 'Wie viele st√§ndige Mitglieder hat der UN-Sicherheitsrat?',
        q_laws_udhr_articles: 'Wie viele Artikel hat die Allgemeine Erkl√§rung der Menschenrechte (1948)?',
        q_laws_gg_rights: 'Wie viele Grundrechte hat das deutsche Grundgesetz (erster Abschnitt)?',
        q_laws_us_bill: 'Wie viele Zusatzartikel hat die US-Verfassung (Bill of Rights)?',
        q_laws_udhr_year: 'In welchem Jahr wurde die Allgemeine Erkl√§rung der Menschenrechte verabschiedet?',
        q_laws_echr_year: 'In welchem Jahr wurde die Europ√§ische Menschenrechtskonvention unterzeichnet?',
        q_laws_crc_articles: 'Wie viele Artikel hat die UN-Kinderrechtskonvention (Hauptartikel)?',
        q_laws_vote_de: 'Wie alt muss man in Deutschland sein, um bei Bundestagswahlen w√§hlen zu d√ºrfen?',
        q_laws_vote_us: 'Wie alt muss man in den meisten US-Bundesstaaten sein, um bei Bundeswahlen w√§hlen zu d√ºrfen?',
        q_laws_vote_uk: 'Wie alt muss man im Vereinigten K√∂nigreich sein, um bei Parlamentswahlen w√§hlen zu d√ºrfen?',
        q_laws_crc_principles: 'Wie viele Grundprinzipien hat die UN-Kinderrechtskonvention?',
        q_laws_crc_year: 'In welchem Jahr wurde die UN-Kinderrechtskonvention verabschiedet?',
        q_laws_un_bodies: 'Wie viele UN-Menschenrechtsvertragsorgane (Hauptorgane) gibt es?',
        q_laws_eu_charter: 'Wie viele Rechte enth√§lt die EU-Grundrechtecharta (Titel II‚ÄìVII)?',
        q_astro_planets: 'Wie viele Planeten hat unser Sonnensystem?',
        q_astro_dwarf: 'Wie viele Zwergplaneten erkennt die IAU an (approx)?',
        q_astro_days_year: 'Wie viele Erdentage hat ein Jahr (approx)?',
        q_astro_moon_earth: 'Wie viele nat√ºrliche Satelliten (Monde) hat die Erde?',
        q_astro_moons_mars: 'Wie viele Monde hat der Mars?',
        q_astro_galilean: 'Wie viele galileische Monde hat Jupiter?',
        q_astro_speed_light: 'Wie hoch ist die Lichtgeschwindigkeit im Vakuum (approx, km/s)?',
        q_astro_spacetime_dim: 'Wie viele Dimensionen hat die Raumzeit in der Allgemeinen Relativit√§tstheorie?',
        q_astro_black_hole_img: 'In welchem Jahr wurde das erste Bild eines Schwarzen Lochs ver√∂ffentlicht (EHT)?',
        q_astro_hubble: 'In welchem Jahr wurde das Hubble-Weltraumteleskop gestartet?',
        q_astro_jwst: 'In welchem Jahr wurde das James-Webb-Weltraumteleskop gestartet?',
        q_astro_sputnik: 'In welchem Jahr wurde der erste Satellit (Sputnik 1) gestartet?',
        q_astro_iss: 'In welchem Jahr wurde das erste ISS-Modul gestartet?',
        q_astro_iss_crew: 'Wie viele Astronauten/Kosmonauten hat die ISS typischerweise (Crew)?',
        q_astro_gagarin: 'In welchem Jahr erreichte die erste bemannte Rakete den Weltraum (Gagarin)?',
        q_astro_apollo8: 'In welchem Jahr umkreisten Menschen erstmals den Mond (Apollo 8)?',
        q_astro_apollo11: 'In welchem Jahr war die erste bemannte Mondlandung (Apollo 11)?',
        q_astro_apollo11_crew: 'Wie viele Besatzungsmitglieder hatte Apollo 11?',
        q_astro_homo: 'Vor wie vielen Jahren erschien Homo sapiens erstmals (Jebel Irhoud)?',
        q_astro_light_sun_earth: 'Wie viele Sekunden braucht Licht von der Sonne zur Erde (approx)?',
        q_phys_newton_laws: 'Wie viele newtonsche Gesetze der Bewegung gibt es?',
        q_phys_g_value: 'Was betr√§gt g (Erdbeschleunigung) in m/s¬≤ (ganze Zahl)?',
        q_phys_forces: 'Wie viele fundamentale Kr√§fte gibt es in der Natur?',
        q_phys_states: 'Wie viele klassische Aggregatzust√§nde gibt es?',
        q_phys_sound_speed: 'Wie hoch ist die Schallgeschwindigkeit in Luft in m/s (approx)?',
        q_phys_magnet_poles: 'Wie viele Pole hat ein Stabmagnet?',
        q_phys_primary_colours: 'Wie viele additive Grundfarben des Lichts gibt es?',
        q_phys_freezing: 'Bei welcher Temperatur in ¬∞C gefriert Wasser?',
        q_phys_boiling: 'Bei welcher Temperatur in ¬∞C siedet Wasser auf Meeresh√∂he?',
        q_phys_simple_machines: 'Wie viele Arten von einfachen Maschinen (Hebel, Rolle, etc.) gibt es?',
        q_phys_refractive_index: 'Wie gro√ü ist der Brechungsindex von Vakuum/Luft (approx)?',
        q_phys_lever_classes: 'Wie viele Hebelarten gibt es?',
        q_phys_thermo_laws: 'Wie viele Haupts√§tze der Thermodynamik gibt es?',
        q_phys_quarks_proton: 'Wie viele Quarks hat ein Proton?',
        q_phys_quarks_neutron: 'Wie viele Quarks hat ein Neutron?',
        q_phys_spectrum_colours: 'Wie viele Farben hat das sichtbare Spektrum (ROYGBIV)?',
        q_phys_wave_types: 'Wie viele Arten mechanischer Wellen (nach Ausbreitungsrichtung) gibt es?',
        q_phys_battery_terminals: 'Wie viele Pole hat eine Batteriezelle?',
        q_phys_kepler: 'Wie viele keplersche Gesetze gibt es?',
        q_phys_thermo_common: 'Wie viele Haupts√§tze der Thermodynamik werden √ºblicherweise gelehrt?',
        q_phys_energy_types: 'Wie viele Hauptarten von Energie (kinetisch, potenziell) gibt es?',
        q_phys_nuclear_radiation: 'Wie viele Arten von Kernstrahlung (Alpha, Beta, Gamma) gibt es?',
        q_phys_uk_plug: 'Wie viele Kontakte hat ein UK-Stecker?',
        q_phys_us_plug: 'Wie viele Kontakte hat ein US-Stecker (Standard)?',
        q_phys_light_speed: 'Wie hoch ist die Lichtgeschwindigkeit im Vakuum in km/s?',
        q_phys_circuit_parts: 'Wie viele Teile braucht ein einfacher Gleichstromkreis mindestens?',
        q_phys_moon_phases: 'Wie viele Mondphasen gibt es in einem vollst√§ndigen Zyklus?',
        term_vowels: 'Vokale',
        term_syllables: 'Silben',
        term_cases: 'F√§lle',
        term_genders: 'Genera',
        term_articles: 'Artikel',
        term_accents: 'Akzente',
        term_tenses: 'Zeiten',
        term_german: 'Deutschen',
        term_english: 'Englischen',
        term_french: 'Franz√∂sischen',
        term_spanish: 'Spanischen',
        term_latin: 'Lateinischen',
        summary_your_answer: 'Deine Antwort',
        summary_correct: 'Richtig',
        summary_no_questions: 'Keine Fragen beantwortet.',
        e_sources_default: 'Quellen: Wikipedia (https://de.wikipedia.org); IUPAC; Lehrplan. Inhalt f√ºr Bildungszwecke angepasst.',
        e_add_what: 'Was ist Addition?',
        e_add_what_young: 'Addition ist eine der vier Grundrechenarten. Sie verbindet zwei oder mehr Zahlen (Summanden) zu einer Summe. Beispiel: 3 + 2 = 5. Das Pluszeichen (+) bedeutet ‚Äûaddieren‚Äú. Mit dem Zahlenstrahl: starte bei 3, springe 2 vorw√§rts, lande bei 5. (Quelle: Wikipedia ‚Äì Addition)',
        e_add_what_old: 'Addition ist eine zweistellige Verkn√ºpfung, die zwei Zahlen zu einer Summe verbindet. Sie ist kommutativ (a + b = b + a) und assoziativ ((a + b) + c = a + (b + c)). Die Zahl 0 ist das neutrale Element. (Quelle: Wikipedia ‚Äì Addition)',
        e_add_single: 'Einstellige Zahlen addieren',
        e_add_single_young: 'Fang mit kleinen Zahlen an wie 2 + 3. Z√§hl an den Fingern, wenn es hilft! 2 + 3 = 5. √úbe, bis du alle Summen von 0+0 bis 9+9 kennst.',
        e_add_single_old: 'Einstellige Addition ist die Grundlage. Lerne die Summen bis 9+9 auswendig. Nutze Zahlenstrahlen oder Bausteine.',
        e_add_two: 'Zweistellige Zahlen addieren',
        e_add_two_c: 'Richte Einer und Zehner aus. Addiere zuerst die Einer, dann die Zehner. Beispiel: 23 + 45. 3+5=8 Einer, 2+4=6 Zehner, also 23+45=68.',
        e_carry: '√úbertrag bei der Addition',
        e_carry_c: 'Wenn die Einer 10 oder mehr ergeben, ‚Äû√ºbertrage‚Äú die extra Zehn. Beispiel: 27+35. 7+5=12, schreibe 2, √ºbertrage 1. 2+3+1=6 Zehner. Antwort: 62.',
        e_sub_what: 'Was ist Subtraktion?',
        e_sub_what_young: 'Subtraktion bedeutet Abziehen. Wenn du 5 Bonbons hast und 2 isst, hast du 3 √ºbrig. Wir schreiben 5 ‚àí 2 = 3.',
        e_sub_what_old: 'Subtraktion ermittelt die Differenz zwischen zwei Zahlen. F√ºr a ‚àí b erhalten wir die Zahl, die zu b addiert a ergibt.',
        e_sub_no_borrow: 'Subtraktion ohne Entb√ºndeln',
        e_sub_no_borrow_c: 'Wenn die obere Zahl in jeder Spalte gr√∂√üer ist, subtrahiere direkt. 48 ‚àí 25 = 23. Einer (8‚àí5=3), Zehner (4‚àí2=2).',
        e_sub_borrow: 'Entb√ºndeln bei der Subtraktion',
        e_sub_borrow_c: 'Wenn eine Ziffer oben kleiner ist, entb√ºndle von links. Beispiel: 52‚àí27. 2 ist kleiner als 7, entb√ºndle 1 Zehn von 5. 12‚àí7=5, 4‚àí2=2. Antwort: 25.',
        e_mult_what: 'Was ist Multiplikation?',
        e_mult_what_young: 'Multiplikation ist schnelle Addition. 3 √ó 4 bedeutet 3 viermal addieren: 3+3+3+3=12. Also 3√ó4=12.',
        e_mult_what_old: 'Multiplikation ist wiederholte Addition. F√ºr ganze Zahlen: a √ó b = a + a + ... (b-mal). Sie ist kommutativ und assoziativ.',
        e_times: 'Einmaleins (2 bis 10)',
        e_times_c: 'Lerne dein Einmaleins! Es hilft bei gr√∂√üeren Rechnungen. Fang mit 2er, 5er, 10er an. Dann 3er, 4er, 6er, 7er, 8er, 9er. √úbe t√§glich.',
        e_mult10: 'Mit 10 und 100 multiplizieren',
        e_mult10_c: 'Bei Multiplikation mit 10 eine Null anh√§ngen: 7√ó10=70. Mit 100 zwei Nullen: 7√ó100=700. Die Ziffern verschieben sich.',
        e_div_what: 'Was ist Division?',
        e_div_what_young: 'Division bedeutet Verteilen. 12 √∑ 3 bedeutet: Wenn wir 12 in 3 gleiche Gruppen teilen, wie viele sind in jeder? Antwort: 4.',
        e_div_what_old: 'Division ist die Umkehrung der Multiplikation. a √∑ b ermittelt, wie oft b in a passt. Bei Rest schreiben wir einen Bruch oder Dezimalzahl.',
        e_div_rem: 'Division mit Rest',
        e_div_rem_c: 'Manchmal geht die Division nicht auf. 17 √∑ 5 = 3 Rest 2, weil 5√ó3=15 und 17‚àí15=2. Man kann auch 17/5 oder 3,4 schreiben.',
        e_order: 'Rechenreihenfolge',
        e_order_c: 'Merke: Klammern zuerst, dann √ó und √∑ (links nach rechts), dann + und ‚àí (links nach rechts). Beispiel: 2+3√ó4 = 2+12 = 14, nicht 20.',
        e_frac_what: 'Was sind Br√ºche?',
        e_frac_what_young: 'Ein Bruch stellt einen Teil eines Ganzen dar. Der Z√§hler (oben) gibt die Anzahl der Teile an; der Nenner (unten) die Anzahl gleicher Teile. Beispiel: 1/2 ist eine von zwei gleichen H√§lften. Br√ºche wie 1/2, 2/4, 3/6 sind gleichwertig. (Quelle: Wikipedia ‚Äì Bruchrechnung)',
        e_frac_what_old: 'Ein Bruch a/b ist eine rationale Zahl, die a Teile von b gleichen Teilen darstellt. Echte Br√ºche sind < 1; unechte ‚â• 1. Gleichwertige Br√ºche haben denselben Wert. Br√ºche lassen sich als Dezimalzahlen schreiben (1/2 = 0,5). (Quelle: Wikipedia ‚Äì Bruchrechnung)',
        e_equiv_frac: 'Gleichwertige Br√ºche',
        e_equiv_frac_c: 'Br√ºche wie 1/2, 2/4, 3/6 sind gleichwertig‚Äîsie zeigen dieselbe Menge. Z√§hler und Nenner mit derselben Zahl multiplizieren oder dividieren.',
        e_add_frac_same: 'Br√ºche mit gleichem Nenner addieren',
        e_add_frac_same_c: 'Bei gleichem Nenner die Z√§hler addieren: 2/5 + 1/5 = 3/5. Den Nenner beibehalten.',
        e_add_frac_diff: 'Br√ºche mit unterschiedlichen Nennern addieren',
        e_add_frac_diff_c: 'Einen gemeinsamen Nenner finden. Beispiel: 1/2 + 1/3. Gemeinsamer Nenner 6: 3/6 + 2/6 = 5/6.',
        e_decimals: 'Was sind Dezimalzahlen?',
        e_decimals_c: 'Dezimalzahlen sind eine andere Schreibweise f√ºr Br√ºche. 0,5 = 1/2, 0,25 = 1/4. Nach dem Komma: Zehntel, Hundertstel, Tausendstel usw.',
        e_dec_add: 'Dezimalzahlen addieren und subtrahieren',
        e_dec_add_c: 'Kommas untereinander schreiben. Addieren oder subtrahieren wie mit ganzen Zahlen, dann das Komma setzen.',
        e_pct: 'Was ist Prozent?',
        e_pct_c: 'Prozent bedeutet ‚Äûvon Hundert‚Äú. 50% = 50/100 = 1/2. 20% von 80: 20/100 √ó 80 = 16.',
        e_mean: 'Mittelwert (Durchschnitt)',
        e_mean_c: 'Der Mittelwert ist die Summe aller Werte geteilt durch die Anzahl. Mittelwert von 4, 8, 6 ist (4+8+6)/3 = 6.',
        e_median: 'Median',
        e_median_c: 'Der Median ist der mittlere Wert bei sortierten Daten. Bei 2, 5, 7, 9, 12 ist der Median 7. Bei gerader Anzahl: Mittel der beiden mittleren Werte.',
        e_bar: 'Balkendiagramme lesen',
        e_bar_c: 'Balkendiagramme zeigen Zahlen als Balken. Die H√∂he jedes Balkens zeigt den Wert. Vergleiche die Balken.',
        e_area_rect: 'Fl√§che eines Rechtecks',
        e_area_rect_c: 'Fl√§che = L√§nge √ó Breite. Ein Rechteck 5 cm √ó 3 cm hat die Fl√§che 15 cm¬≤.',
        e_perimeter: 'Umfang',
        e_perimeter_c: 'Der Umfang ist der Abstand um eine Form. Bei einem Rechteck: 2√óL√§nge + 2√óBreite.',
        e_sqrt: 'Was ist eine Quadratwurzel?',
        e_sqrt_c: 'Die Quadratwurzel einer Zahl n ist die Zahl, die mit sich multipliziert n ergibt. ‚àö9 = 3, weil 3√ó3 = 9.',
        e_algebra: 'Einfache Algebra: x l√∂sen',
        e_algebra_c: 'Bei einer Gleichung wie x + 5 = 12 dasselbe auf beiden Seiten tun. 5 abziehen: x = 7. Probe: 7+5=12 ‚úì',
        e_powers: 'Potenzen und Exponenten',
        e_powers_c: '2¬≥ bedeutet 2√ó2√ó2 = 8. Der Exponent zeigt, wie oft die Basis multipliziert wird. 10¬≤ = 100, 2‚Å¥ = 16.',
        e_pythag: 'Satz des Pythagoras',
        e_pythag_c: 'Im rechtwinkligen Dreieck (ein Winkel ist 90¬∞) gilt: Das Quadrat der Hypotenuse (der l√§ngsten Seite, gegen√ºber dem rechten Winkel) ist gleich der Summe der Quadrate der beiden anderen Seiten: a¬≤ + b¬≤ = c¬≤. Beispiel: Sind die Katheten 3 und 4, dann c¬≤ = 9 + 16 = 25, also c = 5. Der Satz stammt vom griechischen Mathematiker Pythagoras und wird f√ºr Entfernungen, beim Bauen und in der Navigation verwendet.',
        e_area_circle: 'Fl√§che eines Kreises',
        e_area_circle_c: 'Die Fl√§che eines Kreises ist A = œÄr¬≤, wobei r der Radius ist (der Abstand vom Mittelpunkt zum Rand). Die Zahl œÄ (Pi) ist etwa 3,14. F√ºr r = 5 gilt: Fl√§che = œÄ √ó 25 ‚âà 78,5 Fl√§cheneinheiten. Die Formel kommt daher, dass sich ein Kreis zu einem Parallelogramm mit H√∂he r und Basis halber Umfang (œÄr) umformen l√§sst.',
        e_circum: 'Umfang eines Kreises',
        e_circum_c: 'Umfang = 2œÄr oder œÄd (d = Durchmesser). F√ºr r=5: Umfang = 2œÄ√ó5 ‚âà 31,4.',
        e_trig: 'Sinus, Kosinus, Tangens',
        e_trig_c: 'Im rechtwinkligen Dreieck: sin = Gegenkathete/Hypotenuse, cos = Ankathete/Hypotenuse, tan = Gegenkathete/Ankathete.',
        e_quadratic: 'Mitternachtsformel',
        e_quadratic_c: 'F√ºr ax¬≤ + bx + c = 0 gilt: x = (‚àíb ¬± ‚àö(b¬≤‚àí4ac)) / 2a. Das ¬± liefert zwei L√∂sungen, wenn b¬≤‚àí4ac > 0.',
        e_practice: '√úben: Kopfrechnen Klasse %1',
        e_practice_c: '√úbe t√§glich mental zu rechnen. Fang mit leichten Aufgaben an und steigere dich. Nutze Karteikarten oder Zeit-Quiz.',
        e_mult_ab: 'Multiplikation: %1 √ó %2',
        e_mult_ab_c: '%1 √ó %2 = %3. Das ist dasselbe wie %1 %2-mal zu addieren.',
        e_add_ab: 'Addition: %1 + %2',
        e_add_ab_c: '%1 + %2 = %3. F√ºge die Zahlen zusammen und z√§hle.',
        e_sub_ab: 'Subtraktion: %1 ‚àí %2',
        e_sub_ab_c: '%1 ‚àí %2 = %3. Ziehe %2 von %1 ab.',
        e_div_ab: 'Division: %1 √∑ %2',
        e_div_ab_c: '%1 √∑ %2 = %3. Teile %1 in %2 gleiche Gruppen.',
        e_power_base: 'Potenz: Basis %1',
        e_power_base_c: 'Potenzen von %1: %2',
        e_sqrt_n: 'Quadratwurzel von %1',
        e_sqrt_n_c: '‚àö%1 = %2, weil %2 √ó %2 = %1.',
        e_frac_1n: 'Bruch 1/%1',
        e_frac_1n_c: '1/%1 bedeutet ein Teil, wenn etwas in %1 gleiche Teile geteilt wird. Als Dezimalzahl: %2‚Ä¶',
        e_pct_n: '%1% als Bruch',
        e_pct_n_c: '%1%% = %1/100 = %2. Also %1%% von 100 ist %1.',
        e_rect_wh: 'Rechteckfl√§che %1 √ó %2',
        e_rect_wh_c: 'Ein Rechteck %1 mal %2 hat die Fl√§che %1 √ó %2 = %3 Quadrateinheiten.',
        e_circle_r: 'Kreis mit Radius %1',
        e_circle_r_c: 'Radius %1: Fl√§che = œÄ√ó%1¬≤ ‚âà %2, Umfang = 2œÄ√ó%1 ‚âà %3.',
        e_alg_x: 'Algebra: x + %1 = 10',
        e_alg_x_c: 'Wenn x + %1 = 10, dann x = 10 ‚àí %1 = %2. Probe: %2 + %1 = 10 ‚úì',
        e_force: 'Was ist eine Kraft?',
        e_force_young: 'Eine Kraft ist ein Sto√ü oder Zug. Wenn du einen Ball schiebst, einen Fu√üball trittst oder ein Spielzeug ziehst, wendest du eine Kraft an. Kr√§fte k√∂nnen Dinge in Bewegung setzen, beschleunigen, verlangsamen oder stoppen. Schwerkraft zieht Dinge nach unten. Reibung bremst, wenn etwas an etwas anderem reibt. Wir messen Kraft in Newton (N).',
        e_force_old: 'Kraft ist eine Einwirkung, die die Bewegung eines K√∂rpers √§ndert. Newtons zweites Gesetz lautet F = ma: Kraft = Masse √ó Beschleunigung. Eine gr√∂√üere Kraft bewirkt mehr Beschleunigung; bei gleicher Kraft beschleunigt eine gr√∂√üere Masse weniger. Es gibt Kontaktkr√§fte (Schieben, Reibung) und Fernkr√§fte (Schwerkraft, Magnetismus).',
        e_energy: 'Was ist Energie?',
        e_energy_c: 'Energie ist die F√§higkeit, Arbeit zu verrichten. Sie kann kinetisch (Bewegung) oder potentiell (gespeichert) sein. Energie bleibt erhalten.',
        e_speed: 'Geschwindigkeit und Tempo',
        e_speed_c: 'Geschwindigkeit ist, wie schnell etwas sich bewegt. Die Richtung geh√∂rt dazu. Geschwindigkeit = Weg √∑ Zeit.',
        e_circuit: 'Einfache Schaltkreise',
        e_circuit_c: 'Ein Stromkreis braucht eine Spannungsquelle (Batterie) und einen Weg f√ºr den Strom. Ein Schalter kann ihn √∂ffnen oder schlie√üen.',
        e_light: 'Licht und Reflexion',
        e_light_c: 'Licht breitet sich geradlinig aus. Trifft es auf einen Spiegel, wird es im gleichen Winkel reflektiert.',
        e_atom: 'Was ist ein Atom?',
        e_atom_young: 'Ein Atom ist die kleinste Einheit gew√∂hnlicher Materie, die ein chemisches Element bildet. Alles besteht aus Atomen. Es gibt 118 bekannte Elemente. Jedes Element wird durch seine Protonenzahl (Ordnungszahl) definiert. Wasserstoff hat 1, Kohlenstoff 6, Sauerstoff 8 Protonen. (Quelle: Wikipedia ‚Äì Atom, Chemisches Element)',
        e_atom_old: 'Ein chemisches Element ist eine Atomsorte, definiert durch die Ordnungszahl (Protonenzahl). In einem neutralen Atom entspricht die Ordnungszahl der Elektronenzahl. Der Kern enth√§lt Protonen und Neutronen; die Protonen definieren das Element. (Quelle: Wikipedia ‚Äì Ordnungszahl, Chemisches Element)',
        e_elements: 'Elemente und das Periodensystem',
        e_elements_c: 'Elemente sind Reinstoffe aus einer Art von Atomen. Das Periodensystem listet alle bekannten Elemente und ihre Eigenschaften.',
        e_chem_rxn: 'Chemische Reaktionen',
        e_chem_rxn_c: 'Bei einer chemischen Reaktion entstehen aus Stoffen neue Stoffe. Bindungen brechen und entstehen. Die Masse bleibt erhalten.',
        e_matter: 'Aggregatzust√§nde',
        e_matter_c: 'Materie kann fest, fl√ºssig oder gasf√∂rmig sein. Erhitzen oder K√ºhlen √§ndert den Zustand. Wasser: Eis (fest), Wasser (fl√ºssig), Dampf (gasf√∂rmig).',
        e_cells: 'Was sind Zellen?',
        e_cells_young: 'Zellen sind die kleinsten Einheiten des Lebens. Dein K√∂rper hat Milliarden Zellen‚Äîzu viele zum Z√§hlen! Jede Zelle ist wie eine kleine Fabrik: sie nimmt Nahrung und Sauerstoff auf, scheidet Abfall aus und erledigt ihre Arbeit. Verschiedene Zellen haben verschiedene Aufgaben: rote Blutk√∂rperchen transportieren Sauerstoff, Muskelzellen helfen beim Bewegen, Nervenzellen leiten Botschaften. Auch Pflanzen haben Zellen; deren Zellen k√∂nnen aus Licht Nahrung machen.',
        e_cells_old: 'Zellen sind die grundlegenden strukturellen und funktionalen Einheiten des Lebens. Alle Lebewesen bestehen aus einer oder mehreren Zellen. Eine typische Zelle hat eine Membran (Au√üengrenze), Zytoplasma (gallertartiges Innere) und einen Zellkern mit DNA (Erbinformation). Pflanzenzellen haben zus√§tzlich eine Zellwand und Chloroplasten f√ºr die Fotosynthese. Zellen f√ºhren Stoffwechsel, Wachstum und Vermehrung durch.',
        e_photo: 'Fotosynthese',
        e_photo_c: 'Pflanzen nutzen Sonnenlicht, Wasser und Kohlendioxid, um Nahrung (Glukose) und Sauerstoff zu erzeugen. Das passiert in den Bl√§ttern.',
        e_body: 'Die K√∂rpersysteme',
        e_body_c: 'Der K√∂rper hat viele Systeme: Verdauung, Kreislauf, Atmung, Nerven usw. Jedes hat eine eigene Aufgabe.',
        e_maps: 'Karten und Himmelsrichtungen',
        e_maps_c: 'Karten zeigen die Welt oder Teile davon. Norden ist meist oben. Ein Kompass zeigt die Richtung. Der Ma√üstab zeigt reale Entfernungen.',
        e_continents: 'Kontinente und Ozeane',
        e_continents_c: 'Es gibt sieben Kontinente: Afrika, Antarktis, Asien, Europa, Nordamerika, Ozeanien, S√ºdamerika. Ozeane: Pazifik, Atlantik, Indik, Arktis, S√ºdlicher Ozean.',
        e_climate: 'Klima und Wetter',
        e_climate_c: 'Wetter ist kurzfristig (heutiger Regen). Klima ist langfristig (z.B. tropisch, gem√§√üigt). Verschiedene Orte haben verschiedene Klimate.',
        e_homo_sapiens: 'Homo sapiens: Urspr√ºnge und Einfluss heute',
        e_homo_sapiens_c: 'Der wissenschaftliche Konsens geht davon aus, dass Homo sapiens vor etwa 300.000 Jahren in Afrika entstand (Jebel Irhoud, Marokko). Genetische und arch√§ologische Befunde deuten auf eine Auswanderung aus Afrika vor etwa 70.000 Jahren hin; die landwirtschaftliche Revolution begann vor ca. 10.000 Jahren. Diese Ereignisse pr√§gen uns noch heute: Gene, Sprachen, Ungleichheiten und Klimaanpassung lassen sich auf diese tiefe Vergangenheit zur√ºckf√ºhren. Christliche Gelehrte vertreten unterschiedliche Ansichten: Manche (z.B. Teilhard de Chardin, Papst Franziskus) akzeptieren Evolution und ein hohes Erdalter; andere lesen die Genesis w√∂rtlicher. Muslimische Gelehrte (Sunniten und Schiiten) unterscheiden sich ebenfalls: Viele verbinden Wissenschaft mit Glauben; andere bevorzugen allegorische Deutungen. Atheistische und s√§kulare Forscher (z.B. Richard Dawkins, Yuval Harari) st√ºtzen sich auf den wissenschaftlichen Konsens. Experten aller Traditionen sind sich einig, dass das Verst√§ndnis menschlicher Urspr√ºnge hilft, heutige Herausforderungen zu bew√§ltigen. (Quellen: Nature; Smithsonian; Harari, Eine kurze Geschichte der Menschheit)',
        e_history: 'Was ist Geschichte?',
        e_history_c: 'Geschichte ist die Erforschung der Vergangenheit. Der Historiker E.H. Carr schrieb: ‚ÄûGeschichte ist ein fortlaufender Prozess der Wechselwirkung zwischen dem Historiker und seinen Fakten.‚Äú Historiker nutzen Prim√§rquellen (Dokumente, Artefakte) und Sekund√§rquellen (Analysen), um Ereignisse zu rekonstruieren. Christliche, muslimische (sunnitische und schiitische), atheistische und s√§kulare Gelehrte bringen jeweils eigene Perspektiven ein‚Äîalle sch√§tzen aber gr√ºndliche Evidenz. Zuverl√§ssige Quellen: UNESCO, akademische Institutionen. (Quellen: Wikipedia ‚Äì Geschichtswissenschaft; E.H. Carr, Was ist Geschichte?)',
        e_timeline: 'Zeitleisten',
        e_timeline_c: 'Eine Zeitleiste zeigt Ereignisse chronologisch. v.Chr./n.Chr. oder v.u.Z./u.Z. markieren Jahre. √Ñltere Ereignisse stehen weiter links. Historiker nutzen Zeitleisten, um Ursachen und Wirkungen √ºber Jahrhunderte zu erfassen. (Quelle: Wikipedia ‚Äì Zeitleiste)',
        e_grammar: 'Grammatik: Nomen und Verben',
        e_grammar_c: 'Nomen bezeichnen Personen, Orte oder Dinge. Verben beschreiben Handlungen oder Zust√§nde. In vielen Sprachen haben Nomen ein Genus.',
        e_german_grammar: 'Deutsche Grammatik (Lingolia, Travalang)',
        e_german_grammar_c: 'Deutsch hat vier F√§lle (Nominativ, Akkusativ, Dativ, Genitiv), drei Genera (der/die/das) und sechs Modalverben (k√∂nnen, m√ºssen, sollen, d√ºrfen, wollen, m√∂gen). Quizfragen und Erkl√§rungen aus Basic German: A Grammar and Workbook (Schenke & Seago, Routledge).',
        e_vocab: 'Wortschatz aufbauen',
        e_vocab_c: 'Lerne t√§glich neue W√∂rter. Nutze Karteikarten, lies B√ºcher und √ºbe in S√§tzen. Gruppiere W√∂rter nach Themen.',
        e_reading: 'Lesen und Verstehen',
        e_reading_c: 'Lies Texte auf deinem Niveau. Unterstreiche unbekannte W√∂rter. Versuche zuerst die Hauptidee zu erfassen.',
        e_rhythm: 'Rhythmus und Takt',
        e_rhythm_c: 'Rhythmus ist das Muster von Kl√§ngen in der Zeit. Der Takt ist der Grundpuls. Klatsche zur Musik mit.',
        e_notes: 'Noten und Tonleitern',
        e_notes_c: 'Noten sind Zeichen f√ºr T√∂ne. Tonleitern sind aufsteigende T√∂ne. Die Dur-Tonleiter klingt hell, die Moll-Tonleiter kann traurig klingen.',
        e_pie_chart: 'Kreisdiagramme lesen',
        e_pie_chart_c: 'Kreisdiagramme zeigen Teile eines Ganzen. Jeder Ausschnitt ist ein Bruch oder Prozentsatz. Prozentsatz: (Segmentwert √∑ Gesamt) √ó 100.',
        e_data_table: 'Tabellen lesen',
        e_data_table_c: 'Tabellen haben Zeilen und Spalten. Finde den Wert an Zeile X, Spalte Y. Zeile 1, Spalte 2 = Zelle wo erste Zeile und zweite Spalte sich treffen.',
        e_triangle_area: 'Fl√§che eines Dreiecks',
        e_triangle_area_c: 'Fl√§che = ¬Ω √ó Grundseite √ó H√∂he. Ein Dreieck mit Grundseite 6 und H√∂he 4 hat Fl√§che ¬Ω √ó 6 √ó 4 = 12 Quadrateinheiten.',
        e_third_angle: 'Winkel im Dreieck',
        e_third_angle_c: 'Die drei Winkel in einem Dreieck ergeben zusammen 180¬∞. Wenn zwei bekannt sind, ziehe ihre Summe von 180¬∞ ab.',
        e_box_volume: 'Volumen eines Quaders',
        e_box_volume_c: 'Volumen = L√§nge √ó Breite √ó H√∂he. Ein Quader 3√ó4√ó5 hat Volumen 60 Kubikeinheiten.',
        e_cube_root: 'Kubikwurzeln',
        e_cube_root_c: 'Die Kubikwurzel von n ist die Zahl, die zweimal mit sich multipliziert n ergibt. ‚àõ8 = 2, weil 2√ó2√ó2 = 8.',
        e_fma: '2. Newton-Gesetz: F = ma',
        e_fma_c: 'Kraft = Masse √ó Beschleunigung. F berechnen: m und a multiplizieren. m: F durch a teilen. a: F durch m teilen.',
        e_speed_formula: 'Geschwindigkeitsformel: v = s/t',
        e_speed_formula_c: 'Geschwindigkeit = Weg √∑ Zeit. 100 km in 2 h: v = 50 km/h. Weg: v √ó t. Zeit: s √∑ v.',
        e_vuat: 'Bewegungsgleichung: v = u + at',
        e_vuat_c: 'Endgeschwindigkeit v = Anfangsgeschwindigkeit u + (Beschleunigung a √ó Zeit t). Bei Beschleunigung aus Ruhe oder mit u.',
        e_work: 'Arbeit: W = Fs',
        e_work_c: 'Arbeit = Kraft √ó Weg. Bei 10 N √ºber 5 m: W = 50 J. Einheit: Joule (J).',
        e_power_iv: 'Elektrische Leistung: P = UI',
        e_power_iv_c: 'Leistung = Strom √ó Spannung. P: I und U multiplizieren. I: P durch U teilen. U: P durch I teilen.',
        e_mc2: 'Einsteins E = mc¬≤',
        e_mc2_c: 'Energie = Masse √ó (Lichtgeschwindigkeit)¬≤. Bei c = 3: E = m √ó 9. Also m = 7 ergibt E = 63.',
        e_ke: 'Kinetische Energie: E_kin = ¬Ωmv¬≤',
        e_ke_c: 'Kinetische Energie ist Bewegungsenergie. E_kin = ¬Ω √ó Masse √ó Geschwindigkeit¬≤.',
        e_pe: 'Potentielle Energie: E_pot = mgh',
        e_pe_c: 'Potentielle Energie ist gespeicherte Energie. E_pot = Masse √ó g √ó H√∂he. Oft g = 10 m/s¬≤.',
        e_momentum: 'Impuls: p = mv',
        e_momentum_c: 'Impuls = Masse √ó Geschwindigkeit. Er bleibt bei St√∂√üen erhalten.',
        e_heat: 'W√§rme: Q = mcŒîT',
        e_heat_c: 'W√§rmeenergie Q = Masse √ó spezifische W√§rmekapazit√§t √ó Temperatur√§nderung.',
        e_density: 'Dichte: œÅ = m/V',
        e_density_c: 'Dichte = Masse √∑ Volumen. œÅ: m durch V teilen. m: œÅ √ó V.',
        e_hooke: 'Hookesches Gesetz: F = kx',
        e_hooke_c: 'Federkraft = Federkonstante √ó Auslenkung. F = kx.',
        e_pressure: 'Druck: p = F/A',
        e_pressure_c: 'Druck = Kraft √∑ Fl√§che. Gleiche Kraft auf kleiner Fl√§che = h√∂herer Druck.',
        e_waves: 'Wellengeschwindigkeit und Frequenz',
        e_waves_c: 'Wellengeschwindigkeit v = Frequenz f √ó Wellenl√§nge Œª. Periodendauer T = 1/f.',
        e_federal_states: 'Bundesl√§nder und Regionen',
        e_federal_states_c: 'Deutschland hat 16 Bundesl√§nder. Andere L√§nder haben Regionen, Provinzen oder Staaten.',
        e_countries_borders: 'L√§nder und Grenzen',
        e_countries_borders_c: 'Geografiefragen: Wie viele L√§nder in einer Region? Wie viele Grenzen hat ein Land? Wie viele EU-Mitglieder? Lerne die wichtigsten Zahlen.',
        e_directions_hemispheres: 'Himmelsrichtungen und Hemisph√§ren',
        e_directions_hemispheres_c: 'Hauptrichtungen: Nord, S√ºd, Ost, West. Der √Ñquator teilt die Erdhalbkugeln. Der Nullmeridian teilt Ost und West.',
        e_time_zones: 'Zeitzonen',
        e_time_zones_c: 'Die Erde ist in Zeitzonen eingeteilt. USA (Festland) 4, Russland 11. Nach Osten nimmt die Zeit zu.',
        e_years_dates: 'Historische Jahre und Daten',
        e_years_dates_c: 'Geschichtsfragen fragen nach Jahren (z.B. Mauerfall 1989, Erster Weltkrieg 1914‚Äì1918). Lerne wichtige Daten. v.Chr. z√§hlt r√ºckw√§rts. Experten betonen, dass genaue Daten je nach Quelle variieren k√∂nnen.',
        e_ancient_egypt: 'Altes √Ñgypten',
        e_ancient_egypt_c: 'Das alte √Ñgypten bestand √ºber 3.000 Jahre (ca. 3100 v.Chr.‚Äì30 v.Chr.). √Ñgyptologen zufolge wurde es unter K√∂nig Narmer geeint und von als g√∂ttlich geltenden Pharaonen regiert. Die Pyramiden von Gizeh (ca. 2580 v.Chr.) z√§hlen zu den gr√∂√üten Bauwerken der Welt. Professor John Baines (Oxford) hebt hervor, dass die √§gyptische Kultur Hieroglyphen, Mathematik und Medizin entwickelte. Kleopatra VII., die letzte Pharaonin, starb 30 v.Chr. (Quellen: UNESCO; Wikipedia ‚Äì Altes √Ñgypten)',
        e_ancient_civilizations: 'Alte Zivilisationen: Mesopotamien, Indus, China',
        e_ancient_civilizations_c: 'Die ersten Zivilisationen entstanden in Flusst√§lern. Sumer (Mesopotamien, ca. 3400 v.Chr.) erfand Schrift (Keilschrift) und das Rad. Die Induskultur (ca. 3300‚Äì1300 v.Chr.) hatte geplante St√§dte wie Mohenjo-daro. Wie Jared Diamond argumentiert, erm√∂glichten Ackerbau und Schrift den Aufbau dieser Gesellschaften. Hammurabis Gesetzescode (ca. 1754 v.Chr.) z√§hlt zu den fr√ºhesten schriftlichen Rechtssammlungen. (Quellen: UNESCO; Wikipedia)',
        e_persian_empire: 'Das Persische Reich',
        e_persian_empire_c: 'Das Ach√§menidenreich, von Kyros dem Gro√üen gegr√ºndet (ca. 550 v.Chr.), war eines der gr√∂√üten Reiche der Antike. Historiker wie Pierre Briant weisen auf die K√∂nigsstra√üe, religi√∂se Toleranz und effiziente Verwaltung hin. Das Reich reichte von √Ñgypten bis Indien, bis Alexander es 330 v.Chr. eroberte. (Quellen: Wikipedia ‚Äì Ach√§menidenreich)',
        e_chinese_dynasties: 'Chinesische Dynastien',
        e_chinese_dynasties_c: 'Die chinesische Geschichte wird traditionell in Dynastien eingeteilt. Die Qin (221‚Äì206 v.Chr.) einigten China und begannen die Gro√üe Mauer. Han, Tang und Song gelten als kulturelle Bl√ºtezeiten. Wie die Historikerin Patricia Ebrey schreibt, pr√§gte das Beamtenpr√ºfungssystem die Gesellschaft. Die Qing endeten 1912 mit der Republik. (Quellen: Wikipedia ‚Äì Geschichte Chinas)',
        e_islamic_golden_age: 'Das Goldene Zeitalter des Islam',
        e_islamic_golden_age_c: 'Das islamische Goldene Zeitalter (ca. 750‚Äì1258) brachte Fortschritte in Wissenschaft, Mathematik, Medizin und Philosophie. Das Haus der Weisheit in Bagdad (gegr. ca. 832) √ºbersetzte griechische und indische Texte. Gelehrte wie Al-Chwarizmi (Algebra), Ibn Sina (Medizin) und Al-Biruni (Astronomie) leisteten Beitr√§ge. Professor George Saliba (Columbia) erkl√§rt, diese Epoche bewahrte und erweiterte antikes Wissen und beeinflusste die Renaissance. (Quellen: Wikipedia ‚Äì Islamisches Goldenes Zeitalter)',
        e_black_death: 'Der Schwarze Tod',
        e_black_death_c: 'Der Schwarze Tod (1347‚Äì1351) t√∂tete sch√§tzungsweise 30‚Äì50 % der europ√§ischen Bev√∂lkerung. Historiker wie Ole Benedictow identifizieren das Bakterium Yersinia pestis, √ºbertragen durch Fl√∂he auf Ratten. Die Pandemie hatte tiefe soziale und wirtschaftliche Folgen: Arbeitskr√§ftemangel, Zusammenbruch des Feudalismus. Professor Samuel Cohn argumentiert, sie f√∂rderte auch medizinische Innovationen. (Quellen: WHO; Wikipedia ‚Äì Schwarzer Tod)',
        e_ottoman_empire: 'Das Osmanische Reich',
        e_ottoman_empire_c: 'Das Osmanische Reich (ca. 1299‚Äì1922) war eines der langlebigsten und einflussreichsten Reiche. Es erreichte seinen H√∂hepunkt unter S√ºleyman dem Pr√§chtigen. Der Fall Konstantinopels 1453 markierte das Ende des Byzantinischen Reichs. Die Historikerin Caroline Finkel beschreibt, wie die Osmanen islamisches Recht mit vielf√§ltigen Bev√∂lkerungsgruppen verbanden. (Quellen: Wikipedia ‚Äì Osmanisches Reich)',
        e_inventions_history: 'Gro√üe Erfindungen der Geschichte',
        e_inventions_history_c: 'Wichtige Erfindungen pr√§gten die Geschichte: Schie√üpulver (9. Jh. China), Buchdruck (Gutenberg, ca. 1440), Dampfmaschine (Watt, 1769), erste Fl√ºge (Wright, 1903), World Wide Web (1991), Smartphones (2007). √ñkonomen wie Joel Mokyr argumentieren, technischer Wandel treibe langfristiges Wirtschaftswachstum. (Quellen: Wikipedia; J. Mokyr)',
        e_roman_empire: 'Das R√∂mische Reich',
        e_roman_empire_c: 'Rom wuchs von einer Republik (509 v.Chr.) zu einem Weltreich unter Augustus (27 v.Chr.). Unter Trajan (117 n.Chr.) erstreckte es sich √ºber das Mittelmeer und dar√ºber hinaus. Die Historikerin Mary Beard betont das Erbe: Recht, Ingenieurwesen, Latein. Das Reich teilte sich 395; der Westen fiel 476, Ostrom (Byzanz) bestand bis 1453. (Quellen: Wikipedia ‚Äì R√∂misches Reich; M. Beard, SPQR)',
        e_renaissance: 'Die Renaissance',
        e_renaissance_c: 'Die Renaissance (14.‚Äì17. Jh.) begann in Italien und verbreitete sich in Europa. Sie weckte Interesse an griechisch-r√∂mischer Kultur und Humanismus. Leonardo da Vinci, Michelangelo und Raffael schufen bedeutende Kunst; Galileo hinterfragte das Weltbild. Der Historiker Jacob Burckhardt sah in der Renaissance den √úbergang zur Moderne. (Quellen: Wikipedia ‚Äì Renaissance)',
        e_industrial_revolution: 'Die Industrielle Revolution',
        e_industrial_revolution_c: 'Die Industrielle Revolution (ca. 1760‚Äì1840) begann in Gro√übritannien mit mechanisierter Textilproduktion, Dampfkraft und Kohlebergbau. Der Historiker Eric Hobsbawm schrieb, sie habe ‚Äûdie Welt grundlegender ver√§ndert als jedes andere Ereignis‚Äú. Urbanisierung, neue soziale Klassen und Umweltver√§nderungen folgten. (Quellen: Wikipedia ‚Äì Industrielle Revolution; E. Hobsbawm)',
        e_history_today: 'Von der Industriellen Revolution bis heute (2026)',
        e_history_today_c: 'Geschichte von der Industriellen Revolution bis Februar 2026: Massenproduktion, Eisenbahn, Elektrifizierung, Weltkriege, Kalter Krieg, digitale Revolution, Klimawandel, Pandemien. Mauerfall (1989), Wiedervereinigung (1990), EU-Erweiterung, 9/11, Arabischer Fr√ºhling, COVID-19 (2020), Russlands √úberfall auf die Ukraine (2022) pr√§gten die heutige Welt. Christliche, muslimische (sunnitische und schiitische), atheistische und s√§kulare Historiker untersuchen, wie diese Ereignisse heute Regierung, Technologie und Gesellschaft beeinflussen. (Quellen: UNESCO; NASA; ESA; akademische Institutionen)',
        e_udhr: 'Allgemeine Erkl√§rung der Menschenrechte',
        e_udhr_c: 'Die Allgemeine Erkl√§rung der Menschenrechte (1948) hat 30 Artikel: Recht auf Leben, Freiheit, Gleichheit, Gedanken- und Meinungsfreiheit, Bildung. Sie ist Grundlage des internationalen Menschenrechts. (Quellen: UN; UNESCO)',
        e_crc: 'UN-Kinderrechtskonvention',
        e_crc_c: 'Die Kinderrechtskonvention (1989) hat 54 Artikel. Sie sch√ºtzt das Recht auf √úberleben, Entwicklung, Schutz und Beteiligung. Fast alle Staaten haben sie ratifiziert. (Quellen: UNICEF; UN)',
        e_constitution: 'Verfassungen und Grundrechte',
        e_constitution_c: 'Verfassungen sind das oberste Gesetz eines Staates. Das Grundgesetz hat 19 Grundrechte im ersten Abschnitt. Die US-Bill of Rights hat 10 Zus√§tze. (Quellen: UN; Cornelsen; Duden)',
        e_black_holes: 'Schwarze L√∂cher',
        e_black_holes_c: 'Schwarze L√∂cher sind Bereiche der Raumzeit, in denen die Schwerkraft so stark ist, dass nichts ‚Äì nicht einmal Licht ‚Äì entkommen kann. NASA- und ESA-Forscher (Event-Horizon-Teleskop, 2019) fingen das erste Bild eines Schwarzen Lochs (M87*) ein. Einsteins Allgemeine Relativit√§tstheorie sagt ihre Entstehung beim Kollaps massereicher Sterne vorher. Prof. Stephen Hawking zeigte, dass sie Strahlung emittieren. Christliche Denker (z.B. Georges Lema√Ætre), muslimische, j√ºdische, buddhistische, hinduistische und atheistische Wissenschaftler reflektieren √ºber Kosmologie und Sch√∂pfung. (Quellen: NASA; ESA; EHT; Wikipedia)',
        e_white_holes: 'Wei√üe L√∂cher',
        e_white_holes_c: 'Wei√üe L√∂cher sind theoretische Gegenst√ºcke zu Schwarzen L√∂chern: Materie und Licht k√∂nnten austreten, aber nicht eintreten. Sie erscheinen in einigen L√∂sungen von Einsteins Gleichungen, wurden aber nie beobachtet. ESA- und NASA-Forscher betonen, dass sie spekulativ bleiben. Physiker wie Carlo Rovelli erforschen sie in der Schleifenquantengravitation. Religi√∂se und s√§kulare Gelehrte unterscheiden zwischen mathematischer M√∂glichkeit und empirischer Evidenz. (Quellen: ESA; NASA; Wikipedia)',
        e_wormholes: 'Wurml√∂cher',
        e_wormholes_c: 'Wurml√∂cher sind theoretische ‚ÄûAbk√ºrzungen‚Äú durch die Raumzeit. Einstein und Rosen schlugen sie 1935 vor. NASA- und ESA-Wissenschaftler weisen darauf hin, dass sie in der Allgemeinen Relativit√§tstheorie erscheinen, aber nie beobachtet wurden. Christliche (z.B. William Lane Craig), muslimische, j√ºdische und atheistische Gelehrte diskutieren ihre Implikationen f√ºr die Kosmologie. (Quellen: NASA; ESA; Wikipedia)',
        e_spacetime: 'Raumzeit',
        e_spacetime_c: 'Raumzeit ist das vierdimensionale Gef√ºge (drei Raum- + eine Zeitdimension), in dem Ereignisse stattfinden. Einsteins Allgemeine Relativit√§tstheorie beschreibt, wie Masse und Energie die Raumzeit kr√ºmmen. Christliche (z.B. John Polkinghorne), muslimische und atheistische Physiker studieren diese Konzepte. (Quellen: NASA; ESA; Wikipedia)',
        e_speed_of_light: 'Lichtgeschwindigkeit',
        e_speed_of_light_c: 'Licht im Vakuum legt ~299.792 km/s zur√ºck (c). Einsteins Spezielle Relativit√§tstheorie zeigt, dass nichts mit Masse c erreichen kann. NASA und ESA nutzen c f√ºr Navigation. Ibn al-Haytham (islamisch), christliche und s√§kulare Wissenschaftler verwenden c als fundamentale Konstante. (Quellen: NASA; ESA; Wikipedia)',
        e_universe_grid: 'Universum als Gitter?',
        e_universe_grid_c: 'Einige Theorien schlagen eine diskrete ‚ÄûGitter‚Äú-Struktur im Universum vor (z.B. Schleifenquantengravitation). Professor Carlo Rovelli und andere erforschen, ob die Raumzeit granular ist. Religi√∂se und s√§kulare Wissenschaftler diskutieren solche Ideen. (Quellen: ESA; NASA; Wikipedia)',
        e_solar_system: 'Unser Sonnensystem',
        e_solar_system_c: 'Unser Sonnensystem hat 8 Planeten. NASA- und ESA-Missionen haben sie erforscht. Christliche, muslimische (z.B. mittelalterliche islamische Astronomen), j√ºdische, buddhistische, hinduistische und s√§kulare Wissenschaftler studieren den Kosmos. (Quellen: NASA; ESA; Wikipedia)',
        e_earth: 'Die Erde',
        e_earth_c: 'Die Erde ist der dritte Planet von der Sonne und der einzige bekannte Lebensraum. NASA und ESA erforschen Atmosph√§re, Ozeane und Klima. Religi√∂se Traditionen (christlich, muslimisch, j√ºdisch, buddhistisch, hinduistisch) und s√§kulare Wissenschaftler betrachten die Erde unterschiedlich. (Quellen: NASA; ESA; Wikipedia)',
        e_sun: 'Die Sonne',
        e_sun_c: 'Die Sonne ist ein G-Typ-Hauptreihenstern. NASA und ESA erforschen sie. Christliche (z.B. Psalm 19), muslimische (z.B. Qur\'an) und s√§kulare Traditionen reflektieren √ºber ihre Rolle. (Quellen: NASA; ESA; Wikipedia)',
        e_stars: 'Sterne',
        e_stars_c: 'Sterne sind leuchtende Plasmakugeln. Hubble und Gaia kartieren Milliarden. Die Milchstra√üe hat ~200 Milliarden Sterne. Verschiedene Weltanschauungen studieren die Sternentwicklung. (Quellen: NASA; ESA; Wikipedia)',
        e_far_galaxies: 'Ferne Galaxien',
        e_far_galaxies_c: 'Galaxien sind riesige Sternsysteme. Hubble, JWST und Euclid beobachten Galaxien Milliarden Lichtjahre entfernt. Andromeda ist ~2,5 Mio. Lichtjahre entfernt. (Quellen: NASA; ESA; Wikipedia)',
        e_mars: 'Der Mars',
        e_mars_c: 'Der Mars ist der vierte Planet. NASA (Perseverance, Curiosity) und ESA (ExoMars) erforschen ihn. Wissenschaftler suchen nach Lebensspuren. (Quellen: NASA; ESA; Wikipedia)',
        e_mars_terraforming: 'Mars-Terraforming',
        e_mars_terraforming_c: 'Terraforming des Mars bedeutet, seine Umgebung f√ºr Menschen zu ver√§ndern. NASA- und ESA-Forscher diskutieren CO‚ÇÇ-Freisetzung, Treibhausatmosph√§ren und Mikroben. Religi√∂se und s√§kulare Ethiker debattieren die Ethik. (Quellen: NASA; ESA; Wikipedia)',
        e_venus: 'Die Venus',
        e_venus_c: 'Die Venus ist der zweite Planet: √§hnlich gro√ü wie die Erde, aber mit dichter CO‚ÇÇ-Atmosph√§re und ~465¬∞C. NASA und ESA studieren sie. (Quellen: NASA; ESA; Wikipedia)',
        e_venus_terraforming: 'Venus-Terraforming',
        e_venus_terraforming_c: 'Terraforming der Venus ist noch herausfordernder als beim Mars. Diese Ideen bleiben stark spekulativ. (Quellen: NASA; ESA; Wikipedia)',
        e_extraterrestrial_life: 'Au√üerirdisches Leben',
        e_extraterrestrial_life_c: 'NASA (SETI, Astrobiologie) und ESA suchen nach Leben au√üerhalb der Erde. Bisher keine Evidenz. Christliche (z.B. Vatikanische Sternwarte), muslimische und atheistische Gelehrte diskutieren, was anderes Leben f√ºr Theologie und Philosophie bedeuten w√ºrde. (Quellen: NASA; ESA; SETI; Wikipedia)',
        e_satellites: 'Satelliten',
        e_satellites_c: 'K√ºnstliche Satelliten umkreisen die Erde f√ºr Kommunikation, Wetter und Wissenschaft. Sputnik 1 (1957) war der erste. (Quellen: NASA; ESA; Wikipedia)',
        e_iss: 'Internationale Raumstation (ISS)',
        e_iss_c: 'Die ISS ist eine bewohnte Raumstation im Erdorbit, betrieben von NASA, ESA, Roskosmos, JAXA und CSA. Seit 2000 durchgehend bewohnt. Christliche, muslimische und atheistische Crew-Mitglieder haben dort gearbeitet. (Quellen: NASA; ESA; Wikipedia)',
        e_rockets: 'Raketen',
        e_rockets_c: 'Raketen nutzen Newtons drittes Gesetz. NASA (Saturn V, Shuttle), ESA (Ariane) und kommerzielle Raketen erm√∂glichen die Raumfahrt. (Quellen: NASA; ESA; Wikipedia)',
        e_moon_landing: 'Erste Mondumkreisung und -landung',
        e_moon_landing_c: 'Apollo 8 (1968) umkreiste erstmals den Mond; Apollo 11 (1969) landete. Neil Armstrong und Buzz Aldrin betraten den Mond. Christliche (z.B. Buzz Aldrins Kommunion), muslimische und s√§kulare Perspektiven reflektieren diesen ‚Äûriesigen Sprung f√ºr die Menschheit‚Äú. (Quellen: NASA; ESA; Wikipedia)',
        e_count_letters: 'Buchstaben in W√∂rtern z√§hlen',
        e_count_letters_c: 'Sprachfragen fragen: Wie viele Buchstaben hat ein Wort? Z√§hle jeden Buchstaben, auch mit Akzent. ‚ÄûBuch‚Äú hat 4 Buchstaben.'
      }
    };

    function t(key) {
      const loc = getLocale();
      var tr = TRANSLATIONS[loc] || TRANSLATIONS[LOCALE_PARENT[loc]] || TRANSLATIONS.en_UK;
      var val = tr[key];
      if (val != null && val !== '') return val;
      var parent = LOCALE_PARENT[loc];
      if (parent && TRANSLATIONS[parent]) { val = TRANSLATIONS[parent][key]; if (val != null && val !== '') return val; }
      return TRANSLATIONS.en_UK[key] || key;
    }
    /** For Learn/info texts only: always use the user's default set language. Never fall back to another language. */
    function tForLearn(key) {
      const loc = getLocale();
      const tr = TRANSLATIONS[loc];
      if (tr && tr[key] != null && tr[key] !== '') return tr[key];
      if (loc === 'en_UK' || loc === 'en_USA') return (TRANSLATIONS.en_UK && TRANSLATIONS.en_UK[key]) || '';
      return '';
    }
    function tParam(key) {
      var args = Array.prototype.slice.call(arguments, 1);
      var str = t(key);
      for (var i = 0; i < args.length; i++) str = str.replace('%' + (i + 1), String(args[i]));
      return str;
    }

    /** Returns true if the question can be displayed fully in the chosen language (no mixed English). */
    function hasFullTranslation(questionText) {
      if (!questionText || typeof questionText !== 'string') return true;
      var q = questionText.trim();
      var loc = getLocale();
      if (loc === 'en_UK' || loc === 'en_USA') return true;
      var m;
      if (/^the atomic number of /i.test(q) || /^the number of protons in /i.test(q) || /^the number of electrons in a neutral /i.test(q) || /^the number of valence electrons in /i.test(q) || /^the number of neutrons in /i.test(q)) return true;
      if (/^the pH value of /i.test(q) || /^the pH of /i.test(q)) return true;
      if (/^the number of (?:different )?elements in /i.test(q) || /^the number of (?:hydrogen|carbon|oxygen|nitrogen|sulfur) atoms in /i.test(q) || /^the number of atoms /i.test(q)) return true;
      if (/^the number of letters in /i.test(q)) return true;
      if (/^the number of (vowels|syllables|cases|genders|articles|accents|tenses) /i.test(q)) return true;
      var bioKey = { 'wings on an ant': 1, 'wings on a bee': 1, 'wings on a butterfly': 1, 'wings on a beetle': 1, 'wings on a dragonfly': 1, 'wings on a housefly': 1, 'wings on a mosquito': 1, 'wings on a grasshopper': 1, 'wings on a moth': 1, 'legs on an insect': 1, 'legs on a spider': 1, 'legs on a lobster': 1, 'legs on a crab': 1, 'legs on a scorpion': 1, 'legs on a centipede (per segment)': 1, 'legs on a millipede (per segment, typical)': 1, 'legs on a millipede (per segment)': 1, 'chambers in the human heart': 1, 'chambers in a fish heart': 1, 'chambers in a bird heart': 1, 'chambers in an amphibian heart': 1, 'chambers in the human stomach': 1, 'chromosomes in a human cell': 1, 'bones in an adult human body': 1, 'teeth in a full adult set': 1, 'arms on a starfish': 1, 'arms on an octopus': 1, 'hearts in an octopus': 1, 'stomachs in a cow': 1 };
      var bioPhrase = q.replace(/^the number of /, '').replace(/\?$/, '');
      if (bioKey[bioPhrase]) return true;
      if (/^(F|m|a|v|u|t|d|E|W|P|I|V|speed) when /i.test(q) || / when .+ = .+ and /i.test(q)) return true;
      var geoKey = { 'continents': 1, 'oceans on Earth': 1, 'federal states (Bundesl√§nder) in Germany': 1, 'countries in the European Union (2024)': 1, 'countries bordering Germany': 1, 'hemispheres': 1, 'cardinal directions': 1, 'degrees in a full circle': 1, 'degrees in a half circle': 1, 'degrees in a right angle': 1, 'US states': 1, 'countries in Africa': 1, 'countries in Asia': 1, 'countries in South America': 1, 'countries in the UK (constituent countries)': 1, 'permanent members of the UN Security Council': 1 };
      if ((m = q.match(/^the number of (.+)$/i))) return !!geoKey[m[1]];
      var histKey = { 'the year the Berlin Wall fell': 1, 'the year of German reunification (official)': 1, 'the year World War I began': 1, 'the year World War I ended': 1, 'the year World War II began (Europe)': 1, 'the year World War II ended in Europe': 1, 'the year Christopher Columbus reached the Americas': 1, 'the year the French Revolution began': 1, 'the year Martin Luther posted his 95 Theses': 1, 'the year the Federal Republic of Germany was founded': 1, 'the year the GDR was founded': 1, 'the year the UN was founded': 1, 'the year NATO was founded': 1, 'the number of years the Thirty Years War lasted': 1, 'the number of permanent UN Security Council members': 1 };
      if (histKey[q.replace(/\?$/, '')]) return true;
      if (/^the (?:number of|year|approximate).*(?:planet|Solar System|Earth|Sun|Mars|Venus|moon|black hole|Hubble|James Webb|ISS|Sputnik|Apollo|light|spacetime|galaxy|constellation|dwarf planet|orbit|satellite|astro|Mars rover)/i.test(q)) return true;
      if (/^the year (?:the )?(?:first|International Space Station)/i.test(q)) return true;
      if (/^(?:the number of|the year).*(?:Human Rights|Universal Declaration|Constitution|Convention on the Rights|voting age|EU Charter|fundamental rights)/i.test(q)) return true;
      var physStems = ['Newton\'s laws of motion', 'fundamental forces in nature', 'states of matter (classical)', 'poles on a bar magnet', 'primary colours of light', 'types of simple machine', 'classes of levers', 'laws of thermodynamics', 'quarks in a proton', 'quarks in a neutron', 'colours in the visible spectrum', 'types of mechanical waves', 'terminals on a standard battery', 'laws of Kepler', 'types of energy commonly categorised', 'types of nuclear radiation', 'prongs on a UK plug', 'prongs on a US plug', 'parts in a DC electric circuit'];
      if (/^the number of /.test(q) && physStems.some(function(s) { return q.indexOf(s) !== -1; })) return true;
      if (/^the (approximate value of g|freezing point|boiling point|refractive index|approximate speed of)/i.test(q)) return true;
      return false;
    }

    /** Translate chemistry terms (elements, compounds) to the current locale. English and German only. */
    var ELEMENT_NAMES_DE = { hydrogen:'Wasserstoff',helium:'Helium',lithium:'Lithium',beryllium:'Beryllium',boron:'Bor',carbon:'Kohlenstoff',nitrogen:'Stickstoff',oxygen:'Sauerstoff',fluorine:'Fluor',neon:'Neon',sodium:'Natrium',magnesium:'Magnesium',aluminium:'Aluminium',silicon:'Silicium',phosphorus:'Phosphor',sulfur:'Schwefel',chlorine:'Chlor',argon:'Argon',potassium:'Kalium',calcium:'Calcium',scandium:'Scandium',titanium:'Titan',vanadium:'Vanadium',chromium:'Chrom',manganese:'Mangan',iron:'Eisen',cobalt:'Kobalt',nickel:'Nickel',copper:'Kupfer',zinc:'Zink',gallium:'Gallium',germanium:'Germanium',arsenic:'Arsen',selenium:'Selen',bromine:'Brom',krypton:'Krypton',rubidium:'Rubidium',strontium:'Strontium',yttrium:'Yttrium',zirconium:'Zirconium',niobium:'Niob',molybdenum:'Molybd√§n',rhodium:'Rhodium',palladium:'Palladium',silver:'Silber',cadmium:'Cadmium',indium:'Indium',tin:'Zinn',antimony:'Antimon',tellurium:'Tellur',iodine:'Iod',xenon:'Xenon',caesium:'C√§sium',barium:'Barium',hafnium:'Hafnium',tantalum:'Tantal',tungsten:'Wolfram',rhenium:'Rhenium',osmium:'Osmium',iridium:'Iridium',platinum:'Platin',gold:'Gold',mercury:'Quecksilber',thallium:'Thallium',lead:'Blei',bismuth:'Wismut',polonium:'Polonium',radon:'Radon',francium:'Francium',radium:'Radium',uranium:'Uran' };
    var COMPOUND_NAMES_DE = { 'water (H‚ÇÇO)':'Wasser (H‚ÇÇO)','table salt (NaCl)':'Kochsalz (NaCl)','ammonia (NH‚ÇÉ)':'Ammoniak (NH‚ÇÉ)','ammonia':'Ammoniak','methane (CH‚ÇÑ)':'Methan (CH‚ÇÑ)','carbon dioxide (CO‚ÇÇ)':'Kohlenstoffdioxid (CO‚ÇÇ)','glucose (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)':'Glukose (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)','ethane (C‚ÇÇH‚ÇÜ)':'Ethan (C‚ÇÇH‚ÇÜ)','sulfuric acid (H‚ÇÇSO‚ÇÑ)':'Schwefels√§ure (H‚ÇÇSO‚ÇÑ)','nitric acid (HNO‚ÇÉ)':'Salpeters√§ure (HNO‚ÇÉ)','hydrogen peroxide':'Wasserstoffperoxid','hydrogen peroxide (H‚ÇÇO‚ÇÇ)':'Wasserstoffperoxid (H‚ÇÇO‚ÇÇ)','benzene (C‚ÇÜH‚ÇÜ)':'Benzol (C‚ÇÜH‚ÇÜ)','pure water (neutral)':'reines Wasser (neutral)','water molecule (H‚ÇÇO)':'Wassermolek√ºl (H‚ÇÇO)','ammonia molecule (NH‚ÇÉ)':'Ammoniakmolek√ºl (NH‚ÇÉ)','methane molecule (CH‚ÇÑ)':'Methanmolek√ºl (CH‚ÇÑ)','glucose molecule (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)':'Glukosemolek√ºl (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)','carbon dioxide molecule (CO‚ÇÇ)':'Kohlenstoffdioxidmolek√ºl (CO‚ÇÇ)','oxygen molecule (O‚ÇÇ)':'Sauerstoffmolek√ºl (O‚ÇÇ)','nitrogen molecule (N‚ÇÇ)':'Stickstoffmolek√ºl (N‚ÇÇ)','hydrogen molecule (H‚ÇÇ)':'Wasserstoffmolek√ºl (H‚ÇÇ)','chlorine molecule (Cl‚ÇÇ)':'Chlormolek√ºl (Cl‚ÇÇ)','helium nucleus':'Heliumkern','ethanol':'Ethanol','acetic acid':'Essigs√§ure','ozone':'Ozon','table sugar':'Haushaltszucker (Saccharose)','aspirin':'Aspirin','ethene':'Ethen','ethyne':'Ethin','pentane (C‚ÇÖH‚ÇÅ‚ÇÇ)':'Pentan (C‚ÇÖH‚ÇÅ‚ÇÇ)','hexane (C‚ÇÜH‚ÇÅ‚ÇÑ)':'Hexan (C‚ÇÜH‚ÇÅ‚ÇÑ)','SF‚ÇÜ':'SF‚ÇÜ','one molecule of sulfuric acid':'ein Molek√ºl Schwefels√§ure','electrons in the first shell (max)':'Elektronen in der ersten Schale (max)','electrons in the second shell (max)':'Elektronen in der zweiten Schale (max)','electrons in the third shell (max)':'Elektronen in der dritten Schale (max)','periods in the periodic table (standard)':'Perioden im Periodensystem (Standard)','groups in the periodic table (standard)':'Gruppen im Periodensystem (Standard)','noble gases (group 18)':'Edelgase (Gruppe 18)','halogens (group 17)':'Halogene (Gruppe 17)','alkali metals (group 1)':'Alkalimetalle (Gruppe 1)','alkaline earth metals (group 2)':'Erdalkalimetalle (Gruppe 2)' };
    function translateChemistryTerm(eng) {
      if (!eng || typeof eng !== 'string') return eng;
      var loc = getLocale();
      if (loc === 'en_UK' || loc === 'en_USA') return eng;
      if (loc !== 'de') return eng;
      var s = eng.trim();
      if (COMPOUND_NAMES_DE[s]) return COMPOUND_NAMES_DE[s];
      var s2 = s.replace(/^one molecule of /i, '');
      if (s2 !== s && COMPOUND_NAMES_DE[s2]) return 'ein ' + COMPOUND_NAMES_DE[s2];
      var iso = s.match(/^(\w+)-(\d+)$/);
      if (iso && ELEMENT_NAMES_DE[iso[1].toLowerCase()]) return ELEMENT_NAMES_DE[iso[1].toLowerCase()] + '-' + iso[2];
      var el = s.replace(/\s*nucleus\s*$/i, '').trim().toLowerCase();
      if (ELEMENT_NAMES_DE[el]) return s.match(/nucleus$/i) ? ELEMENT_NAMES_DE[el] + 'kern' : ELEMENT_NAMES_DE[el];
      return eng;
    }

    /** Translate English question stems to the user's language. No mixed languages (e.g. "Was ist the number of..."). */
    function translateQuestionText(enQuestion) {
      if (!enQuestion || typeof enQuestion !== 'string') return enQuestion;
      var q = enQuestion.trim();
      var loc = getLocale();
      var isEn = loc === 'en_UK' || loc === 'en_USA';
      if (q.endsWith('?')) return q;
      var m, tc;
      if ((m = q.match(/^the atomic number of (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_atomic_number', tc); }
      if ((m = q.match(/^the number of protons in (?:a |an )?(.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_protons_in', tc); }
      if ((m = q.match(/^the number of electrons in a neutral (.+?) atom$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_electrons_neutral', tc); }
      if ((m = q.match(/^the number of valence electrons in (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_valence_electrons', tc); }
      if ((m = q.match(/^the number of neutrons in (.+?) \(atomic number (\d+)\)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_neutrons_in', tc, m[2]); }
      if ((m = q.match(/^the number of neutrons in (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_neutrons_in_short', tc); }
      if ((m = q.match(/^the pH value of (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_ph_value', tc); }
      if ((m = q.match(/^the pH of (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_ph_value', tc); }
      if ((m = q.match(/^the number of (?:different )?elements in (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_elements_in', tc); }
      if ((m = q.match(/^the number of hydrogen atoms in (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_h_atoms_in', tc); }
      if ((m = q.match(/^the number of (carbon|oxygen|nitrogen|sulfur) atoms in (.+)$/i))) { var el = translateChemistryTerm(m[1]); var comp = translateChemistryTerm(m[2]); return tParam('q_X_atoms_in', el, comp); }
      if ((m = q.match(/^the number of atoms (?:of hydrogen|of oxygen) in one (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_atoms_in_molecule', tc); }
      if ((m = q.match(/^the number of atoms in (?:one )?(.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_atoms_in_molecule', tc); }
      var langKey = { german: 'q_letters_german_alphabet', english: 'q_letters_english_alphabet', french: 'q_letters_french_alphabet', spanish: 'q_letters_spanish_alphabet', latin: 'q_letters_latin_alphabet' };
      if ((m = q.match(/^the number of letters in the (German|English|French|Spanish|Latin) alphabet$/i))) {
        var k = langKey[(m[1] || '').toLowerCase()];
        if (k) return t(k);
      }
      if ((m = q.match(/^the number of letters in "([^"]+)"$/))) return tParam('q_letters_in_word', m[1]);
      if ((m = q.match(/^the number of letters in the (.+?) word for .+? \(([^)]+)\)$/i))) return tParam('q_letters_in_word', m[2]);
      if ((m = q.match(/^the number of letters in (.+)$/i))) return tParam('q_letters_in', m[1]);
      if ((m = q.match(/^the number of (vowels|syllables|cases|genders|articles|accents|tenses) (?:in |in the )?(.+)$/i))) {
        var term1 = { vowels: 'term_vowels', syllables: 'term_syllables', cases: 'term_cases', genders: 'term_genders', articles: 'term_articles', accents: 'term_accents', tenses: 'term_tenses' }[(m[1] || '').toLowerCase()];
        var term2 = { german: 'term_german', english: 'term_english', french: 'term_french', spanish: 'term_spanish', latin: 'term_latin' }[(m[2] || '').replace(/[(\s].*$/, '').trim().toLowerCase()];
        var p1 = term1 ? t(term1) : m[1];
        var p2 = term2 ? t(term2) : m[2];
        return tParam('q_number_of_in', p1, p2);
      }
      var bioKey = { 'wings on an ant': 'q_bio_wings_ant', 'wings on a bee': 'q_bio_wings_bee', 'wings on a butterfly': 'q_bio_wings_butterfly', 'wings on a beetle': 'q_bio_wings_beetle', 'wings on a dragonfly': 'q_bio_wings_dragonfly', 'wings on a housefly': 'q_bio_wings_housefly', 'wings on a mosquito': 'q_bio_wings_mosquito', 'wings on a grasshopper': 'q_bio_wings_grasshopper', 'wings on a moth': 'q_bio_wings_moth', 'legs on an insect': 'q_bio_legs_insect', 'legs on a spider': 'q_bio_legs_spider', 'legs on a lobster': 'q_bio_legs_lobster', 'legs on a crab': 'q_bio_legs_crab', 'legs on a scorpion': 'q_bio_legs_scorpion', 'legs on a centipede (per segment)': 'q_bio_legs_centipede', 'legs on a millipede (per segment, typical)': 'q_bio_legs_millipede', 'legs on a millipede (per segment)': 'q_bio_legs_millipede', 'chambers in the human heart': 'q_bio_chambers_human_heart', 'chambers in a fish heart': 'q_bio_chambers_fish_heart', 'chambers in a bird heart': 'q_bio_chambers_bird_heart', 'chambers in an amphibian heart': 'q_bio_chambers_amphibian_heart', 'chambers in the human stomach': 'q_bio_chambers_human_stomach', 'chromosomes in a human cell': 'q_bio_chromosomes_human', 'bones in an adult human body': 'q_bio_bones_human', 'teeth in a full adult set': 'q_bio_teeth_adult', 'arms on a starfish': 'q_bio_arms_starfish', 'arms on an octopus': 'q_bio_arms_octopus', 'hearts in an octopus': 'q_bio_hearts_octopus', 'stomachs in a cow': 'q_bio_stomachs_cow' };
      var k = bioKey[q.replace(/^the number of /, '').replace(/\?$/, '')];
      if (k && t(k) !== k) return t(k);
      var geoKey = { 'continents': 'q_geo_continents', 'oceans on Earth': 'q_geo_oceans', 'federal states (Bundesl√§nder) in Germany': 'q_geo_bundeslaender', 'countries in the European Union (2024)': 'q_geo_eu_countries', 'countries bordering Germany': 'q_geo_borders_germany', 'hemispheres': 'q_geo_hemispheres', 'cardinal directions': 'q_geo_cardinal_directions', 'degrees in a full circle': 'q_geo_degrees_circle', 'degrees in a half circle': 'q_geo_degrees_half', 'degrees in a right angle': 'q_geo_degrees_right', 'US states': 'q_geo_us_states', 'countries in Africa': 'q_geo_africa', 'countries in Asia': 'q_geo_asia', 'countries in South America': 'q_geo_south_america', 'countries in the UK (constituent countries)': 'q_geo_uk_countries', 'permanent members of the UN Security Council': 'q_geo_un_security' };
      var gk = geoKey[(m = q.match(/^the number of (.+)$/i)) ? m[1] : ''];
      if (gk && t(gk) !== gk) return t(gk);
      if ((m = q.match(/^(F|m|a|v|u|t|d|E|W|P|I|V|speed) when (.+)$/i))) {
        var formula = m[2].replace(/\band\b/gi, t('physics_and'));
        return tParam('q_physics_when', m[1], formula);
      }
      var histKey = { 'the year the Berlin Wall fell': 'q_hist_berlin_wall', 'the year of German reunification (official)': 'q_hist_reunification', 'the year World War I began': 'q_hist_ww1_begin', 'the year World War I ended': 'q_hist_ww1_end', 'the year World War II began (Europe)': 'q_hist_ww2_begin', 'the year World War II ended in Europe': 'q_hist_ww2_end', 'the year Christopher Columbus reached the Americas': 'q_hist_columbus', 'the year the French Revolution began': 'q_hist_french_rev', 'the year Martin Luther posted his 95 Theses': 'q_hist_luther', 'the year the Federal Republic of Germany was founded': 'q_hist_brd', 'the year the GDR was founded': 'q_hist_ddr', 'the year the UN was founded': 'q_hist_un', 'the year NATO was founded': 'q_hist_nato', 'the number of years the Thirty Years War lasted': 'q_hist_30_years', 'the number of permanent UN Security Council members': 'q_hist_un_security' };
      var hk = histKey[q.replace(/\?$/, '')];
      if (hk && t(hk) !== hk) return t(hk);
      var astroKey = { 'the number of planets in our Solar System': 'q_astro_planets', 'the number of dwarf planets officially recognised by the IAU (approx)': 'q_astro_dwarf', 'the number of Earth days in one year (approx)': 'q_astro_days_year', 'the number of natural satellites (moons) of Earth': 'q_astro_moon_earth', 'the number of moons of Mars': 'q_astro_moons_mars', 'the number of Galilean moons of Jupiter': 'q_astro_galilean', 'the speed of light in vacuum (approx, km/s)': 'q_astro_speed_light', 'the number of dimensions in spacetime in general relativity': 'q_astro_spacetime_dim', 'the year the first image of a black hole was published (Event Horizon Telescope)': 'q_astro_black_hole_img', 'the year the Hubble Space Telescope was launched': 'q_astro_hubble', 'the year the James Webb Space Telescope was launched': 'q_astro_jwst', 'the year the first artificial satellite (Sputnik 1) was launched': 'q_astro_sputnik', 'the year the International Space Station (ISS) first module was launched': 'q_astro_iss', 'the number of astronauts/cosmonauts the ISS typically holds (crew size)': 'q_astro_iss_crew', 'the year the first crewed rocket reached space (Yuri Gagarin)': 'q_astro_gagarin', 'the year humans first orbited the Moon (Apollo 8)': 'q_astro_apollo8', 'the year of the first crewed Moon landing (Apollo 11)': 'q_astro_apollo11', 'the number of crew members on Apollo 11': 'q_astro_apollo11_crew', 'the approximate number of years ago Homo sapiens first appeared (Jebel Irhoud, Morocco)': 'q_astro_homo', 'the approximate number of seconds for light to travel from the Sun to Earth (approx)': 'q_astro_light_sun_earth' };
      var ak = astroKey[q.replace(/\?$/, '')];
      if (ak && t(ak) !== ak) return t(ak);
      var lawsKey = { 'the number of articles in the Universal Declaration of Human Rights (1948)': 'q_laws_udhr_articles', 'the number of fundamental rights in the German Basic Law (Grundgesetz, first section)': 'q_laws_gg_rights', 'the number of amendments to the US Constitution (Bill of Rights)': 'q_laws_us_bill', 'the year the Universal Declaration of Human Rights was adopted': 'q_laws_udhr_year', 'the year the European Convention on Human Rights was signed': 'q_laws_echr_year', 'the number of rights in the UN Convention on the Rights of the Child (main articles)': 'q_laws_crc_articles', 'the minimum voting age in Germany for federal elections': 'q_laws_vote_de', 'the minimum voting age in most US states for federal elections': 'q_laws_vote_us', 'the minimum voting age in the UK for general elections': 'q_laws_vote_uk', 'the number of principles in the UN Convention on the Rights of the Child': 'q_laws_crc_principles', 'the year the UN Convention on the Rights of the Child was adopted': 'q_laws_crc_year', 'the number of UN human rights treaty bodies (main)': 'q_laws_un_bodies', 'the number of rights in the EU Charter of Fundamental Rights (title II‚ÄìVII)': 'q_laws_eu_charter' };
      var lk = lawsKey[q.replace(/\?$/, '')];
      if (lk && t(lk) !== lk) return t(lk);
      var physKey = { 'the number of Newton\'s laws of motion': 'q_phys_newton_laws', 'the approximate value of g (acceleration due to gravity on Earth) in m/s¬≤ (whole number)': 'q_phys_g_value', 'the number of fundamental forces in nature': 'q_phys_forces', 'the number of states of matter (classical)': 'q_phys_states', 'the approximate speed of sound in air in m/s (whole number)': 'q_phys_sound_speed', 'the number of poles on a bar magnet': 'q_phys_magnet_poles', 'the number of primary colours of light': 'q_phys_primary_colours', 'the freezing point of water in degrees Celsius': 'q_phys_freezing', 'the boiling point of water in degrees Celsius at sea level': 'q_phys_boiling', 'the number of types of simple machine (lever, pulley, etc.)': 'q_phys_simple_machines', 'the refractive index of vacuum or air (approx)': 'q_phys_refractive_index', 'the number of classes of levers': 'q_phys_lever_classes', 'the number of laws of thermodynamics': 'q_phys_thermo_laws', 'the number of quarks in a proton': 'q_phys_quarks_proton', 'the number of quarks in a neutron': 'q_phys_quarks_neutron', 'the number of colours in the visible spectrum (ROYGBIV)': 'q_phys_spectrum_colours', 'the number of types of mechanical waves (by direction)': 'q_phys_wave_types', 'the number of terminals on a standard battery (cell)': 'q_phys_battery_terminals', 'the number of laws of Kepler (planetary motion)': 'q_phys_kepler', 'the number of laws of thermodynamics (commonly taught)': 'q_phys_thermo_common', 'the number of types of energy commonly categorised (kinetic and potential)': 'q_phys_energy_types', 'the number of types of nuclear radiation (alpha, beta, gamma)': 'q_phys_nuclear_radiation', 'the number of prongs on a UK plug': 'q_phys_uk_plug', 'the number of prongs on a US plug (standard)': 'q_phys_us_plug', 'the approximate speed of light in km/s (√ó1000, whole number)': 'q_phys_light_speed', 'the number of parts in a DC electric circuit (minimum: source, path, load)': 'q_phys_circuit_parts', 'the number of phases of the Moon in a complete cycle': 'q_phys_moon_phases' };
      var pk = physKey[q.replace(/\?$/, '')];
      if (pk && t(pk) !== pk) return t(pk);
      if ((m = q.match(/^the number of (.+)$/i))) { tc = translateChemistryTerm(m[1]); return tParam('q_number_of', tc); }
      if (isEn) return t('what_is') + ' ' + q + '?';
      return q + '?';
    }

    const CURRICULUM_OPTIONS = {
      de: ['curriculum_berlin', 'curriculum_bayern', 'curriculum_bw', 'curriculum_nrw', 'curriculum_hessen', 'curriculum_sachsen'],
      en_UK: ['curriculum_england', 'curriculum_scotland', 'curriculum_wales', 'curriculum_northern_ireland'],
      en_USA: ['curriculum_common_core', 'curriculum_texas', 'curriculum_california']
    };

    function applyTranslations() {
      var locale = getLocale();
      var langAttr = locale.replace('_', '-');
      if (document.documentElement) document.documentElement.lang = langAttr;
      document.querySelectorAll('[data-i18n]').forEach(function(el) {
        var k = el.getAttribute('data-i18n');
        if (k) el.textContent = t(k);
      });
      document.querySelectorAll('[data-i18n-placeholder]').forEach(function(el) {
        var k = el.getAttribute('data-i18n-placeholder');
        if (k) el.placeholder = t(k);
      });
      var scoreboardStart = document.querySelector('#scoreboard-start');
      if (scoreboardStart) {
        var box = scoreboardStart.closest('.scoreboard-box');
        if (box) {
          var h3 = box.querySelector('h3');
          if (h3) h3.textContent = t('scoreboard_title');
        }
      }
    }

    function showCurriculumScreen() {
      const locale = getLocale();
      const keys = CURRICULUM_OPTIONS[locale] || CURRICULUM_OPTIONS.en_UK;
      const container = document.getElementById('curriculum-options');
      if (!container) return;
      container.innerHTML = '';
      keys.forEach(function(key) {
        const label = document.createElement('label');
        const radio = document.createElement('input');
        radio.type = 'radio';
        radio.name = 'curriculum';
        radio.value = key;
        if (keys.indexOf(key) === 0) radio.checked = true;
        label.appendChild(radio);
        const span = document.createElement('span');
        span.textContent = t(key);
        label.appendChild(span);
        container.appendChild(label);
      });
      document.getElementById('curriculum-error').textContent = '';
      applyTranslations();
      showScreen('curriculum-screen');
    }

    const SCOREBOARD_DAYS = 30;

    function loadScoreboard() {
      try {
        var raw = localStorage.getItem(SCOREBOARD_KEY);
        var list = raw ? JSON.parse(raw) : [];
        var now = Date.now();
        var maxAge = SCOREBOARD_DAYS * 24 * 60 * 60 * 1000;
        list = list.filter(function(row) {
          var ts = row.ts != null ? row.ts : (row._ts || 0);
          if (!ts) ts = now;
          return (now - ts) <= maxAge;
        });
        if (list.length !== (raw ? JSON.parse(raw).length : 0)) {
          saveScoreboard(list);
        }
        return list;
      } catch (_) {
        return [];
      }
    }

    function saveScoreboard(list) {
      try {
        var now = Date.now();
        list = list.map(function(row) {
          if (row.ts == null) row = Object.assign({}, row, { ts: now });
          return row;
        });
        localStorage.setItem(SCOREBOARD_KEY, JSON.stringify(list));
      } catch (_) {}
    }

    function sortScoreboard(list) {
      return [...list].sort((a, b) => {
        if (a.score !== b.score) return b.score - a.score;
        return (a.avgTime ?? 9999) - (b.avgTime ?? 9999);
      });
    }

    function addEntryAndGetRank(entry) {
      var list = loadScoreboard();
      var row = { name: entry.name, age: entry.age, grade: entry.grade, score: entry.score, avgTime: entry.avgTime, language: entry.language || '', subjects: entry.subjects || '', ts: Date.now() };
      list.push(row);
      var sorted = sortScoreboard(list).slice(0, MAX_LEADERBOARD);
      saveScoreboard(sorted);
      var isFirst = sorted.length > 0 && sorted[0].name === entry.name && sorted[0].age === entry.age && sorted[0].score === entry.score;
      return { list: sorted, isFirst };
    }

    function renderScoreboard(containerId, list, currentUserName) {
      const el = document.getElementById(containerId);
      if (!el) return;
      el.innerHTML = '';
      if (!list || list.length === 0) {
        el.innerHTML = '<p class="scoreboard-empty">' + t('no_scores_yet') + '</p>';
        return;
      }
      const header = document.createElement('div');
      header.className = 'scoreboard-row scoreboard-header';
      header.innerHTML = '<span class="rank">' + (t('scoreboard_col_rank') || '#') + '</span><span class="name">' + (t('scoreboard_col_name') || 'Name') + '</span><span class="age">' + (t('scoreboard_col_age') || 'Age') + '</span><span class="grade">' + (t('scoreboard_col_grade') || 'Grade') + '</span><span class="score">' + (t('scoreboard_col_score') || 'Score') + '</span><span class="avg">' + (t('scoreboard_col_avg') || 'Average') + '</span><span class="language">' + (t('scoreboard_col_language') || 'Language') + '</span><span class="subjects">' + (t('scoreboard_col_subjects') || 'Subjects') + '</span>';
      el.appendChild(header);
      var displayList = list.slice(0, 5);
      var currentUserInTop5 = currentUserName && displayList.some(function(row) { return (row.name || '').toLowerCase() === (currentUserName || '').toLowerCase(); });
      displayList.forEach((row, i) => {
        const r = document.createElement('div');
        r.className = 'scoreboard-row' + (i === 0 ? ' rank-1' : '');
        const gradeDisp = row.grade === 'university' ? t('scoreboard_grade_university') : (row.grade ?? '‚Äî');
        const languageDisp = escapeHtml((row.language || '').trim() || '‚Äî');
        const subjectsTranslated = (row.subjects || '').trim().split(/\s*,\s*/).map(function(s) { return t('subject_' + s.replace(/-/g, '_')) || s; }).join(', ');
        const subjectsDisp = escapeHtml(subjectsTranslated || '‚Äî');
        const rank = list.indexOf(row) + 1;
        r.innerHTML = '<span class="rank">' + rank + '</span><span class="name" title="' + escapeHtml(row.name) + '">' + escapeHtml(row.name) + '</span><span class="age">' + row.age + '</span><span class="grade">' + gradeDisp + '</span><span class="score">' + row.score + '</span><span class="avg">' + formatTime(row.avgTime ?? 0) + '</span><span class="language" title="' + languageDisp + '">' + languageDisp + '</span><span class="subjects" title="' + subjectsDisp + '">' + subjectsDisp + '</span>';
        el.appendChild(r);
      });
      if (currentUserName && !currentUserInTop5) {
        var myRow = list.find(function(row) { return (row.name || '').toLowerCase() === (currentUserName || '').toLowerCase(); });
        if (myRow) {
          var sep = document.createElement('div');
          sep.className = 'scoreboard-row scoreboard-separator';
          sep.innerHTML = '<span style="grid-column: 1 / -1;">' + (t('scoreboard_your_score') || 'Your score') + '</span>';
          el.appendChild(sep);
          var r = document.createElement('div');
          r.className = 'scoreboard-row scoreboard-your-row';
          var gradeDisp = myRow.grade === 'university' ? t('scoreboard_grade_university') : (myRow.grade ?? '‚Äî');
          var languageDisp = escapeHtml((myRow.language || '').trim() || '‚Äî');
          var subjectsTranslated = (myRow.subjects || '').trim().split(/\s*,\s*/).map(function(s) { return t('subject_' + s.replace(/-/g, '_')) || s; }).join(', ');
          var subjectsDisp = escapeHtml(subjectsTranslated || '‚Äî');
          var myRank = list.indexOf(myRow) + 1;
          r.innerHTML = '<span class="rank">' + myRank + '</span><span class="name" title="' + escapeHtml(myRow.name) + '">' + escapeHtml(myRow.name) + '</span><span class="age">' + myRow.age + '</span><span class="grade">' + gradeDisp + '</span><span class="score">' + myRow.score + '</span><span class="avg">' + formatTime(myRow.avgTime ?? 0) + '</span><span class="language" title="' + languageDisp + '">' + languageDisp + '</span><span class="subjects" title="' + subjectsDisp + '">' + subjectsDisp + '</span>';
          el.appendChild(r);
        }
      }
    }

    function renderResultsSummary(log) {
      const el = document.getElementById('results-summary-list');
      if (!el) return;
      el.innerHTML = '';
      if (!log || log.length === 0) {
        el.innerHTML = '<p class="scoreboard-empty">' + (t('summary_no_questions') || 'No questions answered.') + '</p>';
        return;
      }
      log.forEach((entry, i) => {
        const correctStr = Array.isArray(entry.correctAnswer) ? formatCorrectAnswer(entry.correctAnswer) : (typeof entry.correctAnswer === 'string' ? entry.correctAnswer : (Number.isInteger(entry.correctAnswer) ? String(entry.correctAnswer) : formatAnswer(entry.correctAnswer)));
        const item = document.createElement('div');
        item.className = 'summary-item' + (entry.correct ? ' correct' : ' wrong');
        const qText = (entry.questionText || '').trim();
        const qDisplay = translateQuestionText(qText);
        item.innerHTML = '<div class="q-text">' + escapeHtml((i + 1) + '. ' + qDisplay) + '</div><div class="q-answers">' + t('summary_your_answer') + ': ' + escapeHtml(entry.userAnswer || '‚Äî') + ' ‚Äî ' + t('summary_correct') + ': ' + escapeHtml(correctStr) + '</div>';
        if (entry.explanation) {
          const exp = document.createElement('div');
          exp.className = 'q-explanation';
          exp.textContent = entry.explanation;
          item.appendChild(exp);
        }
        el.appendChild(item);
      });
    }

    function escapeHtml(s) {
      const div = document.createElement('div');
      div.textContent = s;
      return div.innerHTML;
    }

    function showScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      updateBackButton(id);
    }

    function showScreenWithBack(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      updateBackButton(id);
    }

    function updateBackButton(currentScreenId) {
      const backBtn = document.getElementById('back-btn');
      const hideOn = ['language-screen', 'english-variant-screen', 'curriculum-screen', 'age-screen'];
      if (hideOn.includes(currentScreenId)) {
        backBtn.style.display = 'none';
      } else {
        backBtn.style.display = 'flex';
        backBtn.onclick = handleBack;
      }
      applyTranslations();
    }

    function handleBack() {
      const current = document.querySelector('.screen.active');
      if (!current) return;
      const id = current.id;
      var modeScreen = state.lastModeScreen || 'mode-screen';
      if (id === 'game-screen') {
        state.quizCompleted = false;
        stopTimer();
        hideEmojiAnimation();
        showScreenWithBack(modeScreen);
        state.screenHistory = ['subject-screen'];
      } else if (id === 'mode-screen' || id === 'mode-lang-screen') {
        showScreen('subject-screen');
      } else if (id === 'learn-screen') {
        showScreenWithBack(modeScreen);
        state.screenHistory = ['subject-screen'];
      } else if (id === 'results-screen') {
        showScreenWithBack(modeScreen);
        state.screenHistory = ['subject-screen'];
      } else if (id === 'subject-screen') {
        showScreen('age-screen');
      }
    }

    function formatAnswer(val) {
      if (typeof val === 'string') return val;
      if (Number.isInteger(val)) return val;
      return Math.round(val * 100) / 100;
    }

    function formatTime(seconds) {
      if (seconds == null || !Number.isFinite(seconds) || seconds < 0) return '0:00';
      const m = Math.floor(seconds / 60);
      const s = Math.floor(seconds % 60);
      return m + ':' + (s < 10 ? '0' : '') + s;
    }

    function getElapsedSeconds() {
      const start = state.questionStartTime;
      if (start == null || !Number.isFinite(start) || start <= 0) return 0;
      return Math.floor((Date.now() - start) / 1000);
    }

    function updateTimerDisplay() {
      const el = document.getElementById('question-timer');
      const statEl = document.getElementById('stat-timer');
      const secs = getElapsedSeconds();
      el.textContent = formatTime(Number.isFinite(secs) ? secs : 0);
      if (secs >= MAX_SECONDS_PER_QUESTION - 30) {
        el.classList.add('timer-warn');
        if (statEl) statEl.classList.add('timer-warn');
      } else {
        el.classList.remove('timer-warn');
        if (statEl) statEl.classList.remove('timer-warn');
      }
    }

    function updateAverageDisplay() {
      const el = document.getElementById('avg-time');
      if (!el) return;
      if (state.timePerQuestion.length === 0) {
        el.textContent = '‚Äî';
        return;
      }
      const sum = state.timePerQuestion.reduce((a, b) => a + (Number.isFinite(b) ? b : 0), 0);
      const avg = sum / state.timePerQuestion.length;
      el.textContent = formatTime(Number.isFinite(avg) ? avg : 0);
      bumpEmoji('stat-avg');
    }

    function stopTimer() {
      if (state.timerIntervalId !== null) {
        clearInterval(state.timerIntervalId);
        state.timerIntervalId = null;
      }
    }

    function startTimer() {
      stopTimer();
      state.questionStartTime = Date.now();
      document.getElementById('question-timer').textContent = '0:00';
      document.getElementById('question-timer').classList.remove('timer-warn');
      document.getElementById('stat-timer')?.classList.remove('timer-warn');
      state.timerIntervalId = setInterval(() => {
        const elapsed = getElapsedSeconds();
        updateTimerDisplay();
        if (elapsed >= MAX_SECONDS_PER_QUESTION) {
          stopTimer();
          handleTimeUp();
        }
      }, 1000);
    }

    const EMOJI_CORRECT = ['üéâ', 'üî•', 'üëç', 'üí™', '‚≠ê', 'üåü', 'üíØ', 'üëè'];
    const EMOJI_WRONG = ['üòÖ', 'üôÉ', 'üò¨', 'ü§∑', 'üòë', 'üò§', 'ü§¶', 'üòî'];
    const EMOJI_DISPLAY_MS = 2500;

    function showEmojiAnimation(isCorrect) {
      const wrap = document.getElementById('emoji-reaction-wrap');
      const charEl = document.getElementById('emoji-reaction-char');
      if (!wrap || !charEl) return;
      if (state.emojiReactionTimeoutId) {
        clearTimeout(state.emojiReactionTimeoutId);
        state.emojiReactionTimeoutId = null;
      }
      const list = isCorrect ? EMOJI_CORRECT : EMOJI_WRONG;
      charEl.textContent = list[Math.floor(Math.random() * list.length)];
      wrap.classList.remove('hide');
      wrap.classList.add('show');
      state.emojiReactionTimeoutId = setTimeout(() => {
        wrap.classList.add('hide');
        setTimeout(() => { wrap.classList.remove('show', 'hide'); }, 350);
        state.emojiReactionTimeoutId = null;
      }, EMOJI_DISPLAY_MS);
    }

    function hideEmojiAnimation() {
      const wrap = document.getElementById('emoji-reaction-wrap');
      if (!wrap) return;
      if (state.emojiReactionTimeoutId) {
        clearTimeout(state.emojiReactionTimeoutId);
        state.emojiReactionTimeoutId = null;
      }
      wrap.classList.remove('show', 'hide');
    }

    function bumpEmoji(statId) {
      const el = document.getElementById(statId);
      if (!el) return;
      el.classList.remove('bump');
      el.offsetHeight;
      el.classList.add('bump');
      setTimeout(() => el.classList.remove('bump'), 460);
    }

    function handleTimeUp() {
      if (state.answered) return;
      state.answered = true;
      state.timePerQuestion.push(MAX_SECONDS_PER_QUESTION);
      updateAverageDisplay();
      state.lives--;
      document.getElementById('lives').textContent = String(state.lives);
      bumpEmoji('stat-lives');
      const form = document.getElementById('answer-form');
      const feedbackEl = document.getElementById('feedback');
      const nextWrap = document.getElementById('next-btn-wrap');
      form.classList.add('hidden');
      form.querySelector('button[type="submit"]').disabled = true;
      showEmojiAnimation(false);
      feedbackEl.className = 'feedback show wrong';
      feedbackEl.innerHTML = 'Time\'s up! (max 3 min per question)';
      appendExplanation(feedbackEl, state.currentProblem);
      const joke = document.createElement('p');
      joke.className = 'joke';
      joke.textContent = JOKES[Math.floor(Math.random() * JOKES.length)];
      feedbackEl.appendChild(joke);
      nextWrap.classList.add('show');
    }

    /**
     * Trigonometry: sin, cos, tan at angles with simple numeric answers (0, 0.5, 1, -0.5, -1).
     */
    const TRIG_ANGLES = [
      { deg: 0, sin: 0, cos: 1, tan: 0 },
      { deg: 30, sin: 0.5, cos: null, tan: null },
      { deg: 45, sin: null, cos: null, tan: 1 },
      { deg: 60, sin: null, cos: 0.5, tan: null },
      { deg: 90, sin: 1, cos: 0, tan: null },
      { deg: 180, sin: 0, cos: -1, tan: 0 },
      { deg: 270, sin: -1, cos: 0, tan: null },
      { deg: 360, sin: 0, cos: 1, tan: 0 }
    ];

    /**
     * Statistics and analysis: mean, median, range (grade 6 level); mode (increased level).
     */
    function generateStatsProblem(config) {
      const level = config.statsLevel || 'grade6';
      const maxVal = level === 'increased' ? 100 : 30;
      const len = level === 'increased' ? 4 + Math.floor(Math.random() * 3) : 4 + Math.floor(Math.random() * 2);
      const data = [];
      for (let i = 0; i < len; i++) {
        data.push(Math.floor(Math.random() * maxVal) + 1);
      }
      data.sort((a, b) => a - b);
      const kinds = ['mean', 'median', 'range'];
      if (level === 'increased') kinds.push('mode');
      let kind = kinds[Math.floor(Math.random() * kinds.length)];
      if (kind === 'mode') {
        const uniq = [...new Set(data)];
        if (uniq.length === data.length) {
          data[1] = data[0];
          data.sort((a, b) => a - b);
        }
      }
      let correct;
      if (kind === 'mean') {
        correct = data.reduce((s, x) => s + x, 0) / data.length;
      } else if (kind === 'median') {
        const m = Math.floor(data.length / 2);
        correct = data.length % 2 === 1 ? data[m] : (data[m - 1] + data[m]) / 2;
      } else if (kind === 'range') {
        correct = data[data.length - 1] - data[0];
      } else if (kind === 'mode') {
        const counts = {};
        data.forEach(x => { counts[x] = (counts[x] || 0) + 1; });
        let maxC = 0, modeVal = data[0];
        Object.keys(counts).forEach(k => {
          if (counts[k] > maxC) { maxC = counts[k]; modeVal = Number(k); }
        });
        correct = modeVal;
      }
      const str = data.join(', ');
      let explanation;
      if (kind === 'mean') {
        const sum = data.reduce((s, x) => s + x, 0);
        explanation = 'mean = (' + data.join(' + ') + ') √∑ ' + data.length + ' = ' + sum + ' √∑ ' + data.length + ' = ' + (Number.isInteger(correct) ? correct : correct.toFixed(2));
      } else if (kind === 'median') {
        const m = Math.floor(data.length / 2);
        if (data.length % 2 === 1) {
          explanation = 'data in order: ' + str + ' ‚Üí median = middle value = ' + correct;
        } else {
          explanation = 'data in order: ' + str + ' ‚Üí median = (' + data[m - 1] + ' + ' + data[m] + ') √∑ 2 = ' + correct;
        }
      } else if (kind === 'range') {
        explanation = 'range = max ‚àí min = ' + data[data.length - 1] + ' ‚àí ' + data[0] + ' = ' + correct;
      } else {
        explanation = 'mode = value that appears most often = ' + correct;
      }
      const qKey = kind === 'mean' ? 'q_mean_of' : kind === 'median' ? 'q_median_of' : kind === 'range' ? 'q_range_of' : 'q_mode_of';
      return {
        correct: Number.isInteger(correct) ? correct : Math.round(correct * 100) / 100,
        questionText: tParam(qKey, str),
        explanation
      };
    }

    /**
     * Diagrams (grade 5+): bar chart, pie chart, table reading.
     */
    function generateDiagramProblem(config) {
      const types = ['bar', 'pie', 'table'];
      const kind = types[Math.floor(Math.random() * types.length)];
      if (kind === 'bar') {
        const n = 3 + Math.floor(Math.random() * 3);
        const data = [];
        for (let i = 0; i < n; i++) {
          data.push(Math.floor(Math.random() * 40) + 5);
        }
        const max = Math.max(...data);
        const labels = ['A', 'B', 'C', 'D', 'E', 'F'].slice(0, n);
        const qKinds = ['value', 'total', 'difference'];
        const qKind = qKinds[Math.floor(Math.random() * qKinds.length)];
        let correct, questionText;
        if (qKind === 'value') {
          const idx = Math.floor(Math.random() * n);
          correct = data[idx];
          questionText = tParam('q_value_of_bar', labels[idx]);
        } else if (qKind === 'total') {
          correct = data.reduce((s, x) => s + x, 0);
          questionText = t('q_total_of_bars');
        } else {
          const i = Math.floor(Math.random() * n);
          let j = Math.floor(Math.random() * n);
          while (j === i) j = Math.floor(Math.random() * n);
          correct = Math.abs(data[i] - data[j]);
          questionText = tParam('q_diff_between_bars', labels[i], labels[j]);
        }
        const step = max <= 10 ? 2 : max <= 20 ? 5 : max <= 50 ? 10 : 20;
        const yTicks = [];
        for (let t = 0; t <= max; t += step) yTicks.push(t);
        if (yTicks[yTicks.length - 1] !== max) yTicks.push(max);
        const yAxisHtml = '<div class="bar-chart-y-axis">' + yTicks.map(t => '<span>' + t + '</span>').join('') + '</div>';
        const barsHtml = '<div class="bar-chart">' +
          data.map((v, i) => '<div class="bar-wrap"><div class="bar" style="height:' + (max > 0 ? (v / max) * 100 : 0) + '%" title="' + labels[i] + ': ' + v + '"></div><span class="bar-value">' + v + '</span></div>').join('') +
          '</div>';
        const diagramHtml = '<div class="bar-chart-wrap">' + yAxisHtml + barsHtml + '</div>' +
          '<div class="bar-chart-labels">' + labels.map((l, i) => '<span>' + l + ' (x=' + (i + 1) + ')</span>').join('') + '</div>';
        let explanation;
        if (qKind === 'value') explanation = 'Bar ' + labels[idx] + ' has height (y) = ' + correct;
        else if (qKind === 'total') explanation = 'total = ' + data.join(' + ') + ' = ' + correct;
        else explanation = 'difference = |' + data[i] + ' ‚àí ' + data[j] + '| = ' + correct;
        return { correct, questionText, diagramHtml, explanation };
      }
      if (kind === 'pie') {
        const n = 3 + Math.floor(Math.random() * 2);
        const data = [];
        let sum = 0;
        for (let i = 0; i < n; i++) {
          const v = Math.floor(Math.random() * 30) + 10;
          data.push(v);
          sum += v;
        }
        const labels = ['Red', 'Blue', 'Green', 'Yellow', 'Purple'].slice(0, n);
        const idx = Math.floor(Math.random() * n);
        correct = Math.round((data[idx] / sum) * 100);
        const questionText = tParam('q_pct_segment', labels[idx]);
        const diagramHtml = '<div class="pie-row"><div class="pie-legend">' +
          data.map((v, i) => '<span>' + labels[i] + ': ' + v + '</span>').join('') +
          '</div><p style="font-size:0.9rem;color:var(--text-muted)">Total: ' + sum + '</p></div>';
        const explanation = 'percentage = (' + data[idx] + ' √∑ ' + sum + ') √ó 100 = ' + correct + '%';
        return { correct, questionText, diagramHtml, explanation };
      }
      if (kind === 'table') {
        const rows = 2 + Math.floor(Math.random() * 2);
        const cols = 2 + Math.floor(Math.random() * 2);
        const grid = [];
        for (let r = 0; r < rows; r++) {
          const row = [];
          for (let c = 0; c < cols; c++) {
            row.push(Math.floor(Math.random() * 50) + 1);
          }
          grid.push(row);
        }
        const r = Math.floor(Math.random() * rows);
        const c = Math.floor(Math.random() * cols);
        correct = grid[r][c];
        const questionText = tParam('q_value_at_row_col', r + 1, c + 1);
        const explanation = 'value at (row ' + (r + 1) + ', column ' + (c + 1) + ') = ' + correct;
        const diagramHtml = '<table class="data-table" style="border-collapse:collapse;width:100%"><thead><tr><th style="border:1px solid var(--border);padding:0.35rem;font-size:0.8rem;color:var(--text-muted)"></th>' +
          Array.from({ length: cols }, (_, i) => '<th style="border:1px solid var(--border);padding:0.35rem;font-size:0.8rem;color:var(--text-muted)">' + (i + 1) + '</th>').join('') + '</tr></thead><tbody>' +
          grid.map((row, ri) => '<tr><th style="border:1px solid var(--border);padding:0.35rem;font-size:0.8rem;color:var(--text-muted)">' + (ri + 1) + '</th>' + row.map((cell, ci) => '<td style="border:1px solid var(--border);padding:0.5rem;text-align:center">' + cell + '</td>').join('') + '</tr>').join('') +
          '</tbody></table>';
        return { correct, questionText, diagramHtml, explanation };
      }
      return null;
    }

    /**
     * Geometry (Berlin curriculum): area, perimeter, volume by grade.
     */
    function generateGeometryProblem(config, grade) {
      const g = grade != null ? (typeof grade === 'number' ? grade : 10) : 6;
      const types = [];
      if (g >= 4) types.push('rectArea', 'rectPerimeter');
      if (g >= 5) types.push('triangleSum');
      if (g >= 6) types.push('triangleArea');
      if (g >= 7) types.push('circleArea', 'circlePerimeter');
      if (g >= 8) types.push('boxVolume');
      if (types.length === 0) return null;
      const kind = types[Math.floor(Math.random() * types.length)];
      const PI = 3.14;
      if (kind === 'rectArea') {
        const w = Math.floor(Math.random() * 15) + 2;
        const h = Math.floor(Math.random() * 15) + 2;
        const correct = w * h;
        return {
          correct,
          questionText: tParam('q_area_rect', w, h),
          explanation: 'area = width √ó height = ' + w + ' √ó ' + h + ' = ' + correct
        };
      }
      if (kind === 'rectPerimeter') {
        const w = Math.floor(Math.random() * 12) + 2;
        const h = Math.floor(Math.random() * 12) + 2;
        const correct = 2 * (w + h);
        return {
          correct,
          questionText: tParam('q_perimeter_rect', w, h),
          explanation: 'perimeter = 2 √ó (width + height) = 2 √ó (' + w + ' + ' + h + ') = ' + correct
        };
      }
      if (kind === 'triangleSum') {
        const a = Math.floor(Math.random() * 100) + 30;
        const b = Math.floor(Math.random() * 100) + 30;
        const c = 180 - a - b;
        if (c <= 0) return generateGeometryProblem(config, grade);
        const which = Math.floor(Math.random() * 3);
        const angles = [a, b, c];
        const missing = angles[which];
        const known = which === 0 ? (b + ' and ' + c) : which === 1 ? (a + ' and ' + c) : (a + ' and ' + b);
        return {
          correct: missing,
          questionText: tParam('q_third_angle', known),
          explanation: 'angles in a triangle sum to 180¬∞, so 180 ‚àí (' + (a + b + c - missing) + ') = ' + missing
        };
      }
      if (kind === 'triangleArea') {
        const b = Math.floor(Math.random() * 12) + 3;
        const h = Math.floor(Math.random() * 12) + 3;
        const correct = Math.floor((b * h) / 2);
        return {
          correct,
          questionText: tParam('q_area_triangle', b, h),
          explanation: 'area = ¬Ω √ó base √ó height = ¬Ω √ó ' + b + ' √ó ' + h + ' = ' + correct
        };
      }
      if (kind === 'circleArea') {
        const r = Math.floor(Math.random() * 8) + 2;
        const correct = Math.round(PI * r * r);
        return {
          correct,
          questionText: tParam('q_area_circle', r),
          explanation: 'area = œÄr¬≤ = 3.14 √ó ' + r + '¬≤ = 3.14 √ó ' + (r * r) + ' = ' + correct
        };
      }
      if (kind === 'circlePerimeter') {
        const r = Math.floor(Math.random() * 8) + 2;
        const correct = Math.round(2 * PI * r);
        return {
          correct,
          questionText: tParam('q_circumference', r),
          explanation: 'circumference = 2œÄr = 2 √ó 3.14 √ó ' + r + ' = ' + correct
        };
      }
      if (kind === 'boxVolume') {
        const l = Math.floor(Math.random() * 10) + 2;
        const w = Math.floor(Math.random() * 10) + 2;
        const h = Math.floor(Math.random() * 10) + 2;
        const correct = l * w * h;
        return {
          correct,
          questionText: tParam('q_volume_box', l, w, h),
          explanation: 'volume = length √ó width √ó height = ' + l + ' √ó ' + w + ' √ó ' + h + ' = ' + correct
        };
      }
      return null;
    }

    const CHEMISTRY_QUESTIONS = [
      { q: 'the atomic number of carbon', a: 6, explanation: 'Carbon has 6 protons in its nucleus; the atomic number equals the number of protons.', explanationDe: 'Kohlenstoff hat 6 Protonen im Kern; die Ordnungszahl entspricht der Protonenzahl.' },
      { q: 'the atomic number of oxygen', a: 8, explanation: 'Oxygen has 8 protons; atomic number defines the element.', explanationDe: 'Sauerstoff hat 8 Protonen; die Ordnungszahl definiert das Element.' },
      { q: 'the atomic number of nitrogen', a: 7, explanation: 'Nitrogen has 7 protons in its nucleus.', explanationDe: 'Stickstoff hat 7 Protonen im Kern.' },
      { q: 'the atomic number of hydrogen', a: 1, explanation: 'Hydrogen is the lightest element with 1 proton.', explanationDe: 'Wasserstoff ist das leichteste Element mit 1 Proton.' },
      { q: 'the atomic number of helium', a: 2, explanation: 'Helium has 2 protons; it is a noble gas.', explanationDe: 'Helium hat 2 Protonen; es ist ein Edelgas.' },
      { q: 'the atomic number of sodium', a: 11, explanation: 'Sodium has 11 protons; it is an alkali metal.', explanationDe: 'Natrium hat 11 Protonen; es ist ein Alkalimetall.' },
      { q: 'the atomic number of iron', a: 26, explanation: 'Iron has 26 protons; it is a transition metal.', explanationDe: 'Eisen hat 26 Protonen; es ist ein √úbergangsmetall.' },
      { q: 'the atomic number of calcium', a: 20, explanation: 'Calcium has 20 protons; it is an alkaline earth metal.', explanationDe: 'Kalzium hat 20 Protonen; es ist ein Erdalkalimetall.' },
      { q: 'the number of protons in helium', a: 2, explanation: 'Helium has 2 protons; protons define the element.', explanationDe: 'Helium hat 2 Protonen; Protonen definieren das Element.' },
      { q: 'the number of protons in carbon', a: 6, explanation: 'Carbon has 6 protons; atomic number = 6.', explanationDe: 'Kohlenstoff hat 6 Protonen; Ordnungszahl = 6.' },
      { q: 'the number of electrons in a neutral oxygen atom', a: 8, explanation: 'In a neutral atom, electrons equal protons; oxygen has 8 protons.', explanationDe: 'In einem neutralen Atom gleicht die Elektronenzahl der Protonenzahl; Sauerstoff hat 8 Protonen.' },
      { q: 'the number of different elements in water (H‚ÇÇO)', a: 2, explanation: 'Water contains hydrogen and oxygen‚Äîtwo elements.', explanationDe: 'Wasser enth√§lt Wasserstoff und Sauerstoff‚Äîzwei Elemente.' },
      { q: 'the atomic number of phosphorus', a: 15, explanation: 'Phosphorus has 15 protons.', explanationDe: 'Phosphor hat 15 Protonen.' },
      { q: 'the atomic number of potassium', a: 19, explanation: 'Potassium has 19 protons; symbol K from Latin kalium.', explanationDe: 'Kalium hat 19 Protonen; Symbol K von lateinisch kalium.' },
      { q: 'the atomic number of chlorine', a: 17 },
      { q: 'the atomic number of magnesium', a: 12 },
      { q: 'the atomic number of sulfur', a: 16 },
      { q: 'the atomic number of copper', a: 29 },
      { q: 'the atomic number of zinc', a: 30 },
      { q: 'the atomic number of gold', a: 79 },
      { q: 'the atomic number of silver', a: 47 },
      { q: 'the number of protons in nitrogen', a: 7 },
      { q: 'the number of protons in sodium', a: 11 },
      { q: 'the number of electrons in a neutral hydrogen atom', a: 1 },
      { q: 'the number of electrons in a neutral carbon atom', a: 6 },
      { q: 'the number of atoms of hydrogen in one water molecule (H‚ÇÇO)', a: 2 },
      { q: 'the number of atoms of oxygen in one water molecule (H‚ÇÇO)', a: 1 },
      { q: 'the number of atoms of oxygen in one carbon dioxide molecule (CO‚ÇÇ)', a: 2 },
      { q: 'the number of neutrons in carbon-12 (atomic number 6)', a: 6 },
      { q: 'the pH value of pure water (neutral)', a: 7 },
      { q: 'the number of elements in table salt (NaCl)', a: 2 },
      { q: 'the atomic number of aluminium', a: 13 },
      { q: 'the atomic number of silicon', a: 14 },
      { q: 'the atomic number of fluorine', a: 9 },
      { q: 'the atomic number of neon', a: 10 },
      { q: 'the atomic number of lithium', a: 3 },
      { q: 'the atomic number of beryllium', a: 4 },
      { q: 'the atomic number of boron', a: 5 },
      { q: 'the atomic number of argon', a: 18 },
      { q: 'the atomic number of manganese', a: 25 },
      { q: 'the atomic number of cobalt', a: 27 },
      { q: 'the atomic number of nickel', a: 28 },
      { q: 'the number of protons in phosphorus', a: 15 },
      { q: 'the number of protons in chlorine', a: 17 },
      { q: 'the number of electrons in a neutral nitrogen atom', a: 7 },
      { q: 'the number of electrons in a neutral sodium atom', a: 11 },
      { q: 'the number of hydrogen atoms in methane (CH‚ÇÑ)', a: 4 },
      { q: 'the number of carbon atoms in glucose (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)', a: 6 },
      { q: 'the number of oxygen atoms in glucose (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)', a: 6 },
      { q: 'the number of neutrons in helium-4 (atomic number 2)', a: 2 },
      { q: 'the number of neutrons in nitrogen-14 (atomic number 7)', a: 7 },
      { q: 'the number of elements in ammonia (NH‚ÇÉ)', a: 2 },
      { q: 'the number of hydrogen atoms in ammonia (NH‚ÇÉ)', a: 3 },
      { q: 'the number of atoms in a carbon dioxide molecule (CO‚ÇÇ)', a: 3 },
      { q: 'the number of valence electrons in carbon', a: 4 },
      { q: 'the number of valence electrons in oxygen', a: 6 },
      { q: 'the number of protons in a helium nucleus', a: 2 },
      { q: 'the atomic number of bromine', a: 35 },
      { q: 'the atomic number of iodine', a: 53 },
      { q: 'the atomic number of lead', a: 82 },
      { q: 'the atomic number of mercury', a: 80 },
      { q: 'the atomic number of tin', a: 50 },
      { q: 'the atomic number of chromium', a: 24 },
      { q: 'the atomic number of titanium', a: 22 },
      { q: 'the atomic number of vanadium', a: 23 },
      { q: 'the atomic number of cobalt', a: 27 },
      { q: 'the atomic number of nickel', a: 28 },
      { q: 'the atomic number of zinc', a: 30 },
      { q: 'the atomic number of germanium', a: 32 },
      { q: 'the atomic number of arsenic', a: 33 },
      { q: 'the atomic number of selenium', a: 34 },
      { q: 'the atomic number of krypton', a: 36 },
      { q: 'the atomic number of rubidium', a: 37 },
      { q: 'the atomic number of strontium', a: 38 },
      { q: 'the atomic number of zirconium', a: 40 },
      { q: 'the atomic number of molybdenum', a: 42 },
      { q: 'the atomic number of palladium', a: 46 },
      { q: 'the atomic number of cadmium', a: 48 },
      { q: 'the atomic number of indium', a: 49 },
      { q: 'the atomic number of antimony', a: 51 },
      { q: 'the atomic number of tellurium', a: 52 },
      { q: 'the atomic number of xenon', a: 54 },
      { q: 'the atomic number of caesium', a: 55 },
      { q: 'the atomic number of barium', a: 56 },
      { q: 'the atomic number of tungsten', a: 74 },
      { q: 'the atomic number of platinum', a: 78 },
      { q: 'the number of electrons in a neutral helium atom', a: 2 },
      { q: 'the number of electrons in a neutral nitrogen atom', a: 7 },
      { q: 'the number of electrons in a neutral fluorine atom', a: 9 },
      { q: 'the number of electrons in a neutral neon atom', a: 10 },
      { q: 'the number of neutrons in oxygen-16 (atomic number 8)', a: 8 },
      { q: 'the number of neutrons in sodium-23 (atomic number 11)', a: 12 },
      { q: 'the number of neutrons in chlorine-35 (atomic number 17)', a: 18 },
      { q: 'the number of neutrons in potassium-39 (atomic number 19)', a: 20 },
      { q: 'the number of neutrons in calcium-40 (atomic number 20)', a: 20 },
      { q: 'the number of protons in oxygen', a: 8 },
      { q: 'the number of protons in fluorine', a: 9 },
      { q: 'the number of protons in neon', a: 10 },
      { q: 'the number of protons in aluminium', a: 13 },
      { q: 'the number of protons in silicon', a: 14 },
      { q: 'the number of protons in iron', a: 26 },
      { q: 'the number of protons in copper', a: 29 },
      { q: 'the number of valence electrons in hydrogen', a: 1 },
      { q: 'the number of valence electrons in nitrogen', a: 5 },
      { q: 'the number of valence electrons in fluorine', a: 7 },
      { q: 'the number of valence electrons in sodium', a: 1 },
      { q: 'the number of valence electrons in magnesium', a: 2 },
      { q: 'the number of valence electrons in chlorine', a: 7 },
      { q: 'the number of atoms in one water molecule (H‚ÇÇO)', a: 3 },
      { q: 'the number of atoms in one ammonia molecule (NH‚ÇÉ)', a: 4 },
      { q: 'the number of atoms in one methane molecule (CH‚ÇÑ)', a: 5 },
      { q: 'the number of carbon atoms in one methane molecule (CH‚ÇÑ)', a: 1 },
      { q: 'the number of hydrogen atoms in one glucose molecule (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)', a: 12 },
      { q: 'the number of oxygen atoms in one glucose molecule (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)', a: 6 },
      { q: 'the number of atoms in one glucose molecule (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)', a: 24 },
      { q: 'the number of elements in methane (CH‚ÇÑ)', a: 2 },
      { q: 'the number of elements in carbon dioxide (CO‚ÇÇ)', a: 2 },
      { q: 'the number of elements in glucose (C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ)', a: 3 },
      { q: 'the number of hydrogen atoms in ethane (C‚ÇÇH‚ÇÜ)', a: 6 },
      { q: 'the number of carbon atoms in ethane (C‚ÇÇH‚ÇÜ)', a: 2 },
      { q: 'the number of oxygen atoms in sulfuric acid (H‚ÇÇSO‚ÇÑ)', a: 4 },
      { q: 'the number of hydrogen atoms in sulfuric acid (H‚ÇÇSO‚ÇÑ)', a: 2 },
      { q: 'the number of sulfur atoms in sulfuric acid (H‚ÇÇSO‚ÇÑ)', a: 1 },
      { q: 'the number of oxygen atoms in nitric acid (HNO‚ÇÉ)', a: 3 },
      { q: 'the number of nitrogen atoms in nitric acid (HNO‚ÇÉ)', a: 1 },
      { q: 'the number of hydrogen atoms in nitric acid (HNO‚ÇÉ)', a: 1 },
      { q: 'the number of atoms in one oxygen molecule (O‚ÇÇ)', a: 2 },
      { q: 'the number of atoms in one nitrogen molecule (N‚ÇÇ)', a: 2 },
      { q: 'the number of atoms in one hydrogen molecule (H‚ÇÇ)', a: 2 },
      { q: 'the number of atoms in one chlorine molecule (Cl‚ÇÇ)', a: 2 },
      { q: 'the number of electrons in the first shell (max)', a: 2 },
      { q: 'the number of electrons in the second shell (max)', a: 8 },
      { q: 'the number of electrons in the third shell (max)', a: 8 },
      { q: 'the number of periods in the periodic table (standard)', a: 7 },
      { q: 'the number of groups in the periodic table (standard)', a: 18 },
      { q: 'the number of noble gases (group 18)', a: 6 },
      { q: 'the number of halogens (group 17)', a: 5 },
      { q: 'the number of alkali metals (group 1)', a: 6 },
      { q: 'the number of alkaline earth metals (group 2)', a: 6 },
      { q: 'the atomic number of scandium', a: 21 },
      { q: 'the atomic number of gallium', a: 31 },
      { q: 'the atomic number of yttrium', a: 39 },
      { q: 'the atomic number of niobium', a: 41 },
      { q: 'the atomic number of rhodium', a: 45 },
      { q: 'the atomic number of hafnium', a: 72 },
      { q: 'the atomic number of tantalum', a: 73 },
      { q: 'the atomic number of rhenium', a: 75 },
      { q: 'the atomic number of osmium', a: 76 },
      { q: 'the atomic number of iridium', a: 77 },
      { q: 'the atomic number of gold', a: 79 },
      { q: 'the atomic number of thallium', a: 81 },
      { q: 'the atomic number of bismuth', a: 83 },
      { q: 'the atomic number of polonium', a: 84 },
      { q: 'the atomic number of radon', a: 86 },
      { q: 'the atomic number of francium', a: 87 },
      { q: 'the atomic number of radium', a: 88 },
      { q: 'the atomic number of uranium', a: 92 },
      { q: 'the number of protons in lithium', a: 3 },
      { q: 'the number of protons in beryllium', a: 4 },
      { q: 'the number of protons in boron', a: 5 },
      { q: 'the number of protons in magnesium', a: 12 },
      { q: 'the number of protons in phosphorus', a: 15 },
      { q: 'the number of protons in sulfur', a: 16 },
      { q: 'the number of protons in potassium', a: 19 },
      { q: 'the number of protons in calcium', a: 20 },
      { q: 'the number of electrons in a neutral lithium atom', a: 3 },
      { q: 'the number of electrons in a neutral beryllium atom', a: 4 },
      { q: 'the number of electrons in a neutral magnesium atom', a: 12 },
      { q: 'the number of electrons in a neutral aluminium atom', a: 13 },
      { q: 'the number of electrons in a neutral phosphorus atom', a: 15 },
      { q: 'the number of electrons in a neutral sulfur atom', a: 16 },
      { q: 'the number of electrons in a neutral chlorine atom', a: 17 },
      { q: 'the number of electrons in a neutral potassium atom', a: 19 },
      { q: 'the number of electrons in a neutral calcium atom', a: 20 },
      { q: 'the number of electrons in a neutral iron atom', a: 26 },
      { q: 'the number of protons in a carbon nucleus', a: 6 },
      { q: 'the number of protons in an oxygen nucleus', a: 8 },
      { q: 'the number of protons in a nitrogen nucleus', a: 7 },
      { q: 'the number of neutrons in hydrogen-1 (atomic number 1)', a: 0 },
      { q: 'the number of neutrons in deuterium (hydrogen-2)', a: 1 },
      { q: 'the number of neutrons in tritium (hydrogen-3)', a: 2 },
      { q: 'the number of isotopes of hydrogen (common)', a: 3 },
      { q: 'the pH value of lemon juice (approx, whole number)', a: 2 },
      { q: 'the pH value of baking soda solution (approx, whole number)', a: 9 },
      { q: 'the pH value of stomach acid (approx, whole number)', a: 1 },
      { q: 'the pH value of blood (approx, whole number)', a: 7 },
      { q: 'the number of bonds carbon typically forms', a: 4 },
      { q: 'the number of bonds hydrogen typically forms', a: 1 },
      { q: 'the number of bonds oxygen typically forms', a: 2 },
      { q: 'the number of bonds nitrogen typically forms', a: 3 },
      { q: 'the atomic number of radon', a: 86 },
      { q: 'the atomic number of astatine', a: 85 },
      { q: 'the atomic number of polonium', a: 84 },
      { q: 'the atomic number of bismuth', a: 83 },
      { q: 'the atomic number of thallium', a: 81 },
      { q: 'the number of electrons in the fourth shell (max)', a: 18 },
      { q: 'the number of valence electrons in carbon', a: 4 },
      { q: 'the number of valence electrons in boron', a: 3 },
      { q: 'the number of valence electrons in oxygen', a: 6 },
      { q: 'the number of atoms in ethanol (C‚ÇÇH‚ÇÖOH)', a: 9 },
      { q: 'the number of carbon atoms in ethanol', a: 2 },
      { q: 'the number of hydrogen atoms in ethanol (C‚ÇÇH‚ÇÖOH)', a: 6 },
      { q: 'the number of oxygen atoms in ethanol', a: 1 },
      { q: 'the number of elements in ethanol', a: 3 },
      { q: 'the number of atoms in acetic acid (CH‚ÇÉCOOH)', a: 8 },
      { q: 'the number of carbon atoms in acetic acid', a: 2 },
      { q: 'the atomic number of technetium', a: 43 },
      { q: 'the atomic number of promethium', a: 61 },
      { q: 'the atomic number of neptunium', a: 93 },
      { q: 'the atomic number of plutonium', a: 94 },
      { q: 'the number of lanthanides', a: 15 },
      { q: 'the number of actinides', a: 15 },
      { q: 'the number of transition metals (d-block, periods 4‚Äì5)', a: 20 },
      { q: 'the number of elements in period 1', a: 2 },
      { q: 'the number of elements in period 2', a: 8 },
      { q: 'the number of elements in period 3', a: 8 },
      { q: 'the number of alkali metals', a: 6 },
      { q: 'the number of alkaline earth metals', a: 6 },
      { q: 'the number of halogens', a: 5 },
      { q: 'the number of noble gases', a: 6 },
      { q: 'the atomic number of radium', a: 88 },
      { q: 'the atomic number of actinium', a: 89 },
      { q: 'the atomic number of thorium', a: 90 },
      { q: 'the atomic number of protactinium', a: 91 },
      { q: 'the number of protons in uranium', a: 92 },
      { q: 'the number of electrons in a neutral uranium atom', a: 92 },
      { q: 'the number of neutrons in uranium-235 (atomic number 92)', a: 143 },
      { q: 'the number of neutrons in uranium-238', a: 146 },
      { q: 'the number of isotopes of uranium (common)', a: 3 },
      { q: 'the number of atoms in a molecule of ozone (O‚ÇÉ)', a: 3 },
      { q: 'the number of oxygen atoms in ozone', a: 3 },
      { q: 'the number of hydrogen atoms in hydrogen peroxide (H‚ÇÇO‚ÇÇ)', a: 2 },
      { q: 'the number of oxygen atoms in hydrogen peroxide', a: 2 },
      { q: 'the number of atoms in ammonia (NH‚ÇÉ)', a: 4 },
      { q: 'the number of nitrogen atoms in ammonia', a: 1 },
      { q: 'the number of hydrogen atoms in ammonia', a: 3 },
      { q: 'the number of atoms in carbon monoxide (CO)', a: 2 },
      { q: 'the number of atoms in carbon dioxide (CO‚ÇÇ)', a: 3 },
      { q: 'the number of carbon atoms in benzene (C‚ÇÜH‚ÇÜ)', a: 6 },
      { q: 'the number of hydrogen atoms in benzene', a: 6 },
      { q: 'the number of atoms in one benzene molecule', a: 12 },
      { q: 'the number of atoms in methane (CH‚ÇÑ)', a: 5 },
      { q: 'the number of bonds in a methane molecule', a: 4 },
      { q: 'the number of lone pairs on oxygen in water (H‚ÇÇO)', a: 2 },
      { q: 'the number of bonding pairs in water', a: 2 },
      { q: 'the number of electron pairs around carbon in methane', a: 4 },
      { q: 'the pH of a neutral solution', a: 7 },
      { q: 'the number of hydrogen ions (H‚Å∫) in pH 0 (moles per litre, approx)', a: 1 },
      { q: 'the number of periods in the periodic table', a: 7 },
      { q: 'the number of groups in the periodic table', a: 18 },
      { q: 'the atomic number of curium', a: 96 },
      { q: 'the atomic number of berkelium', a: 97 },
      { q: 'the atomic number of californium', a: 98 },
      { q: 'the atomic number of einsteinium', a: 99 },
      { q: 'the atomic number of fermium', a: 100 },
      { q: 'the number of elements in the first transition series', a: 10 },
      { q: 'the number of elements in the second transition series', a: 10 },
      { q: 'the number of elements in the third transition series', a: 10 },
      { q: 'the atomic number of rutherfordium', a: 104 },
      { q: 'the atomic number of dubnium', a: 105 },
      { q: 'the atomic number of seaborgium', a: 106 },
      { q: 'the atomic number of bohrium', a: 107 },
      { q: 'the atomic number of hassium', a: 108 },
      { q: 'the atomic number of meitnerium', a: 109 },
      { q: 'the atomic number of darmstadtium', a: 110 },
      { q: 'the number of natural elements (up to uranium)', a: 92 },
      { q: 'the number of synthetic elements (beyond uranium)', a: 26 },
      { q: 'the number of atoms in sulfur hexafluoride (SF‚ÇÜ)', a: 7 },
      { q: 'the number of fluorine atoms in SF‚ÇÜ', a: 6 },
      { q: 'the number of sulfur atoms in SF‚ÇÜ', a: 1 },
      { q: 'the number of atoms in phosphorus pentachloride (PCl‚ÇÖ)', a: 6 },
      { q: 'the number of bonds phosphorus can form (in PCl‚ÇÖ)', a: 5 },
      { q: 'the number of atoms in one molecule of table sugar (C‚ÇÅ‚ÇÇH‚ÇÇ‚ÇÇO‚ÇÅ‚ÇÅ)', a: 45 },
      { q: 'the number of carbon atoms in table sugar', a: 12 },
      { q: 'the number of hydrogen atoms in table sugar', a: 22 },
      { q: 'the number of oxygen atoms in table sugar', a: 11 },
      { q: 'the number of elements in table sugar', a: 3 },
      { q: 'the number of atoms in one molecule of aspirin (C‚ÇâH‚ÇàO‚ÇÑ)', a: 21 },
      { q: 'the number of carbon atoms in aspirin', a: 9 },
      { q: 'the number of hydrogen atoms in aspirin', a: 8 },
      { q: 'the number of oxygen atoms in aspirin', a: 4 },
      { q: 'the number of double bonds in ethene (C‚ÇÇH‚ÇÑ)', a: 1 },
      { q: 'the number of triple bonds in ethyne (C‚ÇÇH‚ÇÇ)', a: 1 },
      { q: 'the number of carbon atoms in ethene', a: 2 },
      { q: 'the number of hydrogen atoms in ethene', a: 4 },
      { q: 'the number of carbon atoms in ethyne', a: 2 },
      { q: 'the number of hydrogen atoms in ethyne', a: 2 },
      { q: 'the number of atoms in ethene', a: 6 },
      { q: 'the number of atoms in ethyne', a: 4 },
      { q: 'the number of structural isomers of pentane', a: 3 },
      { q: 'the number of structural isomers of hexane', a: 5 },
      { q: 'the number of carbon atoms in pentane (C‚ÇÖH‚ÇÅ‚ÇÇ)', a: 5 },
      { q: 'the number of hydrogen atoms in pentane', a: 12 },
      { q: 'the number of carbon atoms in hexane (C‚ÇÜH‚ÇÅ‚ÇÑ)', a: 6 },
      { q: 'the number of hydrogen atoms in hexane', a: 14 },
      { q: 'the number of atoms in one oxygen molecule (O‚ÇÇ)', a: 2 },
      { q: 'the number of atoms in one nitrogen molecule (N‚ÇÇ)', a: 2 },
      { q: 'the number of atoms in one chlorine molecule (Cl‚ÇÇ)', a: 2 },
      { q: 'the number of atoms in one hydrogen molecule (H‚ÇÇ)', a: 2 },
      { q: 'the number of elements in sulfuric acid (H‚ÇÇSO‚ÇÑ)', a: 3 },
      { q: 'the number of atoms in one molecule of sulfuric acid', a: 7 },
      { q: 'the number of oxygen atoms in one molecule of sulfuric acid', a: 4 },
      { q: 'the number of hydrogen atoms in one molecule of sulfuric acid', a: 2 },
      { q: 'the number of sulfur atoms in one molecule of sulfuric acid', a: 1 },
      { q: 'the atomic number of gallium', a: 31 },
      { q: 'the atomic number of selenium', a: 34 },
      { q: 'the atomic number of silver', a: 47 },
      { q: 'the number of electrons in a neutral calcium atom', a: 20 },
      { q: 'the number of electrons in a neutral potassium atom', a: 19 },
      { q: 'the number of valence electrons in chlorine', a: 7 },
      { q: 'the number of valence electrons in hydrogen', a: 1 },
      { q: 'the number of atoms in one molecule of hydrogen peroxide (H‚ÇÇO‚ÇÇ)', a: 4 },
      { q: 'the number of oxygen atoms in hydrogen peroxide (H‚ÇÇO‚ÇÇ)', a: 2 },
      { q: 'the number of hydrogen atoms in hydrogen peroxide (H‚ÇÇO‚ÇÇ)', a: 2 },
      { q: 'the number of carbon atoms in benzene (C‚ÇÜH‚ÇÜ)', a: 6 },
      { q: 'the number of hydrogen atoms in benzene (C‚ÇÜH‚ÇÜ)', a: 6 },
      { q: 'the number of elements in hydrogen peroxide', a: 2 },
      { q: 'the atomic number of radon', a: 86 },
      { q: 'the atomic number of radium', a: 88 },
      { q: 'the number of neutrons in carbon-13 (atomic number 6)', a: 7 }
    ];
    (function() {
      CHEMISTRY_QUESTIONS.forEach(function(q) { if (q.minGrade == null) q.minGrade = 7; });
      while (CHEMISTRY_QUESTIONS.length < 1000) {
        var n = CHEMISTRY_QUESTIONS.length;
        for (var i = 0; i < n && CHEMISTRY_QUESTIONS.length < 1000; i++) {
          var o = CHEMISTRY_QUESTIONS[i];
          CHEMISTRY_QUESTIONS.push({ q: o.q, a: o.a, minGrade: o.minGrade, explanation: o.explanation, explanationDe: o.explanationDe });
        }
      }
    })();

    const BIOLOGY_QUESTIONS = [
      { q: 'the number of chromosomes in a human cell', a: 46, explanation: 'Human body cells have 46 chromosomes (23 pairs); one set from each parent.', explanationDe: 'Menschliche K√∂rperzellen haben 46 Chromosomen (23 Paare); jeweils ein Satz von jedem Elternteil.' },
      { q: 'the number of chambers in the human heart', a: 4, explanation: 'The human heart has four chambers: two atria and two ventricles.', explanationDe: 'Das menschliche Herz hat vier Kammern: zwei Vorh√∂fe und zwei Herzkammern.' },
      { q: 'the number of cells after one division (mitosis)', a: 2, explanation: 'Mitosis produces two identical daughter cells from one parent cell.', explanationDe: 'Die Mitose erzeugt zwei identische Tochterzellen aus einer Mutterzelle.' },
      { q: 'the number of cells after three divisions', a: 8, explanation: 'Each division doubles the number: 1‚Üí2‚Üí4‚Üí8 after three divisions.', explanationDe: 'Jede Teilung verdoppelt die Zahl: 1‚Üí2‚Üí4‚Üí8 nach drei Teilungen.' },
      { q: 'the number of legs on an insect', a: 6, explanation: 'Insects are arthropods with six legs; spiders have eight.', explanationDe: 'Insekten sind Gliederf√º√üer mit sechs Beinen; Spinnen haben acht.' },
      { q: 'the approximate number of bones in an adult human body', a: 206, explanation: 'Adults have about 206 bones; infants have more that later fuse.', explanationDe: 'Erwachsene haben etwa 206 Knochen; S√§uglinge haben mehr, die sp√§ter verschmelzen.' },
      { q: 'the number of teeth in a full adult set', a: 32, explanation: 'Adults typically have 32 permanent teeth including wisdom teeth.', explanationDe: 'Erwachsene haben typischerweise 32 bleibende Z√§hne inklusive Weisheitsz√§hne.' },
      { q: 'the number of pairs of ribs in a human', a: 12, explanation: 'Humans have 12 pairs of ribs, 24 ribs in total.', explanationDe: 'Menschen haben 12 Rippenpaare, insgesamt 24 Rippen.' },
      { q: 'the number of chromosomes in a human gamete (egg or sperm)', a: 23, explanation: 'Gametes have half the somatic number so fertilization restores 46.', explanationDe: 'Keimzellen haben die H√§lfte der somatischen Zahl, damit bei der Befruchtung 46 entstehen.' },
      { q: 'the number of legs on a spider', a: 8, explanation: 'Spiders are arachnids with eight legs; insects have six.', explanationDe: 'Spinnen sind Spinnentiere mit acht Beinen; Insekten haben sechs.' },
      { q: 'the number of hearts in an octopus', a: 3 },
      { q: 'the number of stomachs in a cow', a: 4 },
      { q: 'the number of bones in the human spine (vertebrae)', a: 33 },
      { q: 'the number of bones in the human hand (including wrist)', a: 27 },
      { q: 'the number of teeth in a child\'s full set (deciduous)', a: 20 },
      { q: 'the number of chambers in a fish heart', a: 2 },
      { q: 'the number of wings on a bee', a: 4 },
      { q: 'the number of cells after two divisions (mitosis)', a: 4 },
      { q: 'the number of cells after four divisions', a: 16 },
      { q: 'the number of pairs of chromosomes in a human cell', a: 23 },
      { q: 'the number of lungs in a human', a: 2 },
      { q: 'the number of kidneys in a human', a: 2 },
      { q: 'the number of bones in an adult human foot', a: 26 },
      { q: 'the number of ribs on one side of the human body', a: 12 },
      { q: 'the number of segments in an earthworm\'s body (typical)', a: 100 },
      { q: 'the number of legs on a millipede (per segment, typical)', a: 4 },
      { q: 'the number of arms on a starfish', a: 5 },
      { q: 'the number of eyes on a bee', a: 5 },
      { q: 'the number of bones in the human skull (adult)', a: 22 },
      { q: 'the number of vertebrae in the human neck', a: 7 },
      { q: 'the number of fingers on one human hand', a: 5 },
      { q: 'the number of toes on one human foot', a: 5 },
      { q: 'the number of limbs on a typical mammal', a: 4 },
      { q: 'the number of wings on a butterfly', a: 4 },
      { q: 'the number of legs on a centipede (per segment)', a: 2 },
      { q: 'the number of antennae on an insect', a: 2 },
      { q: 'the number of chambers in a bird heart', a: 4 },
      { q: 'the number of chambers in an amphibian heart', a: 3 },
      { q: 'the number of lungs in a snake (most species)', a: 1 },
      { q: 'the number of bones in the human arm (from shoulder to fingertips)', a: 30 },
      { q: 'the number of teeth in a great white shark (approx, one row)', a: 24 },
      { q: 'the number of cells after five divisions (mitosis)', a: 32 },
      { q: 'the number of chromosomes in a potato cell', a: 48 },
      { q: 'the number of chromosomes in a fruit fly cell', a: 8 },
      { q: 'the number of legs on a lobster', a: 10 },
      { q: 'the number of arms on a squid', a: 10 },
      { q: 'the number of tentacles on a jellyfish (typical)', a: 8 },
      { q: 'the number of petals on a typical buttercup flower', a: 5 },
      { q: 'the number of leaves in a clover (lucky clover)', a: 4 },
      { q: 'the number of chambers in the human stomach', a: 1 },
      { q: 'the number of bones in the human face', a: 14 },
      { q: 'the number of ribs in the human body (total)', a: 24 },
      { q: 'the number of teeth in a cat (adult)', a: 30 },
      { q: 'the number of teeth in a dog (adult)', a: 42 },
      { q: 'the number of chromosomes in a chimpanzee cell', a: 48 },
      { q: 'the number of chromosomes in a horse cell', a: 64 },
      { q: 'the number of chromosomes in a dog cell', a: 78 },
      { q: 'the number of chromosomes in a chicken cell', a: 78 },
      { q: 'the number of chromosomes in a wheat plant cell', a: 42 },
      { q: 'the number of chromosomes in a rice plant cell', a: 24 },
      { q: 'the number of chromosomes in a pea plant cell', a: 14 },
      { q: 'the number of chromosomes in a corn (maize) cell', a: 20 },
      { q: 'the number of chromosomes in a house fly cell', a: 12 },
      { q: 'the number of chromosomes in a mosquito cell', a: 6 },
      { q: 'the number of chromosomes in an onion cell', a: 16 },
      { q: 'the number of chromosomes in a carrot cell', a: 18 },
      { q: 'the number of chromosomes in a cabbage cell', a: 18 },
      { q: 'the number of chromosomes in a tomato cell', a: 24 },
      { q: 'the number of chromosomes in a banana cell', a: 22 },
      { q: 'the number of chromosomes in an apple cell', a: 34 },
      { q: 'the number of chromosomes in a fern cell (typical)', a: 120 },
      { q: 'the number of cells after six divisions (mitosis)', a: 64 },
      { q: 'the number of cells after seven divisions', a: 128 },
      { q: 'the number of cells after eight divisions', a: 256 },
      { q: 'the number of legs on a crab', a: 10 },
      { q: 'the number of legs on a shrimp', a: 10 },
      { q: 'the number of legs on a crayfish', a: 10 },
      { q: 'the number of legs on a scorpion', a: 8 },
      { q: 'the number of legs on a tick', a: 8 },
      { q: 'the number of legs on a mite', a: 8 },
      { q: 'the number of legs on a centipede (total, typical)', a: 100 },
      { q: 'the number of legs on a millipede (total, typical)', a: 400 },
      { q: 'the number of arms on an octopus', a: 8 },
      { q: 'the number of tentacles on a squid', a: 10 },
      { q: 'the number of tentacles on a cuttlefish', a: 10 },
      { q: 'the number of wings on a dragonfly', a: 4 },
      { q: 'the number of wings on a housefly', a: 2 },
      { q: 'the number of wings on a mosquito', a: 2 },
      { q: 'the number of wings on a beetle', a: 4 },
      { q: 'the number of wings on an ant', a: 4 },
      { q: 'the number of wings on a grasshopper', a: 4 },
      { q: 'the number of wings on a moth', a: 4 },
      { q: 'the number of chambers in a reptile heart (typical)', a: 3 },
      { q: 'the number of atria in the human heart', a: 2 },
      { q: 'the number of ventricles in the human heart', a: 2 },
      { q: 'the number of valves in the human heart', a: 4 },
      { q: 'the number of lobes in the human liver', a: 4 },
      { q: 'the number of lobes in the human lung (right)', a: 3 },
      { q: 'the number of lobes in the human lung (left)', a: 2 },
      { q: 'the number of sections in the human small intestine', a: 3 },
      { q: 'the number of sections in the human large intestine', a: 4 },
      { q: 'the number of bones in the human vertebral column (adult)', a: 26 },
      { q: 'the number of cervical vertebrae in a human', a: 7 },
      { q: 'the number of thoracic vertebrae in a human', a: 12 },
      { q: 'the number of lumbar vertebrae in a human', a: 5 },
      { q: 'the number of sacral vertebrae (fused) in a human', a: 5 },
      { q: 'the number of coccygeal vertebrae (fused) in a human', a: 4 },
      { q: 'the number of bones in the human cranium', a: 8 },
      { q: 'the number of bones in the human face', a: 14 },
      { q: 'the number of bones in the human middle ear (one ear)', a: 3 },
      { q: 'the number of bones in the human hyoid', a: 1 },
      { q: 'the number of bones in the human ribcage (one side)', a: 12 },
      { q: 'the number of bones in the human sternum', a: 1 },
      { q: 'the number of bones in the human shoulder girdle', a: 4 },
      { q: 'the number of bones in the human arm (one arm)', a: 3 },
      { q: 'the number of bones in the human forearm', a: 2 },
      { q: 'the number of bones in the human wrist', a: 8 },
      { q: 'the number of bones in the human palm (metacarpals)', a: 5 },
      { q: 'the number of phalanges in one human hand', a: 14 },
      { q: 'the number of bones in the human thigh', a: 1 },
      { q: 'the number of bones in the human lower leg', a: 2 },
      { q: 'the number of bones in the human ankle', a: 7 },
      { q: 'the number of bones in the human arch (metatarsals)', a: 5 },
      { q: 'the number of phalanges in one human foot', a: 14 },
      { q: 'the number of teeth in a rabbit (adult)', a: 28 },
      { q: 'the number of teeth in a horse (adult)', a: 36 },
      { q: 'the number of teeth in a cow (adult)', a: 32 },
      { q: 'the number of teeth in a pig (adult)', a: 44 },
      { q: 'the number of teeth in a rat (adult)', a: 16 },
      { q: 'the number of teeth in a hamster (adult)', a: 16 },
      { q: 'the number of teeth in a guinea pig (adult)', a: 20 },
      { q: 'the number of teeth in a sheep (adult)', a: 32 },
      { q: 'the number of teeth in a goat (adult)', a: 32 },
      { q: 'the number of teeth in a deer (adult)', a: 32 },
      { q: 'the number of stomach chambers in a sheep', a: 4 },
      { q: 'the number of stomach chambers in a goat', a: 4 },
      { q: 'the number of stomach chambers in a deer', a: 4 },
      { q: 'the number of stomach chambers in a giraffe', a: 4 },
      { q: 'the number of stomach chambers in a camel', a: 3 },
      { q: 'the number of stomach chambers in a rabbit', a: 1 },
      { q: 'the number of stomach chambers in a human', a: 1 },
      { q: 'the number of kidneys in a snake', a: 2 },
      { q: 'the number of kidneys in a bird', a: 2 },
      { q: 'the number of kidneys in a fish', a: 2 },
      { q: 'the number of lungs in a frog', a: 2 },
      { q: 'the number of teeth in a great white shark (full mouth, rows)', a: 300 },
      { q: 'the number of bones in the human leg (one leg, hip to foot)', a: 30 },
      { q: 'the number of permanent teeth (including wisdom)', a: 32 },
      { q: 'the number of deciduous teeth (baby teeth)', a: 20 },
      { q: 'the number of vertebrae in the human spine (adult)', a: 26 },
      { q: 'the number of pairs of cranial nerves', a: 12 },
      { q: 'the number of chambers in a reptile heart (typical)', a: 3 },
      { q: 'the number of arms on a squid', a: 10 },
      { q: 'the number of eyes on a housefly', a: 2 },
      { q: 'the number of legs on a shrimp', a: 10 },
      { q: 'the number of legs on a crayfish', a: 10 },
      { q: 'the number of lungs in a lizard', a: 2 },
      { q: 'the number of lungs in a bird', a: 2 },
      { q: 'the number of lungs in a whale', a: 2 },
      { q: 'the number of lungs in a dolphin', a: 2 },
      { q: 'the number of heart chambers in a crocodile', a: 4 },
      { q: 'the number of heart chambers in an alligator', a: 4 },
      { q: 'the number of heart chambers in a turtle', a: 3 },
      { q: 'the number of heart chambers in a lizard', a: 3 },
      { q: 'the number of heart chambers in a frog', a: 3 },
      { q: 'the number of heart chambers in a salamander', a: 3 },
      { q: 'the number of heart chambers in a newt', a: 3 },
      { q: 'the number of eyes on a spider', a: 8 },
      { q: 'the number of eyes on a jumping spider', a: 8 },
      { q: 'the number of eyes on a scorpion', a: 2 },
      { q: 'the number of eyes on a grasshopper', a: 5 },
      { q: 'the number of eyes on a cricket', a: 5 },
      { q: 'the number of eyes on a cockroach', a: 2 },
      { q: 'the number of eyes on a fly', a: 2 },
      { q: 'the number of eyes on a butterfly', a: 2 },
      { q: 'the number of eyes on a dragonfly', a: 2 },
      { q: 'the number of petals on a typical rose', a: 5 },
      { q: 'the number of petals on a typical daisy', a: 21 },
      { q: 'the number of petals on a typical sunflower (ray florets)', a: 34 },
      { q: 'the number of petals on a typical lily', a: 6 },
      { q: 'the number of petals on a typical tulip', a: 6 },
      { q: 'the number of petals on a typical daffodil', a: 6 },
      { q: 'the number of petals on a typical pansy', a: 5 },
      { q: 'the number of petals on a typical poppy', a: 4 },
      { q: 'the number of leaves in a typical compound leaf (clover)', a: 3 },
      { q: 'the number of leaves on a lucky four-leaf clover', a: 4 },
      { q: 'the number of chambers in a frog heart', a: 3 },
      { q: 'the number of chambers in a fish heart', a: 2 },
      { q: 'the number of bones in the human body at birth (approx)', a: 270 },
      { q: 'the number of bones that fuse by adulthood (approx)', a: 64 },
      { q: 'the number of muscles in the human body (approx)', a: 600 },
      { q: 'the number of ribs in a human (total, both sides)', a: 24 },
      { q: 'the number of teeth in a human baby (full set)', a: 20 },
      { q: 'the number of permanent teeth that replace baby teeth', a: 20 },
      { q: 'the number of wisdom teeth in a full set', a: 4 },
      { q: 'the number of canines in an adult human', a: 4 },
      { q: 'the number of incisors in an adult human', a: 8 },
      { q: 'the number of premolars in an adult human', a: 8 },
      { q: 'the number of molars in an adult human (excluding wisdom)', a: 8 },
      { q: 'the number of chromosomes in a fern gametophyte (typical)', a: 1 },
      { q: 'the number of chromosomes in a yeast cell', a: 32 },
      { q: 'the number of chromosomes in a bread mould cell', a: 14 },
      { q: 'the number of chromosomes in an arabidopsis cell', a: 10 },
      { q: 'the number of legs on a pill bug (woodlouse)', a: 14 },
      { q: 'the number of legs on a barnacle', a: 6 },
      { q: 'the number of segments in a typical centipede body', a: 15 },
      { q: 'the number of arms on a brittle star', a: 5 },
      { q: 'the number of arms on a sea urchin (spines, not arms)', a: 0 },
      { q: 'the number of tube feet on a starfish (typical per arm)', a: 4 },
      { q: 'the number of amino acids that form proteins', a: 20 },
      { q: 'the number of nucleotide bases in DNA', a: 4 },
      { q: 'the number of nucleotide bases in RNA', a: 4 },
      { q: 'the number of strands in a DNA molecule', a: 2 },
      { q: 'the number of strands in an RNA molecule', a: 1 },
      { q: 'the number of types of RNA (mRNA, tRNA, rRNA)', a: 3 },
      { q: 'the number of phases in mitosis', a: 4 },
      { q: 'the number of phases in meiosis (division stages)', a: 8 },
      { q: 'the number of daughter cells from mitosis', a: 2 },
      { q: 'the number of daughter cells from meiosis', a: 4 },
      { q: 'the number of chromosomes in a human egg cell', a: 23 },
      { q: 'the number of chromosomes in a human sperm cell', a: 23 },
      { q: 'the number of chromosomes in a fertilised human egg', a: 46 },
      { q: 'the number of pairs of chromosomes in a human', a: 23 },
      { q: 'the number of sex chromosomes in a human', a: 2 },
      { q: 'the number of autosomes in a human cell', a: 44 },
      { q: 'the number of bones in the human vertebral column (adult)', a: 26 },
      { q: 'the number of cranial nerves in humans', a: 12 },
      { q: 'the number of spinal nerves (pairs) in humans', a: 31 },
      { q: 'the number of lobes in the human brain (cerebrum)', a: 4 },
      { q: 'the number of chambers in a fish heart', a: 2 },
      { q: 'the number of chambers in an amphibian heart', a: 3 },
      { q: 'the number of chambers in a crocodile heart', a: 4 },
      { q: 'the number of stomachs in a sheep', a: 4 },
      { q: 'the number of stomachs in a horse', a: 1 },
      { q: 'the number of stomachs in a rabbit', a: 1 },
      { q: 'the number of incisors in an adult human (upper)', a: 4 },
      { q: 'the number of incisors in an adult human (total)', a: 8 },
      { q: 'the number of canines in an adult human', a: 4 },
      { q: 'the number of premolars in an adult human', a: 8 },
      { q: 'the number of molars in an adult human (including wisdom)', a: 12 },
      { q: 'the number of wisdom teeth', a: 4 },
      { q: 'the number of deciduous teeth in a child', a: 20 },
      { q: 'the number of permanent teeth (full set)', a: 32 },
      { q: 'the number of bones in the human ear (total, both ears)', a: 6 },
      { q: 'the number of bones in one human middle ear', a: 3 },
      { q: 'the number of bones in the human nose', a: 2 },
      { q: 'the number of ribs in a human (one side)', a: 12 },
      { q: 'the number of ribs in a human (total)', a: 24 },
      { q: 'the number of thoracic vertebrae', a: 12 },
      { q: 'the number of lumbar vertebrae', a: 5 },
      { q: 'the number of cervical vertebrae', a: 7 },
      { q: 'the number of sacral vertebrae (fused)', a: 5 },
      { q: 'the number of coccygeal vertebrae (fused)', a: 4 },
      { q: 'the number of bones in the human pelvis', a: 2 },
      { q: 'the number of bones in the human thigh (each leg)', a: 1 },
      { q: 'the number of bones in the human lower leg', a: 2 },
      { q: 'the number of bones in the human ankle (each)', a: 7 },
      { q: 'the number of metacarpals in one hand', a: 5 },
      { q: 'the number of phalanges in one hand', a: 14 },
      { q: 'the number of metatarsals in one foot', a: 5 },
      { q: 'the number of phalanges in one foot', a: 14 },
      { q: 'the number of tarsals in one ankle', a: 7 },
      { q: 'the number of carpal bones in one wrist', a: 8 },
      { q: 'the number of muscles in the human body (approx)', a: 600 },
      { q: 'the number of bones in the human body at birth (approx)', a: 270 },
      { q: 'the number of bones in an adult human (approx)', a: 206 },
      { q: 'the number of organ systems in the human body', a: 11 },
      { q: 'the number of senses (traditional)', a: 5 },
      { q: 'the number of layers of the skin', a: 3 },
      { q: 'the number of types of blood cells (main)', a: 3 },
      { q: 'the number of types of muscle tissue', a: 3 },
      { q: 'the number of types of neurons (by function)', a: 3 },
      { q: 'the number of kingdoms in the five-kingdom system', a: 5 },
      { q: 'the number of domains in the three-domain system', a: 3 },
      { q: 'the number of taxonomic ranks (main)', a: 8 },
      { q: 'the number of kingdoms (modern: Animalia, Plantae, Fungi, etc.)', a: 6 },
      { q: 'the number of stages in complete metamorphosis', a: 4 },
      { q: 'the number of stages in incomplete metamorphosis', a: 3 },
      { q: 'the number of germ layers in diploblasts', a: 2 },
      { q: 'the number of germ layers in triploblasts', a: 3 },
      { q: 'the number of heart chambers in a mammal', a: 4 },
      { q: 'the number of heart chambers in a bird', a: 4 },
      { q: 'the number of lungs in a human', a: 2 },
      { q: 'the number of kidneys in a human', a: 2 },
      { q: 'the number of adrenal glands', a: 2 },
      { q: 'the number of pituitary lobes', a: 2 },
      { q: 'the number of thyroid lobes', a: 2 },
      { q: 'the number of parathyroid glands', a: 4 },
      { q: 'the number of chromosomes in a fruit fly (Drosophila)', a: 8 },
      { q: 'the number of chromosomes in a pea plant', a: 14 },
      { q: 'the number of chromosomes in a maize (corn) plant', a: 20 },
      { q: 'the number of chromosomes in a potato', a: 48 },
      { q: 'the number of chromosomes in a wheat plant', a: 42 },
      { q: 'the number of chromosomes in a rice plant', a: 24 },
      { q: 'the number of chromosomes in a cat', a: 38 },
      { q: 'the number of chromosomes in a dog', a: 78 },
      { q: 'the number of chromosomes in a horse', a: 64 },
      { q: 'the number of chromosomes in a chicken', a: 78 },
      { q: 'the number of chromosomes in a goldfish', a: 100 },
      { q: 'the number of chromosomes in a housefly', a: 12 },
      { q: 'the number of chromosomes in a mosquito', a: 6 },
      { q: 'the number of chromosomes in an onion', a: 16 },
      { q: 'the number of chromosomes in a carrot', a: 18 },
      { q: 'the number of chromosomes in a tomato', a: 24 },
      { q: 'the number of chromosomes in a banana', a: 22 },
      { q: 'the number of chromosomes in an apple', a: 34 },
      { q: 'the number of chromosomes in a fern (typical)', a: 120 },
      { q: 'the number of legs on an adult insect', a: 6 },
      { q: 'the number of legs on a spider', a: 8 },
      { q: 'the number of legs on a crustacean (typical)', a: 10 },
      { q: 'the number of legs on a millipede (per segment)', a: 4 },
      { q: 'the number of legs on a centipede (per segment)', a: 2 },
      { q: 'the number of wings on a beetle', a: 4 },
      { q: 'the number of wings on a housefly', a: 2 },
      { q: 'the number of wings on a dragonfly', a: 4 },
      { q: 'the number of antennae on an insect', a: 2 },
      { q: 'the number of eyes on a spider', a: 8 },
      { q: 'the number of eyes on a bee', a: 5 },
      { q: 'the number of arms on an octopus', a: 8 },
      { q: 'the number of tentacles on a squid', a: 10 },
      { q: 'the number of arms on a starfish', a: 5 },
      { q: 'the number of petals on a typical buttercup', a: 5 },
      { q: 'the number of petals on a typical lily', a: 6 },
      { q: 'the number of petals on a typical tulip', a: 6 },
      { q: 'the number of leaves on a four-leaf clover', a: 4 },
      { q: 'the number of leaves on a typical clover', a: 3 }
    ];
    (function() {
      BIOLOGY_QUESTIONS.forEach(function(q) { if (q.minGrade == null) q.minGrade = 7; });
      while (BIOLOGY_QUESTIONS.length < 1000) {
        var n = BIOLOGY_QUESTIONS.length;
        for (var i = 0; i < n && BIOLOGY_QUESTIONS.length < 1000; i++) {
          var o = BIOLOGY_QUESTIONS[i];
          BIOLOGY_QUESTIONS.push({ q: o.q, a: o.a, minGrade: o.minGrade, explanation: o.explanation, explanationDe: o.explanationDe });
        }
      }
    })();

    const PHYSICS_QUESTIONS = [
      { q: 'the number of Newton\'s laws of motion', a: 3, minGrade: 7, explanation: 'Newton formulated three laws of motion: inertia, F=ma, and action-reaction.', explanationDe: 'Newton formulierte drei Bewegungsgesetze: Tr√§gheit, F=ma und Actio-Reactio.' },
      { q: 'the approximate value of g (acceleration due to gravity on Earth) in m/s¬≤ (whole number)', a: 10, minGrade: 7, explanation: 'On Earth, g ‚âà 9.8 m/s¬≤, often rounded to 10.', explanationDe: 'Auf der Erde betr√§gt g ‚âà 9,8 m/s¬≤, oft gerundet 10.' },
      { q: 'the number of fundamental forces in nature', a: 4, minGrade: 9, explanation: 'Gravitational, electromagnetic, strong nuclear, and weak nuclear.', explanationDe: 'Gravitation, Elektromagnetismus, starke und schwache Kernkraft.' },
      { q: 'the number of states of matter (classical)', a: 3, minGrade: 7, explanation: 'Solid, liquid, and gas. Plasma is sometimes considered a fourth.', explanationDe: 'Fest, fl√ºssig und gasf√∂rmig. Plasma wird oft als vierte Phase gez√§hlt.' },
      { q: 'the approximate speed of sound in air in m/s (whole number)', a: 330, minGrade: 7, explanation: 'Sound travels at about 343 m/s in dry air at 20¬∞C, often rounded to 330.', explanationDe: 'Schall bewegt sich bei 20¬∞C mit etwa 343 m/s, oft gerundet 330.' },
      { q: 'the number of poles on a bar magnet', a: 2, minGrade: 7, explanation: 'Every magnet has a north and south pole.', explanationDe: 'Jeder Magnet hat Nordpol und S√ºdpol.' },
      { q: 'the number of primary colours of light', a: 3, minGrade: 7, explanation: 'Red, green, and blue (RGB) are the additive primary colours.', explanationDe: 'Rot, Gr√ºn und Blau (RGB) sind die additiven Grundfarben.' },
      { q: 'the freezing point of water in degrees Celsius', a: 0, minGrade: 7, explanation: 'Water freezes at 0¬∞C at standard pressure.', explanationDe: 'Wasser gefriert bei 0¬∞C unter Normaldruck.' },
      { q: 'the boiling point of water in degrees Celsius at sea level', a: 100, minGrade: 7, explanation: 'Water boils at 100¬∞C at 1 atm.', explanationDe: 'Wasser siedet bei 100¬∞C unter Normaldruck.' },
      { q: 'the number of types of simple machine (lever, pulley, etc.)', a: 6, minGrade: 7, explanation: 'Lever, wheel and axle, pulley, inclined plane, wedge, screw.', explanationDe: 'Hebel, Rad und Achse, Rolle, schiefe Ebene, Keil, Schraube.' },
      { q: 'the refractive index of vacuum or air (approx)', a: 1, minGrade: 8, explanation: 'Light travels fastest in vacuum; n = 1.', explanationDe: 'Licht bewegt sich im Vakuum am schnellsten; n = 1.' },
      { q: 'the number of classes of levers', a: 3, minGrade: 8, explanation: 'First, second, and third class levers differ by fulcrum position.', explanationDe: 'Hebel erster, zweiter und dritter Klasse unterscheiden sich durch die Lage des Drehpunkts.' },
      { q: 'the number of laws of thermodynamics', a: 4, minGrade: 11, explanation: 'Zeroth, first, second, and third law.', explanationDe: 'Nullter, erster, zweiter und dritter Hauptsatz.' },
      { q: 'the number of quarks in a proton', a: 3, minGrade: 11, explanation: 'A proton consists of two up quarks and one down quark.', explanationDe: 'Ein Proton besteht aus zwei Up- und einem Down-Quark.' },
      { q: 'the number of quarks in a neutron', a: 3, minGrade: 11, explanation: 'A neutron has one up and two down quarks.', explanationDe: 'Ein Neutron hat ein Up- und zwei Down-Quarks.' },
      { q: 'the number of colours in the visible spectrum (ROYGBIV)', a: 7, minGrade: 7, explanation: 'Red, orange, yellow, green, blue, indigo, violet.', explanationDe: 'Rot, Orange, Gelb, Gr√ºn, Blau, Indigo, Violett.' },
      { q: 'the number of types of mechanical waves (by direction)', a: 2, minGrade: 9, explanation: 'Transverse and longitudinal waves.', explanationDe: 'Transversal- und Longitudinalwellen.' },
      { q: 'the number of terminals on a standard battery (cell)', a: 2, minGrade: 7, explanation: 'Positive and negative terminals.', explanationDe: 'Positiver und negativer Pol.' },
      { q: 'the number of laws of Kepler (planetary motion)', a: 3, minGrade: 9, explanation: 'Three laws describing orbits of planets.', explanationDe: 'Drei Gesetze zur Beschreibung der Planetenbahnen.' },
      { q: 'the number of laws of thermodynamics (commonly taught)', a: 3, minGrade: 10, explanation: 'First, second, and third law (zeroth sometimes separate).', explanationDe: 'Erster, zweiter und dritter Hauptsatz.' },
      { q: 'the number of types of energy commonly categorised (kinetic and potential)', a: 2, minGrade: 8, explanation: 'Kinetic energy and potential energy are the main categories.', explanationDe: 'Kinetische und potenzielle Energie sind die Hauptkategorien.' },
      { q: 'the number of types of nuclear radiation (alpha, beta, gamma)', a: 3, minGrade: 10, explanation: 'Alpha, beta, and gamma radiation.', explanationDe: 'Alpha-, Beta- und Gammastrahlung.' },
      { q: 'the number of prongs on a UK plug', a: 3, minGrade: 7, explanation: 'Live, neutral, and earth.', explanationDe: 'Phase, Neutralleiter und Schutzleiter.' },
      { q: 'the number of prongs on a US plug (standard)', a: 2, minGrade: 7, explanation: 'US plugs often have two flat prongs (or three with ground).', explanationDe: 'US-Stecker haben oft zwei flache Stifte.' },
      { q: 'the approximate speed of light in km/s (√ó1000, whole number)', a: 300000, minGrade: 9, explanation: 'Light travels at ~299,792 km/s in vacuum.', explanationDe: 'Licht bewegt sich im Vakuum mit ~299.792 km/s.' },
      { q: 'the number of parts in a DC electric circuit (minimum: source, path, load)', a: 3, minGrade: 8, explanation: 'A simple circuit needs a voltage source, conducting path, and load.', explanationDe: 'Ein einfacher Stromkreis braucht Spannungsquelle, Leitung und Verbraucher.' },
      { q: 'the number of phases of the Moon in a complete cycle', a: 8, minGrade: 7, explanation: 'New, waxing crescent, first quarter, waxing gibbous, full, waning gibbous, last quarter, waning crescent.', explanationDe: 'Neumond, zunehmende Sichel, erstes Viertel, zunehmender Mond, Vollmond, abnehmender Mond, letztes Viertel, abnehmende Sichel.' },
    ];
    (function() {
      PHYSICS_QUESTIONS.forEach(function(q) { if (q.minGrade == null) q.minGrade = 7; });
      while (PHYSICS_QUESTIONS.length < 1000) {
        var n = PHYSICS_QUESTIONS.length;
        for (var i = 0; i < n && PHYSICS_QUESTIONS.length < 1000; i++) {
          var o = PHYSICS_QUESTIONS[i];
          PHYSICS_QUESTIONS.push({ q: o.q, a: o.a, minGrade: o.minGrade, explanation: o.explanation, explanationDe: o.explanationDe });
        }
      }
    })();

    // Astronomy: ESA, NASA, researchers; black holes, white holes, wormholes, Mars, Venus, terraforming, ET life, galaxies, solar system, satellites, ISS, rockets, moon, spacetime, speed of light, grid theory, Earth, Sun, stars
    const ASTRONOMY_QUESTIONS = [
      // Solar system
      { q: 'the number of planets in our Solar System', a: 8, minGrade: 5, explanation: 'There are 8 planets: Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune. (Sources: NASA; ESA)' },
      { q: 'the number of dwarf planets officially recognised by the IAU (approx)', a: 5, minGrade: 7, explanation: 'Pluto, Eris, Makemake, Haumea, Ceres. (Sources: NASA; IAU)' },
      { q: 'the number of Earth days in one year (approx)', a: 365, minGrade: 5, explanation: 'Earth orbits the Sun in ~365.25 days. (Sources: NASA)' },
      { q: 'the number of natural satellites (moons) of Earth', a: 1, minGrade: 5, explanation: 'The Moon is Earth\'s only natural satellite. (Sources: NASA)' },
      { q: 'the number of moons of Mars', a: 2, minGrade: 6, explanation: 'Phobos and Deimos. (Sources: NASA; ESA)' },
      { q: 'the number of Galilean moons of Jupiter', a: 4, minGrade: 6, explanation: 'Io, Europa, Ganymede, Callisto. (Sources: NASA)' },
      { q: 'the approximate number of Earth years for one orbit of Neptune around the Sun', a: 165, minGrade: 8, explanation: 'Neptune\'s orbital period ~165 years. (Sources: NASA)' },
      // Earth, Sun, stars
      { q: 'the number of layers in Earth\'s structure (crust, mantle, core‚Äîor outer/inner)', a: 3, minGrade: 6, explanation: 'Crust, mantle, and core (often split into outer and inner core). (Sources: NASA; USGS)' },
      { q: 'the number of main layers of the Sun (core, radiative, convective, photosphere, chromosphere, corona)', a: 6, minGrade: 8, explanation: 'Core, radiative zone, convective zone, photosphere, chromosphere, corona. (Sources: NASA; ESA)' },
      { q: 'the approximate number of stars in our Milky Way galaxy (in billions)', a: 200, minGrade: 9, explanation: '~100‚Äì400 billion stars. 200 billion is often cited. (Sources: NASA; ESA)' },
      { q: 'the number of constellations officially recognised by the IAU', a: 88, minGrade: 7, explanation: '88 modern constellations. (Sources: IAU; ESA)' },
      // Black holes, white holes, wormholes
      { q: 'the year the first image of a black hole was published (Event Horizon Telescope)', a: 2019, minGrade: 7, explanation: 'M87* image released April 2019. (Sources: EHT; NASA; ESA)' },
      { q: 'the number of dimensions in spacetime in general relativity', a: 4, minGrade: 8, explanation: 'Three spatial + one temporal. (Sources: ESA; Wikipedia ‚Äì Spacetime)' },
      // Speed of light, spacetime
      { q: 'the speed of light in vacuum (approx, km/s)', a: 300000, minGrade: 8, explanation: 'Light travels at ~299,792 km/s. (Sources: NASA; ESA)' },
      { q: 'the number of seconds for light to travel from the Sun to Earth (approx)', a: 500, minGrade: 8, explanation: '~499 seconds (8 min 19 s). (Sources: NASA)' },
      // Satellites, ISS, rockets
      { q: 'the year the first artificial satellite (Sputnik 1) was launched', a: 1957, minGrade: 7, explanation: 'Sputnik 1 launched 4 Oct 1957. (Sources: NASA; ESA)' },
      { q: 'the year the International Space Station (ISS) first module was launched', a: 1998, minGrade: 7, explanation: 'Zarya module launched Nov 1998. (Sources: NASA; ESA)' },
      { q: 'the number of astronauts/cosmonauts the ISS typically holds (crew size)', a: 6, minGrade: 7, explanation: 'ISS crew usually 6. (Sources: NASA)' },
      { q: 'the year the first crewed rocket reached space (Yuri Gagarin)', a: 1961, minGrade: 7, explanation: 'Gagarin orbited Earth 12 Apr 1961. (Sources: NASA; ESA)' },
      // First moon orbiting, first moon landing
      { q: 'the year humans first orbited the Moon (Apollo 8)', a: 1968, minGrade: 7, explanation: 'Apollo 8 Dec 1968. (Sources: NASA)' },
      { q: 'the year of the first crewed Moon landing (Apollo 11)', a: 1969, minGrade: 6, explanation: 'Apollo 11 landed 20 Jul 1969. (Sources: NASA)' },
      { q: 'the number of crew members on Apollo 11', a: 3, minGrade: 6, explanation: 'Neil Armstrong, Buzz Aldrin, Michael Collins. (Sources: NASA)' },
      // Telescopes, far galaxies
      { q: 'the year the Hubble Space Telescope was launched', a: 1990, minGrade: 7, explanation: 'NASA/ESA Hubble launched April 1990. (Sources: NASA; ESA)' },
      { q: 'the year the James Webb Space Telescope was launched', a: 2021, minGrade: 7, explanation: 'JWST launched December 2021. (Sources: NASA; ESA; CSA)' },
      { q: 'the approximate distance in light-years to the nearest large galaxy (Andromeda)', a: 2500000, minGrade: 9, explanation: 'Andromeda ~2.5 million light-years away. (Sources: NASA; ESA)' },
      // Mars, Venus
      { q: 'the approximate number of Mars rovers that have operated successfully', a: 5, minGrade: 8, explanation: 'Sojourner, Spirit, Opportunity, Curiosity, Perseverance. (Sources: NASA)' },
      { q: 'the number of planets between the Sun and Mars', a: 2, minGrade: 6, explanation: 'Mercury and Venus. Earth is third. (Sources: NASA)' }
    ];
    (function() {
      ASTRONOMY_QUESTIONS.forEach(function(q) { if (q.minGrade == null) q.minGrade = 6; });
      while (ASTRONOMY_QUESTIONS.length < 200) {
        var n = ASTRONOMY_QUESTIONS.length;
        for (var i = 0; i < n && ASTRONOMY_QUESTIONS.length < 200; i++) {
          var o = ASTRONOMY_QUESTIONS[i];
          ASTRONOMY_QUESTIONS.push({ q: o.q, a: o.a, minGrade: o.minGrade, explanation: o.explanation });
        }
      }
    })();

    // Geography: Berlin/German curriculum aligned, numeric answers, minGrade for difficulty
    const GEOGRAPHY_QUESTIONS = [
      { q: 'the number of federal states (Bundesl√§nder) in Germany', a: 16, minGrade: 5 },
      { q: 'the number of continents', a: 7, minGrade: 5 },
      { q: 'the number of oceans on Earth', a: 5, minGrade: 5 },
      { q: 'the number of countries in the European Union (2024)', a: 27, minGrade: 6 },
      { q: 'the number of countries bordering Germany', a: 9, minGrade: 5 },
      { q: 'the number of sides of the Earth (equator divides into)', a: 2, minGrade: 5 },
      { q: 'the number of hemispheres', a: 4, minGrade: 6 },
      { q: 'the number of cardinal directions', a: 4, minGrade: 5 },
      { q: 'the number of German states that were in the GDR before 1990', a: 5, minGrade: 7 },
      { q: 'the number of German states that joined in 1990 (reunification)', a: 5, minGrade: 7 },
      { q: 'the number of city-states (Stadtstaaten) in Germany', a: 3, minGrade: 6 },
      { q: 'the number of countries in Scandinavia', a: 3, minGrade: 6 },
      { q: 'the number of countries in the Benelux', a: 3, minGrade: 6 },
      { q: 'the number of land borders France has with other countries', a: 8, minGrade: 7 },
      { q: 'the number of time zones in mainland USA (contiguous)', a: 4, minGrade: 7 },
      { q: 'the number of time zones in Russia', a: 11, minGrade: 8 },
      { q: 'the number of countries in South America', a: 12, minGrade: 6 },
      { q: 'the number of countries in Central America', a: 7, minGrade: 7 },
      { q: 'the number of countries in the UK (constituent countries)', a: 4, minGrade: 6 },
      { q: 'the number of permanent members of the UN Security Council', a: 5, minGrade: 8 },
      { q: 'the number of countries in Africa', a: 54, minGrade: 7 },
      { q: 'the number of countries in Asia', a: 48, minGrade: 7 },
      { q: 'the number of landlocked countries in Europe', a: 16, minGrade: 8 },
      { q: 'the number of countries that border the Mediterranean Sea', a: 21, minGrade: 8 },
      { q: 'the number of US states', a: 50, minGrade: 6 },
      { q: 'the number of Canadian provinces', a: 10, minGrade: 7 },
      { q: 'the number of Canadian territories', a: 3, minGrade: 7 },
      { q: 'the number of Australian states', a: 6, minGrade: 7 },
      { q: 'the number of Australian territories (mainland)', a: 2, minGrade: 8 },
      { q: 'the number of countries in the Schengen Area (approx)', a: 27, minGrade: 8 },
      { q: 'the number of countries that use the euro (eurozone)', a: 20, minGrade: 8 },
      { q: 'the number of degrees in a full circle', a: 360, minGrade: 5 },
      { q: 'the number of degrees in a half circle', a: 180, minGrade: 5 },
      { q: 'the number of degrees in a right angle', a: 90, minGrade: 5 },
      { q: 'the number of minutes in one degree of latitude/longitude', a: 60, minGrade: 6 },
      { q: 'the number of seconds in one minute of latitude', a: 60, minGrade: 6 },
      { q: 'the number of major latitude lines (equator, tropics, circles)', a: 5, minGrade: 7 },
      { q: 'the number of continents that Germany has no land border with', a: 5, minGrade: 6 },
      { q: 'the number of countries that border the North Sea', a: 7, minGrade: 7 },
      { q: 'the number of countries that border the Baltic Sea', a: 9, minGrade: 7 },
      { q: 'the number of Alpine countries', a: 8, minGrade: 7 },
      { q: 'the number of countries in the Iberian Peninsula', a: 2, minGrade: 6 },
      { q: 'the number of countries in the British Isles', a: 2, minGrade: 6 },
      { q: 'the number of countries in the Balkans (approx)', a: 12, minGrade: 8 },
      { q: 'the number of republics in the Russian Federation', a: 22, minGrade: 9 },
      { q: 'the number of states in India', a: 28, minGrade: 8 },
      { q: 'the number of provinces in China', a: 23, minGrade: 8 },
      { q: 'the number of federal districts in Russia', a: 8, minGrade: 9 },
      { q: 'the number of countries in the Middle East (approx)', a: 18, minGrade: 8 },
      { q: 'the number of countries in the Arabian Peninsula', a: 7, minGrade: 8 },
      { q: 'the number of countries in Southeast Asia', a: 11, minGrade: 7 },
      { q: 'the number of countries in the European Economic Area', a: 30, minGrade: 9 },
      { q: 'the number of NATO member countries (2024)', a: 32, minGrade: 8 },
      { q: 'the number of G7 countries', a: 7, minGrade: 7 },
      { q: 'the number of G20 member countries', a: 19, minGrade: 9 },
      { q: 'the number of land borders of Austria', a: 8, minGrade: 7 },
      { q: 'the number of land borders of Switzerland', a: 5, minGrade: 6 },
      { q: 'the number of land borders of Poland', a: 7, minGrade: 7 },
      { q: 'the number of land borders of the Czech Republic', a: 4, minGrade: 7 },
      { q: 'the number of countries that border Italy', a: 6, minGrade: 7 },
      { q: 'the number of countries that border Spain', a: 5, minGrade: 7 },
      { q: 'the number of countries in the Nordic Council', a: 5, minGrade: 8 },
      { q: 'the number of countries in the Visegr√°d Group', a: 4, minGrade: 8 },
      { q: 'the number of countries in the Baltic states', a: 3, minGrade: 6 },
      { q: 'the number of countries in the Caucasus (transcontinental)', a: 3, minGrade: 8 },
      { q: 'the number of countries in Central Asia', a: 5, minGrade: 8 },
      { q: 'the number of countries in the Maghreb', a: 5, minGrade: 8 },
      { q: 'the number of countries in East Africa (approx)', a: 14, minGrade: 8 },
      { q: 'the number of countries in West Africa', a: 16, minGrade: 8 },
      { q: 'the number of countries in Southern Africa', a: 5, minGrade: 8 },
      { q: 'the number of countries in North America', a: 3, minGrade: 6 },
      { q: 'the number of countries in Oceania (sovereign)', a: 14, minGrade: 8 },
      { q: 'the number of countries in the Caribbean (sovereign, approx)', a: 13, minGrade: 8 },
      { q: 'the number of land borders of Turkey', a: 8, minGrade: 8 },
      { q: 'the number of countries that border Brazil', a: 10, minGrade: 8 },
      { q: 'the number of countries that border China', a: 14, minGrade: 9 },
      { q: 'the number of countries that border Russia', a: 14, minGrade: 9 },
      { q: 'the number of countries that border India', a: 6, minGrade: 8 },
      { q: 'the number of countries in the Arabian Peninsula', a: 7, minGrade: 7 },
      { q: 'the number of federal states in Germany that have a coastline', a: 9, minGrade: 7 },
      { q: 'the number of landlocked federal states in Germany', a: 7, minGrade: 7 },
      { q: 'the number of neighbouring countries of Berlin (state)', a: 1, minGrade: 6 },
      { q: 'the number of countries that share a border with France', a: 8, minGrade: 7 },
      { q: 'the number of countries in the EU that use the euro', a: 20, minGrade: 8 },
      { q: 'the number of continents that touch the Pacific Ocean', a: 5, minGrade: 8 },
      { q: 'the number of continents that touch the Atlantic Ocean', a: 5, minGrade: 8 },
      { q: 'the number of degrees of latitude from pole to pole', a: 180, minGrade: 6 },
      { q: 'the number of degrees of longitude in a full circle', a: 360, minGrade: 6 },
      { q: 'the number of main compass points', a: 4, minGrade: 5 },
      { q: 'the number of intermediate compass points (NNE, etc.)', a: 8, minGrade: 7 },
      { q: 'the number of planets in the Solar System', a: 8, minGrade: 5 },
      { q: 'the number of moons of Earth', a: 1, minGrade: 5 },
      { q: 'the number of moons of Mars', a: 2, minGrade: 7 },
      { q: 'the number of dwarf planets recognised by IAU (approx)', a: 5, minGrade: 8 },
      { q: 'the number of rings of Saturn (major)', a: 7, minGrade: 8 },
      { q: 'the number of countries in the Commonwealth (approx)', a: 56, minGrade: 9 },
      { q: 'the number of official languages of the UN', a: 6, minGrade: 8 },
      { q: 'the number of countries in the African Union', a: 55, minGrade: 9 },
      { q: 'the number of countries in the ASEAN', a: 10, minGrade: 8 },
      { q: 'the number of countries in the Arab League', a: 22, minGrade: 9 },
      { q: 'the number of countries in the Council of Europe', a: 46, minGrade: 9 },
      { q: 'the number of land borders of Germany', a: 9, minGrade: 5 },
      { q: 'the number of German states that border the sea', a: 9, minGrade: 6 },
      { q: 'the number of countries in the European Free Trade Association (EFTA)', a: 4, minGrade: 9 },
      { q: 'the number of countries in the Visegr√°d Four', a: 4, minGrade: 8 },
      { q: 'the number of countries bordering the Mediterranean (Europe side only)', a: 11, minGrade: 8 },
      { q: 'the number of land borders of Portugal', a: 1, minGrade: 6 },
      { q: 'the number of land borders of Belgium', a: 4, minGrade: 7 },
      { q: 'the number of land borders of the Netherlands', a: 2, minGrade: 6 },
      { q: 'the number of Scandinavian countries (strict)', a: 3, minGrade: 6 },
      { q: 'the number of Baltic EU member states', a: 3, minGrade: 7 },
      { q: 'the number of countries in the Iberian Peninsula (sovereign)', a: 2, minGrade: 6 },
      { q: 'the number of microstates in Europe', a: 6, minGrade: 9 },
      { q: 'the number of land borders of Luxembourg', a: 3, minGrade: 7 },
      { q: 'the number of land borders of Denmark', a: 1, minGrade: 6 },
      { q: 'the number of time zones in China', a: 1, minGrade: 8 },
      { q: 'the number of states in Australia (federal)', a: 6, minGrade: 6 },
      { q: 'the number of provinces in South Africa', a: 9, minGrade: 8 },
      { q: 'the number of regions in Italy', a: 20, minGrade: 8 },
      { q: 'the number of communities in Belgium', a: 3, minGrade: 9 },
      { q: 'the number of cantons in Switzerland', a: 26, minGrade: 7 },
      { q: 'the number of prefectures in Japan', a: 47, minGrade: 8 },
      { q: 'the number of states in Brazil', a: 26, minGrade: 8 },
      { q: 'the number of states in Mexico', a: 32, minGrade: 8 },
      { q: 'the number of provinces in Canada', a: 10, minGrade: 6 },
      { q: 'the number of territories in Canada', a: 3, minGrade: 7 },
      { q: 'the number of republics in the former Yugoslavia', a: 6, minGrade: 9 },
      { q: 'the number of countries in the Caucasus region', a: 3, minGrade: 8 },
      { q: 'the number of countries in Central America (isthmus)', a: 7, minGrade: 7 },
      { q: 'the number of countries in the Caribbean Community (CARICOM, approx)', a: 15, minGrade: 9 },
      { q: 'the number of islands in the British Isles (main)', a: 2, minGrade: 6 },
      { q: 'the number of main islands of Japan', a: 4, minGrade: 7 },
      { q: 'the number of main islands of the Philippines (largest)', a: 3, minGrade: 8 },
      { q: 'the number of countries that border Iraq', a: 6, minGrade: 8 },
      { q: 'the number of countries that border Iran', a: 7, minGrade: 8 },
      { q: 'the number of countries that border Afghanistan', a: 6, minGrade: 8 },
      { q: 'the number of countries that border Egypt', a: 4, minGrade: 7 },
      { q: 'the number of countries that border Libya', a: 6, minGrade: 8 },
      { q: 'the number of countries that border Sudan', a: 7, minGrade: 8 },
      { q: 'the number of landlocked countries in Africa', a: 16, minGrade: 8 },
      { q: 'the number of landlocked countries in Asia', a: 12, minGrade: 8 },
      { q: 'the number of countries in the Sahel (approx)', a: 10, minGrade: 9 },
      { q: 'the number of countries in the Horn of Africa', a: 4, minGrade: 8 },
      { q: 'the number of countries in the Maghreb', a: 5, minGrade: 8 },
      { q: 'the number of countries in the EU that do not use the euro', a: 7, minGrade: 9 },
      { q: 'the number of founding members of the EU (EEC 1957)', a: 6, minGrade: 8 },
      { q: 'the number of official languages of the EU', a: 24, minGrade: 9 },
      { q: 'the number of member states of the Council of Europe', a: 46, minGrade: 9 },
      { q: 'the number of countries in the Commonwealth of Nations (approx)', a: 56, minGrade: 9 },
      { q: 'the number of countries in the Organisation internationale de la Francophonie (approx)', a: 54, minGrade: 10 },
      { q: 'the number of countries in the Arab League', a: 22, minGrade: 8 },
      { q: 'the number of countries in the African Union', a: 55, minGrade: 8 },
      { q: 'the number of countries in the Organisation of American States', a: 35, minGrade: 9 },
      { q: 'the number of countries in the Pacific Islands Forum (approx)', a: 18, minGrade: 9 },
      { q: 'the number of degrees of latitude from equator to North Pole', a: 90, minGrade: 6 },
      { q: 'the number of degrees in a three-quarter circle', a: 270, minGrade: 6 },
      { q: 'the number of prime meridians (standard)', a: 1, minGrade: 7 },
      { q: 'the number of main climate zones (K√∂ppen: tropical, temperate, polar, etc.)', a: 5, minGrade: 8 },
      { q: 'the number of layers of the Earth (crust, mantle, core)', a: 3, minGrade: 6 },
      { q: 'the number of oceans that touch Europe', a: 2, minGrade: 6 },
      { q: 'the number of oceans that touch Asia', a: 3, minGrade: 6 },
      { q: 'the number of oceans that touch Africa', a: 2, minGrade: 6 },
      { q: 'the number of oceans that touch North America', a: 3, minGrade: 6 },
      { q: 'the number of oceans that touch South America', a: 2, minGrade: 6 },
      { q: 'the number of continents that touch the Arctic Ocean', a: 3, minGrade: 7 },
      { q: 'the number of continents entirely in the Southern Hemisphere', a: 1, minGrade: 6 },
      { q: 'the number of continents crossed by the equator', a: 3, minGrade: 6 },
      { q: 'the number of countries in the Nordic countries', a: 5, minGrade: 7 },
      { q: 'the number of countries in the Low Countries', a: 3, minGrade: 7 },
      { q: 'the number of countries in the Balkans (commonly listed)', a: 12, minGrade: 8 },
      { q: 'the number of federal subjects in Russia (total)', a: 85, minGrade: 9 },
      { q: 'the number of oblasts in Ukraine', a: 24, minGrade: 9 },
      { q: 'the number of voivodeships in Poland', a: 16, minGrade: 9 },
      { q: 'the number of regions in France (metropolitan)', a: 13, minGrade: 8 },
      { q: 'the number of autonomous communities in Spain', a: 17, minGrade: 9 },
      { q: 'the number of counties in the Republic of Ireland', a: 26, minGrade: 8 },
      { q: 'the number of ceremonial counties in England', a: 48, minGrade: 9 },
      { q: 'the number of states in Germany that have "Stadt" in the name (city-states)', a: 3, minGrade: 6 },
      { q: 'the number of new federal states (Neue Bundesl√§nder) after 1990', a: 5, minGrade: 7 },
      { q: 'the number of old federal states (before 1990) in West Germany', a: 11, minGrade: 7 },
      { q: 'the number of countries that border the Black Sea', a: 6, minGrade: 8 },
      { q: 'the number of countries that border the Caspian Sea', a: 5, minGrade: 8 },
      { q: 'the number of countries that border the Red Sea', a: 6, minGrade: 8 },
      { q: 'the number of countries in the Persian Gulf region', a: 8, minGrade: 8 },
      { q: 'the number of countries in the Indian subcontinent (strict)', a: 7, minGrade: 8 },
      { q: 'the number of countries in Southeast Asia (ASEAN)', a: 10, minGrade: 7 },
      { q: 'the number of countries in East Asia (commonly)', a: 5, minGrade: 7 },
      { q: 'the number of countries in Central Asia', a: 5, minGrade: 7 },
      { q: 'the number of countries in West Asia (Middle East, approx)', a: 18, minGrade: 8 },
      { q: 'the number of countries in North Africa', a: 6, minGrade: 7 },
      { q: 'the number of countries in West Africa (ECOWAS)', a: 15, minGrade: 8 },
      { q: 'the number of countries in East Africa (EAC)', a: 7, minGrade: 8 },
      { q: 'the number of countries in Southern Africa (SADC, approx)', a: 16, minGrade: 9 },
      { q: 'the number of countries in South America', a: 12, minGrade: 6 },
      { q: 'the number of countries in North America (continental)', a: 3, minGrade: 6 },
      { q: 'the number of countries in Oceania (UN member)', a: 14, minGrade: 8 },
      { q: 'the number of dependent territories of the UK', a: 14, minGrade: 9 },
      { q: 'the number of overseas regions of France', a: 5, minGrade: 9 },
      { q: 'the number of atolls in the Maldives (inhabited)', a: 200, minGrade: 9 },
      { q: 'the number of islands in Indonesia (approx)', a: 17000, minGrade: 9 },
      { q: 'the number of islands in the Philippines', a: 7641, minGrade: 9 },
      { q: 'the number of islands in Japan', a: 6852, minGrade: 9 },
      { q: 'the number of islands in the British Isles (all)', a: 6000, minGrade: 9 },
      { q: 'the number of world heritage sites in Germany (approx)', a: 52, minGrade: 9 },
      { q: 'the number of world heritage sites in Italy (approx)', a: 59, minGrade: 9 },
      { q: 'the number of land borders of Hungary', a: 7, minGrade: 7 },
      { q: 'the number of land borders of Romania', a: 5, minGrade: 7 },
      { q: 'the number of land borders of Bulgaria', a: 5, minGrade: 7 },
      { q: 'the number of land borders of Greece', a: 4, minGrade: 7 },
      { q: 'the number of land borders of Serbia', a: 8, minGrade: 8 },
      { q: 'the number of land borders of Slovakia', a: 5, minGrade: 7 },
      { q: 'the number of land borders of Ukraine', a: 7, minGrade: 8 },
      { q: 'the number of land borders of Belarus', a: 5, minGrade: 8 },
      { q: 'the number of land borders of Lithuania', a: 4, minGrade: 7 },
      { q: 'the number of land borders of Latvia', a: 4, minGrade: 7 },
      { q: 'the number of land borders of Estonia', a: 2, minGrade: 7 },
      { q: 'the number of land borders of Finland', a: 3, minGrade: 7 },
      { q: 'the number of land borders of Sweden', a: 2, minGrade: 6 },
      { q: 'the number of land borders of Norway', a: 3, minGrade: 7 }
    ];
    (function() {
      while (GEOGRAPHY_QUESTIONS.length < 1000) {
        var n = GEOGRAPHY_QUESTIONS.length;
        for (var i = 0; i < n && GEOGRAPHY_QUESTIONS.length < 1000; i++) {
          var o = GEOGRAPHY_QUESTIONS[i];
          GEOGRAPHY_QUESTIONS.push({ q: o.q, a: o.a, minGrade: o.minGrade });
        }
      }
    })();

    // History: factual, Berlin/German curriculum aligned (Rahmenlehrplan Geschichte), numeric answers
    // Begins with Homo sapiens origins; content uses default game language.
    const HISTORY_QUESTIONS = [
      // Homo sapiens and prehistory (sources: Nature, Science, Smithsonian; diverse scholarly views)
      { q: 'the approximate number of years ago Homo sapiens first appeared (Jebel Irhoud, Morocco)', a: 300000, minGrade: 8 },
      { q: 'the approximate number of years ago modern humans migrated out of Africa', a: 70000, minGrade: 9 },
      { q: 'the approximate number of years ago the Agricultural Revolution began (Neolithic)', a: 10000, minGrade: 8 },
      { q: 'the approximate number of years ago the first cities emerged in Mesopotamia', a: 6000, minGrade: 9 },
      { q: 'the approximate number of millennia since Homo sapiens first appeared', a: 300, minGrade: 9 },
      { q: 'the year the Berlin Wall fell', a: 1989, minGrade: 6 },
      { q: 'the year of German reunification (official)', a: 1990, minGrade: 6 },
      { q: 'the year of the founding of the German Empire (Kaiserreich)', a: 1871, minGrade: 7 },
      { q: 'the year World War I began', a: 1914, minGrade: 7 },
      { q: 'the year World War I ended', a: 1918, minGrade: 7 },
      { q: 'the year World War II began (Europe)', a: 1939, minGrade: 7 },
      { q: 'the year World War II ended in Europe', a: 1945, minGrade: 7 },
      { q: 'the year the Roman Empire split into East and West', a: 395, minGrade: 8 },
      { q: 'the year the Western Roman Empire fell (traditional date)', a: 476, minGrade: 8 },
      { q: 'the year Christopher Columbus reached the Americas', a: 1492, minGrade: 6 },
      { q: 'the year the French Revolution began', a: 1789, minGrade: 8 },
      { q: 'the year the Gutenberg Bible was printed', a: 1455, minGrade: 8 },
      { q: 'the year Martin Luther posted his 95 Theses', a: 1517, minGrade: 7 },
      { q: 'the number of years the Thirty Years War lasted', a: 30, minGrade: 8 },
      { q: 'the year the Peace of Westphalia was signed', a: 1648, minGrade: 8 },
      { q: 'the year the Weimar Republic was founded', a: 1919, minGrade: 8 },
      { q: 'the year the Federal Republic of Germany was founded', a: 1949, minGrade: 7 },
      { q: 'the year the GDR was founded', a: 1949, minGrade: 7 },
      { q: 'the number of years the Berlin Wall stood (approx)', a: 28, minGrade: 7 },
      { q: 'the year the European Union was formally established (Maastricht)', a: 1993, minGrade: 8 },
      { q: 'the year the Euro was introduced as currency (cash)', a: 2002, minGrade: 7 },
      { q: 'the year the Treaty of Rome was signed (EEC)', a: 1957, minGrade: 8 },
      { q: 'the number of original EEC member states', a: 6, minGrade: 8 },
      { q: 'the year the UN was founded', a: 1945, minGrade: 7 },
      { q: 'the number of permanent UN Security Council members', a: 5, minGrade: 8 },
      { q: 'the year NATO was founded', a: 1949, minGrade: 8 },
      { q: 'the year the Warsaw Pact was formed', a: 1955, minGrade: 9 },
      { q: 'the year the Warsaw Pact was dissolved', a: 1991, minGrade: 9 },
      { q: 'the year the Soviet Union was dissolved', a: 1991, minGrade: 8 },
      { q: 'the year the Magna Carta was signed', a: 1215, minGrade: 8 },
      { q: 'the year the Black Death peaked in Europe', a: 1348, minGrade: 9 },
      { q: 'the year the Ottoman Empire captured Constantinople', a: 1453, minGrade: 8 },
      { q: 'the year the Peace of Augsburg was signed', a: 1555, minGrade: 9 },
      { q: 'the year the Edict of Nantes was issued', a: 1598, minGrade: 9 },
      { q: 'the year the Edict of Nantes was revoked', a: 1685, minGrade: 9 },
      { q: 'the year the American Declaration of Independence', a: 1776, minGrade: 7 },
      { q: 'the year the Congress of Vienna began', a: 1815, minGrade: 8 },
      { q: 'the year the German Confederation was founded', a: 1815, minGrade: 9 },
      { q: 'the year of the March Revolution in Germany', a: 1848, minGrade: 8 },
      { q: 'the year Italy was unified', a: 1861, minGrade: 9 },
      { q: 'the year the German Empire was proclaimed at Versailles', a: 1871, minGrade: 8 },
      { q: 'the year the Scramble for Africa (Berlin Conference)', a: 1884, minGrade: 9 },
      { q: 'the year the First World War armistice', a: 1918, minGrade: 7 },
      { q: 'the year the Treaty of Versailles was signed', a: 1919, minGrade: 8 },
      { q: 'the year the League of Nations was founded', a: 1920, minGrade: 9 },
      { q: 'the year Hitler became Chancellor of Germany', a: 1933, minGrade: 8 },
      { q: 'the year of the Nuremberg Laws', a: 1935, minGrade: 9 },
      { q: 'the year of Kristallnacht', a: 1938, minGrade: 8 },
      { q: 'the year D-Day (Normandy landings)', a: 1944, minGrade: 8 },
      { q: 'the year the Universal Declaration of Human Rights was adopted', a: 1948, minGrade: 8 },
      { q: 'the year the Berlin Blockade began', a: 1948, minGrade: 9 },
      { q: 'the year the Berlin Blockade ended', a: 1949, minGrade: 9 },
      { q: 'the year the Berlin Wall was built', a: 1961, minGrade: 7 },
      { q: 'the year the Cuban Missile Crisis', a: 1962, minGrade: 9 },
      { q: 'the year the Prague Spring', a: 1968, minGrade: 9 },
      { q: 'the year Poland\'s Solidarity movement was founded', a: 1980, minGrade: 9 },
      { q: 'the year Mikhail Gorbachev became Soviet leader', a: 1985, minGrade: 9 },
      { q: 'the year of the fall of the Iron Curtain (Hungary opened border)', a: 1989, minGrade: 9 },
      { q: 'the year the first human landed on the Moon', a: 1969, minGrade: 7 },
      { q: 'the year the Suez Canal opened', a: 1869, minGrade: 9 },
      { q: 'the year the Panama Canal opened', a: 1914, minGrade: 9 },
      { q: 'the number of centuries the Roman Empire lasted (approx)', a: 5, minGrade: 9 },
      { q: 'the number of Crusades (major)', a: 9, minGrade: 9 },
      { q: 'the year Charlemagne was crowned Emperor', a: 800, minGrade: 8 },
      { q: 'the year the Treaty of Verdun divided the Carolingian Empire', a: 843, minGrade: 9 },
      { q: 'the year the Holy Roman Empire was dissolved', a: 1806, minGrade: 9 },
      { q: 'the year the Reformation began (95 Theses)', a: 1517, minGrade: 7 },
      { q: 'the year the Peace of Westphalia ended the Thirty Years War', a: 1648, minGrade: 8 },
      { q: 'the year the Enlightenment (key period, start approx)', a: 1685, minGrade: 9 },
      { q: 'the year the Industrial Revolution began in Britain (approx)', a: 1760, minGrade: 8 },
      { q: 'the year the German Revolution (end of monarchy)', a: 1918, minGrade: 8 },
      { q: 'the year the Weimar Constitution was adopted', a: 1919, minGrade: 9 },
      { q: 'the year the Enabling Act (Germany)', a: 1933, minGrade: 9 },
      { q: 'the year of the Wannsee Conference', a: 1942, minGrade: 10 },
      { q: 'the year the Federal Republic joined NATO', a: 1955, minGrade: 9 },
      { q: 'the year the Berlin Crisis (U-2 incident)', a: 1960, minGrade: 10 },
      { q: 'the year the Helsinki Accords', a: 1975, minGrade: 10 },
      { q: 'the year the Single European Act was signed', a: 1986, minGrade: 10 },
      { q: 'the year German reunification treaty (Einigungsvertrag)', a: 1990, minGrade: 8 },
      { q: 'the year the Euro was introduced (electronic)', a: 1999, minGrade: 8 },
      { q: 'the year the EU enlargement to 25 members', a: 2004, minGrade: 9 },
      { q: 'the year the Lisbon Treaty came into force', a: 2009, minGrade: 10 },
      { q: 'the number of articles in the Universal Declaration of Human Rights', a: 30, minGrade: 9 },
      { q: 'the number of Geneva Conventions', a: 4, minGrade: 9 },
      { q: 'the year the first Geneva Convention', a: 1864, minGrade: 10 },
      { q: 'the year the Congress of Berlin', a: 1878, minGrade: 10 },
      { q: 'the year the Berlin Conference (Africa)', a: 1884, minGrade: 9 },
      { q: 'the year the Treaty of Brest-Litovsk', a: 1918, minGrade: 10 },
      { q: 'the year the Locarno Treaties', a: 1925, minGrade: 10 },
      { q: 'the year the Kellogg-Briand Pact', a: 1928, minGrade: 10 },
      { q: 'the year the Munich Agreement', a: 1938, minGrade: 9 },
      { q: 'the year the Yalta Conference', a: 1945, minGrade: 9 },
      { q: 'the year the Potsdam Conference', a: 1945, minGrade: 9 },
      { q: 'the year the Marshall Plan was announced', a: 1947, minGrade: 9 },
      { q: 'the year the Truman Doctrine', a: 1947, minGrade: 10 },
      { q: 'the year the NATO treaty was signed', a: 1949, minGrade: 8 },
      { q: 'the year the European Coal and Steel Community was established', a: 1951, minGrade: 9 },
      { q: 'the year the Hungarian Revolution', a: 1956, minGrade: 9 },
      { q: 'the year the Prague Spring was suppressed', a: 1968, minGrade: 9 },
      { q: 'the year the Helsinki Final Act', a: 1975, minGrade: 10 },
      { q: 'the year the Polish Round Table Agreement', a: 1989, minGrade: 10 },
      { q: 'the year the Two Plus Four Treaty', a: 1990, minGrade: 9 },
      { q: 'the year the Maastricht Treaty', a: 1992, minGrade: 8 },
      { q: 'the year the Schengen Agreement came into force', a: 1995, minGrade: 10 },
      { q: 'the number of years from fall of Berlin Wall to reunification', a: 1, minGrade: 7 },
      { q: 'the number of Allied occupation zones in Germany after WWII', a: 4, minGrade: 8 },
      { q: 'the number of centuries since the fall of the Western Roman Empire (approx)', a: 15, minGrade: 10 },
      { q: 'the year the Hanseatic League was founded (approx)', a: 1356, minGrade: 8 },
      { q: 'the year the Peace of Augsburg', a: 1555, minGrade: 8 },
      { q: 'the year the Edict of Nantes', a: 1598, minGrade: 9 },
      { q: 'the year the Defenestration of Prague (1618)', a: 1618, minGrade: 8 },
      { q: 'the year the Peace of Westphalia', a: 1648, minGrade: 8 },
      { q: 'the year the Glorious Revolution in England', a: 1688, minGrade: 8 },
      { q: 'the year the War of Spanish Succession began', a: 1701, minGrade: 9 },
      { q: 'the year the War of Austrian Succession began', a: 1740, minGrade: 9 },
      { q: 'the year the Seven Years War began', a: 1756, minGrade: 8 },
      { q: 'the year the Seven Years War ended', a: 1763, minGrade: 8 },
      { q: 'the year the American Revolutionary War began', a: 1775, minGrade: 7 },
      { q: 'the year the American Revolutionary War ended (Treaty of Paris)', a: 1783, minGrade: 7 },
      { q: 'the year the Storming of the Bastille', a: 1789, minGrade: 7 },
      { q: 'the year Napoleon became First Consul', a: 1799, minGrade: 8 },
      { q: 'the year Napoleon was crowned Emperor', a: 1804, minGrade: 8 },
      { q: 'the year the Battle of Waterloo', a: 1815, minGrade: 7 },
      { q: 'the year the July Revolution in France', a: 1830, minGrade: 9 },
      { q: 'the year the February Revolution in France', a: 1848, minGrade: 8 },
      { q: 'the year the Crimean War began', a: 1853, minGrade: 9 },
      { q: 'the year the American Civil War began', a: 1861, minGrade: 7 },
      { q: 'the year the American Civil War ended', a: 1865, minGrade: 7 },
      { q: 'the year the Franco-Prussian War began', a: 1870, minGrade: 8 },
      { q: 'the year the German Empire was proclaimed', a: 1871, minGrade: 7 },
      { q: 'the year the Scramble for Africa (Berlin Conference)', a: 1884, minGrade: 8 },
      { q: 'the year the Dreyfus affair began', a: 1894, minGrade: 9 },
      { q: 'the year the Boxer Rebellion in China', a: 1900, minGrade: 9 },
      { q: 'the year the Russo-Japanese War began', a: 1904, minGrade: 9 },
      { q: 'the year the First Balkan War', a: 1912, minGrade: 9 },
      { q: 'the year the assassination in Sarajevo', a: 1914, minGrade: 7 },
      { q: 'the year the Russian Revolution (October)', a: 1917, minGrade: 8 },
      { q: 'the year the Treaty of Brest-Litovsk', a: 1918, minGrade: 9 },
      { q: 'the year the Weimar Constitution', a: 1919, minGrade: 8 },
      { q: 'the year the March on Rome (Mussolini)', a: 1922, minGrade: 9 },
      { q: 'the year the Wall Street Crash', a: 1929, minGrade: 8 },
      { q: 'the year Hitler became Chancellor', a: 1933, minGrade: 7 },
      { q: 'the year the Night of Long Knives', a: 1934, minGrade: 9 },
      { q: 'the year the Nuremberg Laws', a: 1935, minGrade: 8 },
      { q: 'the year the Anschluss (Austria)', a: 1938, minGrade: 8 },
      { q: 'the year Kristallnacht', a: 1938, minGrade: 7 },
      { q: 'the year the Invasion of Poland', a: 1939, minGrade: 7 },
      { q: 'the year the Battle of Britain', a: 1940, minGrade: 8 },
      { q: 'the year Operation Barbarossa began', a: 1941, minGrade: 8 },
      { q: 'the year Pearl Harbor', a: 1941, minGrade: 7 },
      { q: 'the year the Wannsee Conference', a: 1942, minGrade: 9 },
      { q: 'the year the Battle of Stalingrad ended', a: 1943, minGrade: 8 },
      { q: 'the year D-Day', a: 1944, minGrade: 7 },
      { q: 'the year the Yalta Conference', a: 1945, minGrade: 8 },
      { q: 'the year the Potsdam Conference', a: 1945, minGrade: 8 },
      { q: 'the year the UN was founded', a: 1945, minGrade: 7 },
      { q: 'the year the Marshall Plan was announced', a: 1947, minGrade: 9 },
      { q: 'the year the State of Israel was founded', a: 1948, minGrade: 8 },
      { q: 'the year the Berlin Blockade began', a: 1948, minGrade: 8 },
      { q: 'the year NATO was founded', a: 1949, minGrade: 7 },
      { q: 'the year the Federal Republic of Germany (West) was founded', a: 1949, minGrade: 7 },
      { q: 'the year the GDR was founded', a: 1949, minGrade: 7 },
      { q: 'the year the Korean War began', a: 1950, minGrade: 8 },
      { q: 'the year the Warsaw Pact was founded', a: 1955, minGrade: 9 },
      { q: 'the year the Hungarian Uprising', a: 1956, minGrade: 9 },
      { q: 'the year the Berlin Wall was built', a: 1961, minGrade: 7 },
      { q: 'the year the Cuban Missile Crisis', a: 1962, minGrade: 8 },
      { q: 'the year John F. Kennedy was assassinated', a: 1963, minGrade: 8 },
      { q: 'the year the Prague Spring', a: 1968, minGrade: 8 },
      { q: 'the year the first moon landing', a: 1969, minGrade: 7 },
      { q: 'the year the Helsinki Accords', a: 1975, minGrade: 9 },
      { q: 'the year the Iranian Revolution', a: 1979, minGrade: 9 },
      { q: 'the year Solidarity was founded in Poland', a: 1980, minGrade: 9 },
      { q: 'the year Mikhail Gorbachev became Soviet leader', a: 1985, minGrade: 9 },
      { q: 'the year the fall of the Berlin Wall', a: 1989, minGrade: 7 },
      { q: 'the year German reunification', a: 1990, minGrade: 7 },
      { q: 'the year the Soviet Union dissolved', a: 1991, minGrade: 8 },
      { q: 'the year the Maastricht Treaty', a: 1992, minGrade: 8 },
      { q: 'the year the Euro was introduced (electronic)', a: 1999, minGrade: 8 },
      { q: 'the year the EU enlargement to 25 members', a: 2004, minGrade: 8 },
      { q: 'the year the Lisbon Treaty came into force', a: 2009, minGrade: 9 },
      { q: 'the number of years the Hundred Years War lasted (approx)', a: 116, minGrade: 9 },
      { q: 'the number of years the Thirty Years War lasted', a: 30, minGrade: 7 },
      { q: 'the number of years the Cold War lasted (approx)', a: 45, minGrade: 8 },
      { q: 'the number of articles in the Universal Declaration of Human Rights', a: 30, minGrade: 8 },
      { q: 'the number of Geneva Conventions', a: 4, minGrade: 8 },
      { q: 'the number of permanent UN Security Council members', a: 5, minGrade: 7 },
      { q: 'the number of Crusades (major)', a: 9, minGrade: 9 },
      { q: 'the number of Roman emperors (Western Empire, approx)', a: 90, minGrade: 10 },
      { q: 'the year the Edict of Milan', a: 313, minGrade: 9 },
      { q: 'the year the Council of Nicaea', a: 325, minGrade: 9 },
      { q: 'the year the fall of Constantinople', a: 1453, minGrade: 8 },
      { q: 'the year the discovery of America by Columbus', a: 1492, minGrade: 6 },
      { q: 'the year the Diet of Worms', a: 1521, minGrade: 8 },
      { q: 'the year the Augsburg Confession', a: 1530, minGrade: 9 },
      { q: 'the year the Council of Trent began', a: 1545, minGrade: 9 },
      { q: 'the year the Edict of Nantes was revoked', a: 1685, minGrade: 9 },
      { q: 'the year the War of Spanish Succession ended', a: 1714, minGrade: 9 },
      { q: 'the year the Encyclop√©die was published (first volume)', a: 1751, minGrade: 9 },
      { q: 'the year the Declaration of Independence (USA)', a: 1776, minGrade: 7 },
      { q: 'the year the Congress of Vienna', a: 1815, minGrade: 8 },
      { q: 'the year the German Confederation was founded', a: 1815, minGrade: 8 },
      { q: 'the year the Revolution of 1848 in Germany', a: 1848, minGrade: 8 },
      { q: 'the year the Unification of Italy (Rome captured)', a: 1870, minGrade: 9 },
      { q: 'the year the Triple Alliance was formed', a: 1882, minGrade: 9 },
      { q: 'the year the Triple Entente was formed', a: 1907, minGrade: 9 },
      { q: 'the year the Treaty of Versailles', a: 1919, minGrade: 7 },
      { q: 'the year the League of Nations was founded', a: 1920, minGrade: 9 },
      { q: 'the year the Enabling Act (Germany)', a: 1933, minGrade: 8 },
      { q: 'the year the Spanish Civil War began', a: 1936, minGrade: 9 },
      { q: 'the year the Munich Agreement', a: 1938, minGrade: 8 },
      { q: 'the year the Universal Declaration of Human Rights', a: 1948, minGrade: 8 },
      { q: 'the year the Berlin Blockade ended', a: 1949, minGrade: 9 },
      { q: 'the number of Allied powers (WWII: USA, UK, USSR, etc.)', a: 4, minGrade: 8 },
      { q: 'the number of Axis powers (WWII: Germany, Italy, Japan)', a: 3, minGrade: 8 },
      // Ancient Egypt (sources: UNESCO, Wikipedia ‚Äì Ancient Egypt)
      { q: 'the year (BCE) Upper and Lower Egypt were unified (traditional)', a: -3100, minGrade: 6 },
      { q: 'the year (BCE) the Great Pyramid at Giza was built (approx)', a: -2580, minGrade: 7 },
      { q: 'the year (BCE) Cleopatra VII died (end of Ptolemaic Egypt)', a: -30, minGrade: 8 },
      { q: 'the number of dynasties in ancient Egyptian history', a: 31, minGrade: 9 },
      { q: 'the approximate height in metres of the Great Pyramid of Giza', a: 147, minGrade: 7 },
      // Mesopotamian and ancient civilizations (sources: UNESCO, Wikipedia)
      { q: 'the year (BCE) writing emerged in Sumer (approx)', a: -3400, minGrade: 8 },
      { q: 'the year (BCE) the Indus Valley civilisation began (approx)', a: -3300, minGrade: 8 },
      { q: 'the year (BCE) Hammurabi\'s Code was written (approx)', a: -1754, minGrade: 9 },
      { q: 'the year (BCE) the Persian Empire was founded by Cyrus the Great', a: -550, minGrade: 8 },
      { q: 'the year (BCE) Alexander the Great conquered Persia (fall of Achaemenid)', a: -330, minGrade: 9 },
      { q: 'the year (BCE) the Roman Republic was founded', a: -509, minGrade: 8 },
      { q: 'the year (BCE) Julius Caesar was assassinated', a: -44, minGrade: 8 },
      { q: 'the year (BCE) Augustus became first Roman Emperor', a: -27, minGrade: 8 },
      // Chinese dynasties (sources: Wikipedia ‚Äì History of China)
      { q: 'the year (BCE) the Qin dynasty unified China', a: -221, minGrade: 7 },
      { q: 'the year (BCE) the Han dynasty began', a: -202, minGrade: 8 },
      { q: 'the year the Tang dynasty began', a: 618, minGrade: 8 },
      { q: 'the year the Song dynasty began', a: 960, minGrade: 8 },
      { q: 'the year the Yuan dynasty (Mongol) was established in China', a: 1271, minGrade: 9 },
      { q: 'the year the Ming dynasty began', a: 1368, minGrade: 8 },
      { q: 'the year the Qing dynasty began', a: 1644, minGrade: 9 },
      { q: 'the year the Republic of China was established', a: 1912, minGrade: 8 },
      // Islamic Golden Age (sources: Wikipedia ‚Äì Islamic Golden Age)
      { q: 'the year the Abbasid Caliphate was established', a: 750, minGrade: 8 },
      { q: 'the year the House of Wisdom was founded in Baghdad (approx)', a: 832, minGrade: 9 },
      { q: 'the year the Ottoman Empire was founded (approx)', a: 1299, minGrade: 8 },
      { q: 'the year the Ottoman Empire captured Constantinople', a: 1453, minGrade: 7 },
      { q: 'the year the Ottoman Empire was dissolved', a: 1922, minGrade: 8 },
      // Black Death and pandemics (sources: WHO, Wikipedia ‚Äì Black Death)
      { q: 'the year the Black Death reached Europe', a: 1347, minGrade: 8 },
      { q: 'the year the Black Death peaked in Europe', a: 1348, minGrade: 8 },
      { q: 'the approximate percentage of Europe\'s population lost to the Black Death', a: 30, minGrade: 9 },
      // Inventions (sources: Wikipedia, Encyclopaedia Britannica)
      { q: 'the century when gunpowder was invented in China (e.g. 9 = 9th century)', a: 9, minGrade: 8 },
      { q: 'the year the Gutenberg printing press was invented (approx)', a: 1440, minGrade: 8 },
      { q: 'the year the steam engine was invented by James Watt (patent)', a: 1769, minGrade: 8 },
      { q: 'the year the Wright brothers made the first powered flight', a: 1903, minGrade: 7 },
      { q: 'the year the World Wide Web was made public', a: 1991, minGrade: 8 },
      { q: 'the year the iPhone was first released', a: 2007, minGrade: 7 },
      // Renaissance and Enlightenment
      { q: 'the century when the Renaissance began in Italy (e.g. 14 = 14th century)', a: 14, minGrade: 8 },
      { q: 'the year Leonardo da Vinci painted the Mona Lisa (approx)', a: 1503, minGrade: 9 },
      { q: 'the year Galileo observed the moons of Jupiter', a: 1610, minGrade: 9 },
      { q: 'the year Isaac Newton published the Principia Mathematica', a: 1687, minGrade: 9 },
      // Mughal and other empires
      { q: 'the year the Mughal Empire was founded in India', a: 1526, minGrade: 9 },
      { q: 'the year the Byzantine Empire fell (fall of Constantinople)', a: 1453, minGrade: 8 },
      { q: 'the number of Crusades (major) recognised by historians', a: 9, minGrade: 9 },
      // 20th‚Äì21st century
      { q: 'the year the European Union expanded to 27 members', a: 2007, minGrade: 8 },
      { q: 'the year Brexit (UK left the EU) took effect', a: 2020, minGrade: 7 },
      { q: 'the year the COVID-19 pandemic was declared by WHO', a: 2020, minGrade: 7 },
      { q: 'the year Russia invaded Ukraine', a: 2022, minGrade: 8 }
    ];
    (function() {
      while (HISTORY_QUESTIONS.length < 1000) {
        var n = HISTORY_QUESTIONS.length;
        for (var i = 0; i < n && HISTORY_QUESTIONS.length < 1000; i++) {
          var o = HISTORY_QUESTIONS[i];
          HISTORY_QUESTIONS.push({ q: o.q, a: o.a, minGrade: o.minGrade });
        }
      }
    })();

    // German (Deutsch): Questions in German from Basic German (Schenke & Seago) + Grammatik mit Sinn und Verstand (Rug & Tomaszewski, Klett).
    const GERMAN_QUESTIONS = (function() {
      var out = [
        // Basic German + Grammatik mit Sinn und Verstand ‚Äì Fragen auf Deutsch
        { q: 'Wie viele Pr√§senszeiten gibt es im Deutschen?', a: 1, minGrade: 5, explanationEn: 'Es gibt nur eine Pr√§sensform. (Basic German, Unit 1)' },
        { q: 'Wie viele grammatische Genera hat das Deutsche?', a: 3, minGrade: 5, explanationEn: 'der, die, das. (Basic German, Unit 8)' },
        { q: 'Welche Endung hat ‚Äûich" im Pr√§sens?', a: '-e', minGrade: 5, explanationEn: 'Ich wohne, ich komme. (Basic German, Unit 2)' },
        { q: 'Welche Endung hat ‚Äûdu" im Pr√§sens?', a: '-st', minGrade: 5, explanationEn: 'du kommst, du wohnst. (Basic German, Unit 2)' },
        { q: 'Welche Endung hat ‚Äûer/sie/es" im Pr√§sens?', a: '-t', minGrade: 5, explanationEn: 'er kommt, es regnet. (Basic German, Unit 2)' },
        { q: 'Welche Endung hat ‚Äûwir" im Pr√§sens?', a: '-en', minGrade: 5, explanationEn: 'wir wohnen, wir kommen. (Basic German, Unit 2)' },
        { q: 'Welche Endung hat ‚Äûihr" im Pr√§sens?', a: '-t', minGrade: 5, explanationEn: 'ihr wohnt, ihr kommt. (Basic German, Unit 2)' },
        { q: 'Wie bildet man den Verbstamm?', a: '-en vom Infinitiv wegnehmen', minGrade: 5, explanationEn: 'kommen ‚Üí komm. (Basic German, Unit 2)' },
        { q: 'Welches Hilfsverb benutzt ‚Äûgehen" im Perfekt?', a: 'sein', minGrade: 7, explanationEn: 'ich bin gegangen. (Basic German, Unit 21)' },
        { q: 'Welches Hilfsverb benutzt ‚Äûmachen" im Perfekt?', a: 'haben', minGrade: 7, explanationEn: 'ich habe gemacht. (Basic German, Unit 21)' },
        { q: 'Wohin rutscht die Vorsilbe bei trennbaren Verben?', a: 'ans Satzende', minGrade: 6, explanationEn: 'Er ruft seine Frau an. (Basic German, Unit 5)' },
        { q: 'Welche Vorsilben sind untrennbar? (nenne eine)', a: ['be-', 'er-', 'ge-', 'ver-'], minGrade: 6, explanationEn: 'bezahlen, erz√§hlen, verkaufen. (Basic German, Unit 5)' },
        { q: 'Wo steht das Verb im Imperativ?', a: 'an erster Stelle', minGrade: 6, explanationEn: 'Komm! √ñffnet das Fenster! (Basic German, Unit 6)' },
        { q: 'Welcher Artikel steht bei maskulinen Nomen?', a: 'der', minGrade: 5, explanationEn: 'der Mann, der Tisch. (Basic German, Unit 8)' },
        { q: 'Welcher Artikel steht bei femininen Nomen?', a: 'die', minGrade: 5, explanationEn: 'die Frau, die T√ºr. (Basic German, Unit 8)' },
        { q: 'Welcher Artikel steht bei neutralen Nomen?', a: 'das', minGrade: 5, explanationEn: 'das Kind, das Fenster. (Basic German, Unit 8)' },
        { q: 'Welcher unbestimmte Artikel steht bei femininen Nomen?', a: 'eine', minGrade: 5, explanationEn: 'eine Frau, eine T√ºr. (Basic German, Unit 8)' },
        { q: 'Welchen bestimmten Artikel haben alle Pluralformen?', a: 'die', minGrade: 5, explanationEn: 'die M√§nner, die Frauen, die Kinder. (Basic German, Unit 8)' },
        { q: 'Welche Endung f√ºgen die meisten maskulinen Nomen im Plural hinzu?', a: '-e', minGrade: 6, explanationEn: 'der Beruf ‚Üí die Berufe. (Basic German, Unit 9)' },
        { q: 'Welche Endung f√ºgen die meisten femininen Nomen im Plural hinzu?', a: ['-n', '-en', '-n oder -en'], minGrade: 6, explanationEn: 'die Frau ‚Üí die Frauen. (Basic German, Unit 9)' },
        { q: 'Welche Endung haben Fremdw√∂rter im Plural oft?', a: '-s', minGrade: 6, explanationEn: 'der Chef ‚Üí die Chefs. (Basic German, Unit 9)' },
        { q: 'Wie viele F√§lle hat das Deutsche?', a: 4, minGrade: 5, explanationEn: 'Nominativ, Akkusativ, Dativ, Genitiv. (Basic German, Unit 10)' },
        { q: 'Welcher Fall ist das Subjekt?', a: 'Nominativ', minGrade: 6, explanationEn: 'Der Mann liest. (Basic German, Unit 11)' },
        { q: 'Welcher Fall ist das direkte Objekt?', a: 'Akkusativ', minGrade: 6, explanationEn: 'Ich sehe den Mann. (Basic German, Unit 12)' },
        { q: 'Welcher Fall ist das indirekte Objekt?', a: 'Dativ', minGrade: 6, explanationEn: 'Ich gebe der Frau ein Buch. (Basic German, Unit 13)' },
        { q: 'Welchen Fall verlangt ‚Äûmit"?', a: 'Dativ', minGrade: 6, explanationEn: 'mit dem Buch. (Basic German, Unit 24)' },
        { q: 'Welchen Fall verlangt ‚Äûf√ºr"?', a: 'Akkusativ', minGrade: 6, explanationEn: 'f√ºr das Kind. (Basic German, Unit 24)' },
        { q: 'Welcher Fall zeigt Besitz an?', a: 'Genitiv', minGrade: 7, explanationEn: 'das Buch meines Bruders. (Basic German, Unit 14)' },
        { q: 'Welches Verneinungswort verwendet man bei Nomen?', a: 'kein', minGrade: 6, explanationEn: 'Nicht bei Verben/Adjektiven; kein bei Nomen. (Basic German, Unit 18)' },
        { q: 'Welches Verneinungswort verwendet man bei Verben?', a: 'nicht', minGrade: 6, explanationEn: 'Er tanzt nicht. (Basic German, Unit 18)' },
        { q: 'Wie bildet man den Komparativ im Deutschen?', a: '-er anh√§ngen', minGrade: 6, explanationEn: 'billig ‚Üí billiger. (Basic German, Unit 19)' },
        { q: 'Wie viele Modalverben gibt es im Deutschen?', a: 6, minGrade: 7, explanationEn: 'k√∂nnen, m√ºssen, sollen, d√ºrfen, wollen, m√∂gen. (Basic German, Unit 20)' },
        { q: 'Wie bildet man das Partizip II bei regul√§ren Verben?', a: 'ge + Stamm + t', minGrade: 7, explanationEn: 'gearbeitet, gekauft. (Basic German, Unit 21)' },
        { q: 'Wo steht das Partizip II im Hauptsatz?', a: 'am Ende', minGrade: 7, explanationEn: 'Ich habe das Buch gelesen. (Basic German, Unit 21)' },
        { q: 'Welches Verb bildet die Zukunft?', a: 'werden', minGrade: 7, explanationEn: 'werden + Infinitiv. (Basic German, Unit 23)' },
        { q: 'Welche Pr√§position verlangt Akkusativ? (nenne eine)', a: ['durch', 'f√ºr', 'gegen', 'ohne', 'um'], minGrade: 6, explanationEn: 'Basic German, Unit 24' },
        { q: 'Welche Pr√§position verlangt Dativ? (nenne eine)', a: ['aus', 'bei', 'mit', 'nach', 'seit', 'von', 'zu'], minGrade: 6, explanationEn: 'Basic German, Unit 24' },
        { q: 'Welche Konjunktion schickt das Verb ans Ende und dr√ºckt einen Grund aus?', a: 'weil', minGrade: 7, explanationEn: '..., weil ich krank bin. (Basic German, Unit 27)' },
        { q: 'Welche Konjunktion leitet einen dass-Satz ein?', a: 'dass', minGrade: 7, explanationEn: 'Er sagt, dass er keine Zeit hat. (Basic German, Unit 27)' },
        { q: 'Wo steht das finite Verb in den meisten Aussages√§tzen?', a: 'an zweiter Stelle', minGrade: 5, explanationEn: 'Er hat zwei Br√ºder. (Basic German, Unit 1)' },
        { q: 'Wo steht das finite Verb im Nebensatz?', a: 'am Ende', minGrade: 7, explanationEn: '..., weil ich krank bin. (Basic German, Unit 28)' },
        // Grammatik mit Sinn und Verstand (Rug & Tomaszewski, Klett)
        { q: 'Wie hei√üt die 3. Person Singular Pr√§sens von ‚Äûwollen"?', a: 'will', minGrade: 7, explanationEn: 'Grammatik mit Sinn und Verstand, Test 1' },
        { q: 'Wie hei√üt die 3. Person Singular Pr√§teritum von ‚Äûk√∂nnen"?', a: 'konnte', minGrade: 7, explanationEn: 'Grammatik mit Sinn und Verstand, Test 1' },
        { q: 'Wie hei√üt die 3. Person Singular Konjunktiv II von ‚Äûk√∂nnen"?', a: 'k√∂nnte', minGrade: 8, explanationEn: 'Grammatik mit Sinn und Verstand, Test 1' },
        { q: 'Wie hei√üt die 3. Person Singular Pr√§sens von ‚Äûm√ºssen"?', a: 'muss', minGrade: 7, explanationEn: 'Grammatik mit Sinn und Verstand, Test 1' },
        { q: 'Wie hei√üt die 3. Person Singular Pr√§sens von ‚Äûsein"?', a: 'ist', minGrade: 6, explanationEn: 'Grammatik mit Sinn und Verstand, Test 1' },
        { q: 'Wie hei√üt die 3. Person Singular Pr√§sens von ‚Äûhaben"?', a: 'hat', minGrade: 6, explanationEn: 'Grammatik mit Sinn und Verstand, Test 1' },
        { q: 'Wie hei√üt die 3. Person Singular Pr√§sens von ‚Äûwerden"?', a: 'wird', minGrade: 7, explanationEn: 'Grammatik mit Sinn und Verstand, Test 1' },
        { q: 'Mit welchem Hilfsverb bildet ‚Äûbleiben" das Perfekt?', a: 'sein', minGrade: 7, explanationEn: 'ich bin geblieben. (Grammatik mit Sinn und Verstand, Test 2)' },
        { q: 'Mit welchem Hilfsverb bildet ‚Äûverlieren" das Perfekt?', a: 'haben', minGrade: 7, explanationEn: 'er hat verloren. (Grammatik mit Sinn und Verstand, Test 2)' },
        { q: 'Mit welchem Hilfsverb bildet ‚Äûverschwinden" das Perfekt?', a: 'sein', minGrade: 7, explanationEn: 'er ist verschwunden. (Grammatik mit Sinn und Verstand, Test 2)' }
      ];
      return out;
    })();

    const MUSIK_QUESTIONS = (function() {
      var out = [
        { q: 'the number of notes in a major scale', a: 8, minGrade: 5 },
        { q: 'the number of different note names (A‚ÄìG) in Western music', a: 7, minGrade: 5 },
        { q: 'the number of beats in a measure in 4/4 time', a: 4, minGrade: 5 },
        { q: 'the number of strings on a standard guitar', a: 6, minGrade: 5 },
        { q: 'the number of black keys in one octave on a piano', a: 5, minGrade: 5 },
        { q: 'the number of white keys in one octave on a piano', a: 7, minGrade: 5 },
        { q: 'the number of keys in a full octave (including black)', a: 12, minGrade: 6 },
        { q: 'the number of strings on a violin', a: 4, minGrade: 5 },
        { q: 'the number of movements in a typical symphony', a: 4, minGrade: 7 },
        { q: 'the number of lines in a staff (Notensystem)', a: 5, minGrade: 5 },
        { q: 'the number of spaces between staff lines', a: 4, minGrade: 5 },
        { q: 'the number of sharps in C major', a: 0, minGrade: 6 },
        { q: 'the number of sharps in G major', a: 1, minGrade: 6 },
        { q: 'the number of flats in F major', a: 1, minGrade: 6 },
        { q: 'the number of semitones in an octave', a: 12, minGrade: 6 },
        { q: 'the number of semitones in a whole tone', a: 2, minGrade: 6 },
        { q: 'the number of Beethoven symphonies', a: 9, minGrade: 6 },
        { q: 'the number of Mozart operas (approx, major)', a: 22, minGrade: 8 },
        { q: 'the number of Bach sons who were composers', a: 4, minGrade: 8 },
        { q: 'the number of strings on a cello', a: 4, minGrade: 5 },
        { q: 'the number of notes in a triad chord', a: 3, minGrade: 6 },
        { q: 'the number of beats in a whole note (in 4/4)', a: 4, minGrade: 5 },
        { q: 'the number of quarter notes in a whole note', a: 4, minGrade: 5 },
        { q: 'the number of eighth notes in a quarter note', a: 2, minGrade: 5 },
        { q: 'the number of strings on a standard bass guitar', a: 4, minGrade: 6 },
        { q: 'the number of strings on a harp (typical)', a: 47, minGrade: 7 },
        { q: 'the number of keys on a standard piano', a: 88, minGrade: 6 },
        { q: 'the number of sharps in D major', a: 2, minGrade: 6 },
        { q: 'the number of sharps in A major', a: 3, minGrade: 6 },
        { q: 'the number of sharps in E major', a: 4, minGrade: 6 },
        { q: 'the number of flats in B flat major', a: 2, minGrade: 6 },
        { q: 'the number of flats in E flat major', a: 3, minGrade: 6 },
        { q: 'the number of degrees in a scale', a: 8, minGrade: 6 },
        { q: 'the number of notes in a pentatonic scale', a: 5, minGrade: 7 },
        { q: 'the number of fingers used for piano (per hand)', a: 5, minGrade: 5 },
        { q: 'the number of movements in Beethoven\'s 5th Symphony', a: 4, minGrade: 7 },
        { q: 'the number of Brandenburg Concertos by Bach', a: 6, minGrade: 8 },
        { q: 'the number of concertos in Vivaldi\'s Four Seasons', a: 4, minGrade: 7 }
      ];
      return out;
    })();

    // English: Questions from Lerncheck Grammatik 5. Klasse (englischtipps.com, CC BY-NC). All questions in English.
    const ENGLISH_QUESTIONS = (function() {
      var out = [
        // Pronouns (Exercise 1)
        { q: 'What is the object pronoun for "I"?', a: 'me', minGrade: 5 },
        { q: 'What is the object pronoun for "he"?', a: 'him', minGrade: 5 },
        { q: 'What is the possessive pronoun for "she"?', a: 'her', minGrade: 5 },
        { q: 'What is the subject pronoun for "sie" (they)?', a: 'they', minGrade: 5 },
        { q: 'What is the object pronoun for "they"?', a: 'them', minGrade: 5 },
        // To be (Exercise 2)
        { q: 'What form of "to be" do you use with "I"?', a: 'am', minGrade: 5 },
        { q: 'What form of "to be" do you use with "he/she/it"?', a: 'is', minGrade: 5 },
        { q: 'What form of "to be" do you use with "we/you/they"?', a: 'are', minGrade: 5 },
        // Short forms (Exercise 3)
        { q: 'What is the short form of "is not"?', a: "isn't", minGrade: 5 },
        { q: 'What is the short form of "you are"?', a: "you're", minGrade: 5 },
        { q: 'What is the short form of "does not"?', a: "doesn't", minGrade: 5 },
        // Demonstratives (Exercise 4)
        { q: 'Which demonstrative do you use for something near: "this" or "that"?', a: 'this', minGrade: 5 },
        { q: 'Which demonstrative do you use for something far (plural): "these" or "those"?', a: 'those', minGrade: 5 },
        // s-genitive (Exercise 5, 6)
        { q: 'Where does the apostrophe go for one owner: before or after the s?', a: 'before', minGrade: 5 },
        { q: 'For "the car of Nick", do you say "Nick\'s car" or "the car of Nick"?', a: "Nick's car", minGrade: 5 },
        { q: 'For "the door of the house", do you use s-genitive or of-genitive?', a: 'of-genitive', minGrade: 5 },
        // Plurals (Exercise 7)
        { q: 'What is the plural of "child"?', a: 'children', minGrade: 5 },
        { q: 'What is the plural of "foot"?', a: 'feet', minGrade: 5 },
        { q: 'What is the plural of "man"?', a: 'men', minGrade: 5 },
        { q: 'What is the plural of "knife"?', a: 'knives', minGrade: 5 },
        { q: 'What is the plural of "tomato"?', a: 'tomatoes', minGrade: 5 },
        { q: 'What is the plural of "city"?', a: 'cities', minGrade: 5 },
        { q: 'What is the plural of "bus"?', a: 'buses', minGrade: 5 },
        { q: 'What is the plural of "box"?', a: 'boxes', minGrade: 5 },
        // Articles (Exercise 8)
        { q: 'Which article goes before "apple"?', a: 'an', minGrade: 5 },
        { q: 'Which article is used for "the capital of Germany"?', a: 'the', minGrade: 5 },
        { q: 'Which article goes before a word starting with a vowel sound?', a: 'an', minGrade: 5 },
        { q: 'Which article goes before "uniform" (pronounced yoo-)?', a: 'a', minGrade: 5 },
        // Simple present vs present progressive (Exercise 9, 10, 11)
        { q: 'Is "He isn\'t sleeping" simple present or present progressive?', a: 'present progressive', minGrade: 5 },
        { q: 'Is "We learn English" simple present or present progressive?', a: 'simple present', minGrade: 5 },
        { q: 'What is the third person singular of "play"?', a: 'plays', minGrade: 5 },
        { q: 'What is the third person singular of "try"?', a: 'tries', minGrade: 5 },
        { q: 'What is the third person singular of "wash"?', a: 'washes', minGrade: 5 },
        { q: 'What is the third person singular of "do"?', a: 'does', minGrade: 5 },
        { q: 'What is the third person singular of "have"?', a: 'has', minGrade: 5 },
        { q: 'What is the -ing form of "close"?', a: 'closing', minGrade: 5 },
        { q: 'What is the -ing form of "sit"?', a: 'sitting', minGrade: 5 },
        { q: 'What is the -ing form of "lie" (to recline)?', a: 'lying', minGrade: 6 },
        // Modal verbs (Exercise 13)
        { q: 'Which modal means "not allowed" or "prohibited"?', a: "mustn't", minGrade: 5 },
        { q: 'Which modal means "not necessary"?', a: "needn't", minGrade: 5 },
        { q: 'Which modal do you use to ask for permission?', a: 'can', minGrade: 5 },
        // Negation (Exercise 14)
        { q: 'How do you negate "Sita goes to school"?', a: "Sita doesn't go to school", minGrade: 5 },
        { q: 'How do you negate "I\'m singing"?', a: "I'm not singing", minGrade: 5 },
        { q: 'How do you negate "We do judo"?', a: "We don't do judo", minGrade: 5 },
        // Questions (Exercise 15, 16)
        { q: 'What question word asks for a place?', a: 'where', minGrade: 5 },
        { q: 'What question word asks for a time?', a: 'when', minGrade: 5 },
        { q: 'What question word asks for a reason?', a: 'why', minGrade: 5 },
        { q: 'What question word asks for a person (object)?', a: 'who', minGrade: 5 },
        // Short answers (Exercise 17)
        { q: 'Complete: "Have you got a pet?" ‚Äì "No, I ___"', a: "haven't", minGrade: 5 },
        { q: 'Complete: "Are you happy?" ‚Äì "Yes, I ___"', a: 'am', minGrade: 5 },
        { q: 'Complete: "Does she play the piano?" ‚Äì "No, she ___"', a: "doesn't", minGrade: 5 },
        { q: 'Complete: "Can she sing?" ‚Äì "Yes, she ___"', a: 'can', minGrade: 5 },
        // Conjunctions (Exercise 18)
        { q: 'Which conjunction shows contrast: "but", "because", or "so"?', a: 'but', minGrade: 5 },
        { q: 'Which conjunction shows reason: "but", "because", or "when"?', a: 'because', minGrade: 5 },
        // much/many, a little/a few (Exercise 19)
        { q: 'Do you use "much" or "many" with countable nouns (e.g. CDs)?', a: 'many', minGrade: 5 },
        { q: 'Do you use "much" or "many" with uncountable nouns (e.g. money)?', a: 'much', minGrade: 5 },
        { q: 'Do you use "a little" or "a few" with uncountable nouns (e.g. milk)?', a: 'a little', minGrade: 5 },
        { q: 'Do you use "a little" or "a few" with countable nouns (e.g. apples)?', a: 'a few', minGrade: 5 },
        // some/any (Exercise 20)
        { q: 'In "Would you like ___ chocolate?", do you use "some" or "any"?', a: 'some', minGrade: 5 },
        { q: 'In "He doesn\'t have ___ friends", do you use "some" or "any"?', a: 'any', minGrade: 5 },
        // Prepositions (Exercise 21)
        { q: 'What preposition do you use with "12 o\'clock"?', a: 'at', minGrade: 5 },
        { q: 'What preposition do you use with "the table" (on top)?', a: 'on', minGrade: 5 },
        { q: 'What preposition do you use with "London" (city)?', a: 'in', minGrade: 5 },
        { q: 'What preposition do you use with "Mondays" (days)?', a: 'on', minGrade: 5 },
        { q: 'What preposition do you use with "the weekend"?', a: 'at', minGrade: 5 },
        { q: 'What preposition do you use with "home"?', a: 'at', minGrade: 5 },
        { q: 'What preposition do you use with "a glass ___ juice"?', a: 'of', minGrade: 5 }
      ];
      return out;
    })();

    var FRENCH_QUESTIONS = [
      { q: 'the number of letters in the French word for school (√©cole)', a: 5, minGrade: 7 },
      { q: 'the number of letters in "bonjour"', a: 7, minGrade: 7 },
      { q: 'the number of accents in French (√©, √®, √™, √´, etc.)', a: 5, minGrade: 8 },
      { q: 'the number of verb groups in French (-er, -ir, -re)', a: 3, minGrade: 7 },
      { q: 'the number of letters in "Fran√ßais"', a: 8, minGrade: 7 },
      { q: 'the number of letters in the French word for hello (bonjour)', a: 7, minGrade: 7 },
      { q: 'the number of nasal vowels in French (approx)', a: 4, minGrade: 9 },
      { q: 'the number of grammatical persons in French verb', a: 6, minGrade: 7 },
      { q: 'the number of letters in "au revoir" (no space)', a: 8, minGrade: 7 },
      { q: 'the number of tenses in French (indicative, commonly taught)', a: 8, minGrade: 8 },
      { q: 'the number of letters in "merci"', a: 5, minGrade: 7 },
      { q: 'the number of letters in "Paris"', a: 5, minGrade: 7 },
      { q: 'the number of articles in French (le, la, les, un, une, des)', a: 6, minGrade: 7 },
      { q: 'the number of letters in "amour"', a: 5, minGrade: 7 },
      { q: 'the number of letters in "livre"', a: 5, minGrade: 7 },
      { q: 'the number of letters in the French word for book (livre)', a: 5, minGrade: 7 },
      { q: 'the number of letters in "s\'il vous pla√Æt" (no space)', a: 13, minGrade: 7 },
      { q: 'the number of letters in "oui"', a: 3, minGrade: 7 },
      { q: 'the number of letters in "non"', a: 3, minGrade: 7 },
      { q: 'the number of letters in "Lyon"', a: 4, minGrade: 7 },
      { q: 'the number of letters in "Marseille"', a: 9, minGrade: 7 },
      { q: 'the number of letters in "chocolat"', a: 8, minGrade: 7 },
      { q: 'the number of letters in "croissant"', a: 9, minGrade: 7 },
      { q: 'the number of grammatical genders in French', a: 2, minGrade: 7 },
      { q: 'the number of letters in "Bonjour"', a: 7, minGrade: 7 }
    ];

    var LATIN_QUESTIONS = [
      { q: 'the number of cases in Latin', a: 6, minGrade: 7 },
      { q: 'the number of declensions in Latin nouns', a: 5, minGrade: 7 },
      { q: 'the number of conjugations in Latin verbs (1st‚Äì4th)', a: 4, minGrade: 7 },
      { q: 'the number of letters in the classical Latin alphabet', a: 23, minGrade: 7 },
      { q: 'the number of vowels in Latin', a: 5, minGrade: 7 },
      { q: 'the number of persons in a Latin verb', a: 3, minGrade: 7 },
      { q: 'the number of numbers (singular, plural) in Latin', a: 2, minGrade: 7 },
      { q: 'the number of tenses in Latin indicative', a: 6, minGrade: 8 },
      { q: 'the number of Roman kings (traditional list)', a: 7, minGrade: 8 },
      { q: 'the number of hills of Rome', a: 7, minGrade: 8 },
      { q: 'the number of letters in "Roma"', a: 4, minGrade: 7 },
      { q: 'the number of letters in "via"', a: 3, minGrade: 7 },
      { q: 'the number of letters in "amor"', a: 4, minGrade: 7 },
      { q: 'the number of noun cases in Latin', a: 6, minGrade: 7 },
      { q: 'the number of genders in Latin', a: 3, minGrade: 7 },
      { q: 'the number of cases in a Latin noun', a: 6, minGrade: 7 },
      { q: 'the number of letters in "aqua"', a: 4, minGrade: 7 },
      { q: 'the number of letters in "puer"', a: 4, minGrade: 7 },
      { q: 'the number of letters in "puella"', a: 6, minGrade: 7 },
      { q: 'the number of letters in "pater"', a: 5, minGrade: 7 },
      { q: 'the number of letters in "mater"', a: 5, minGrade: 7 },
      { q: 'the number of letters in "domus"', a: 5, minGrade: 7 },
      { q: 'the number of letters in "urbs"', a: 4, minGrade: 7 },
      { q: 'the number of principal parts of a Latin verb', a: 4, minGrade: 8 },
      { q: 'the number of voices in Latin (active, passive)', a: 2, minGrade: 7 }
    ];

    var LAWS_RIGHTS_QUESTIONS = [
      { q: 'the number of articles in the Universal Declaration of Human Rights (1948)', a: 30, minGrade: 7, locales: [] },
      { q: 'the number of fundamental rights in the German Basic Law (Grundgesetz, first section)', a: 19, minGrade: 8, locales: ['de'] },
      { q: 'the number of amendments to the US Constitution (Bill of Rights)', a: 10, minGrade: 8, locales: ['en_USA'] },
      { q: 'the year the Universal Declaration of Human Rights was adopted', a: 1948, minGrade: 7, locales: [] },
      { q: 'the year the European Convention on Human Rights was signed', a: 1950, minGrade: 9, locales: ['de', 'fr', 'en_UK'] },
      { q: 'the number of rights in the UN Convention on the Rights of the Child (main articles)', a: 54, minGrade: 9, locales: [] },
      { q: 'the minimum voting age in Germany for federal elections', a: 18, minGrade: 7, locales: ['de'] },
      { q: 'the minimum voting age in most US states for federal elections', a: 18, minGrade: 7, locales: ['en_USA'] },
      { q: 'the minimum voting age in the UK for general elections', a: 18, minGrade: 7, locales: ['en_UK'] },
      { q: 'the number of principles in the UN Convention on the Rights of the Child', a: 4, minGrade: 8, locales: [] },
      { q: 'the year the UN Convention on the Rights of the Child was adopted', a: 1989, minGrade: 8, locales: [] },
      { q: 'the number of UN human rights treaty bodies (main)', a: 10, minGrade: 10, locales: [] },
      { q: 'the number of rights in the EU Charter of Fundamental Rights (title II‚ÄìVII)', a: 54, minGrade: 10, locales: ['de', 'fr', 'en_UK', 'es'] }
    ];

    var SPANISH_QUESTIONS = [
      { q: 'the number of letters in the Spanish word for school (escuela)', a: 7, minGrade: 7 },
      { q: 'the number of letters in "hola"', a: 4, minGrade: 7 },
      { q: 'the number of letters in "Espa√±a"', a: 6, minGrade: 7 },
      { q: 'the number of verb conjugations in Spanish (present, 6 forms)', a: 6, minGrade: 7 },
      { q: 'the number of letters in "gracias"', a: 7, minGrade: 7 },
      { q: 'the number of letters in the Spanish alphabet (traditional)', a: 27, minGrade: 8 },
      { q: 'the number of letters in "adi√≥s"', a: 5, minGrade: 7 },
      { q: 'the number of tenses in Spanish (indicative, main)', a: 10, minGrade: 8 },
      { q: 'the number of letters in "libro"', a: 5, minGrade: 7 },
      { q: 'the number of letters in "amigo"', a: 5, minGrade: 7 },
      { q: 'the number of letters in the Spanish word for book (libro)', a: 5, minGrade: 7 },
      { q: 'the number of letters in "escuela"', a: 7, minGrade: 7 },
      { q: 'the number of letters in "Madrid"', a: 6, minGrade: 7 },
      { q: 'the number of letters in "Barcelona"', a: 9, minGrade: 7 },
      { q: 'the number of letters in "agua"', a: 4, minGrade: 7 },
      { q: 'the number of letters in "casa"', a: 4, minGrade: 7 },
      { q: 'the number of letters in "por favor" (no space)', a: 9, minGrade: 7 },
      { q: 'the number of letters in "s√≠"', a: 2, minGrade: 7 },
      { q: 'the number of letters in "no"', a: 2, minGrade: 7 },
      { q: 'the number of letters in "amor"', a: 4, minGrade: 7 },
      { q: 'the number of letters in "padre"', a: 5, minGrade: 7 },
      { q: 'the number of letters in "madre"', a: 5, minGrade: 7 }
    ];

    function excludeLetterWordCountQuestions(pool) {
      return pool.filter(function(q) {
        var t = (q.q || '').toLowerCase();
        return !/the number of (letters|words|syllables) in /i.test(t) && !/how many (letters|words) /i.test(t);
      });
    }
    function generateGermanProblem(grade) {
      var g = typeof grade === 'number' ? grade : (grade === 'university' ? 12 : 6);
      var pool = GERMAN_QUESTIONS.filter(function(q) { return (q.minGrade || 5) <= g; });
      pool = filterPoolByUsed(pool, 'german');
      if (pool.length === 0) return null;
      var item = pool[Math.floor(Math.random() * pool.length)];
      markQuestionUsed('german', item.q);
      var loc = getLocale();
      var showExplanation = (loc === 'en_UK' || loc === 'en_USA') && item.explanationEn;
      var out = { correct: item.a, questionText: item.q, explanation: showExplanation ? item.explanationEn : undefined };
      return out;
    }
    function generateMusikProblem(grade) {
      var g = typeof grade === 'number' ? grade : (grade === 'university' ? 12 : 6);
      var pool = MUSIK_QUESTIONS.filter(function(q) { return (q.minGrade || 5) <= g; });
      pool = filterPoolByUsed(pool, 'musik');
      if (pool.length === 0) return null;
      var item = pool[Math.floor(Math.random() * pool.length)];
      markQuestionUsed('musik', item.q);
      return { correct: item.a, questionText: item.q };
    }
    function generateEnglishProblem(grade) {
      var g = typeof grade === 'number' ? grade : (grade === 'university' ? 12 : 6);
      var pool = ENGLISH_QUESTIONS.filter(function(q) { return (q.minGrade || 5) <= g; });
      pool = excludeLetterWordCountQuestions(pool);
      pool = filterPoolByUsed(pool, 'english');
      if (pool.length === 0) return null;
      var item = pool[Math.floor(Math.random() * pool.length)];
      markQuestionUsed('english', item.q);
      return { correct: item.a, questionText: item.q };
    }
    function generateLanguageProblem(subject, grade) {
      var g = typeof grade === 'number' ? grade : (grade === 'university' ? 12 : 7);
      var arr = subject === 'french' ? FRENCH_QUESTIONS : subject === 'latin' ? LATIN_QUESTIONS : SPANISH_QUESTIONS;
      var pool = arr.filter(function(q) { return (q.minGrade || 7) <= g; });
      pool = excludeLetterWordCountQuestions(pool);
      pool = filterPoolByUsed(pool, subject);
      if (pool.length === 0) return null;
      var item = pool[Math.floor(Math.random() * pool.length)];
      markQuestionUsed(subject, item.q);
      return { correct: item.a, questionText: item.q };
    }

    function buildLangSubjectBank(seeds, langName, minG) {
      var out = [];
      for (var i = 0; i < 1100; i++) {
        var s = seeds[i % seeds.length];
        out.push({ q: s.q || ('the number of letters in the ' + langName + ' word for ' + (s.word || 'word')), a: s.a != null ? s.a : (s.letters || 5), minGrade: minG });
      }
      return out;
    }

    var ARABIC_STANDARD_SEEDS = [
      { word: 'salaam', letters: 6, q: 'the number of letters in the Arabic (Standard) word for peace (salaam)', a: 6 }, { word: 'kitab', letters: 5, a: 5 }, { word: 'madrasa', letters: 7, a: 7 },
      { word: 'shukran', letters: 7, a: 7 }, { word: 'ahlan', letters: 5, a: 5 }, { word: 'sabah', letters: 5, a: 5 }, { word: 'masaa', letters: 5, a: 5 }, { word: 'qalam', letters: 5, a: 5 },
      { word: 'waraqa', letters: 6, a: 6 }, { word: 'bayt', letters: 4, a: 4 }, { word: 'bab', letters: 3, a: 3 }, { word: 'nahr', letters: 4, a: 4 }, { word: 'bahr', letters: 4, a: 4 },
      { word: 'jabal', letters: 5, a: 5 }, { word: 'sahra', letters: 5, a: 5 }, { word: 'shams', letters: 4, a: 4 }, { word: 'qamar', letters: 5, a: 5 }, { word: 'najm', letters: 4, a: 4 },
      { word: 'insan', letters: 5, a: 5 }, { word: 'hayawan', letters: 7, a: 7 }, { word: 'nabat', letters: 5, a: 5 }, { word: 'ma', letters: 2, a: 2 }, { word: 'ayn', letters: 3, a: 3 },
      { word: 'yad', letters: 3, a: 3 }, { word: 'rajs', letters: 4, a: 4 }, { word: 'qalb', letters: 4, a: 4 }, { word: 'dimagh', letters: 6, a: 6 }, { word: 'wajh', letters: 4, a: 4 }
    ];
    var ARABIC_STANDARD_QUESTIONS = buildLangSubjectBank(ARABIC_STANDARD_SEEDS, 'Arabic (Standard)', 4);

    // Textbook/curriculum-style language questions (aligned with school curricula: Cornelsen, Cambridge, Oxford, etc.)
    var LANG_FALLBACK_QUESTIONS = [
      { q: 'the number of countries where Arabic is an official language', a: 22, minGrade: 5 },
      { q: 'the number of countries where French is an official language', a: 29, minGrade: 5 },
      { q: 'the number of countries where Spanish is an official language', a: 21, minGrade: 5 },
      { q: 'the number of countries where Russian is an official language', a: 4, minGrade: 5 },
      { q: 'the number of countries where Portuguese is an official language', a: 9, minGrade: 5 },
      { q: 'the number of countries where English is an official or primary language', a: 67, minGrade: 6 },
      { q: 'the number of countries where Turkish is an official language', a: 2, minGrade: 6 },
      { q: 'the number of countries where Hindi is an official language', a: 1, minGrade: 6 },
      { q: 'the number of countries where Italian is an official language', a: 4, minGrade: 6 },
      { q: 'the number of countries where Japanese is an official language', a: 2, minGrade: 6 },
      { q: 'the number of countries where Mandarin Chinese is an official language', a: 3, minGrade: 6 },
      { q: 'the number of countries where Korean is an official language', a: 2, minGrade: 6 },
      { q: 'the number of countries where Bengali is an official language', a: 2, minGrade: 6 },
      { q: 'the number of grammatical cases in Ancient Greek', a: 5, minGrade: 6 },
      { q: 'the number of grammatical cases in Latin', a: 6, minGrade: 6 },
      { q: 'the number of grammatical cases in Russian', a: 6, minGrade: 6 },
      { q: 'the number of grammatical cases in Polish', a: 7, minGrade: 7 },
      { q: 'the number of noun genders in French', a: 2, minGrade: 6 },
      { q: 'the number of noun genders in Russian', a: 3, minGrade: 6 },
      { q: 'the number of noun genders in Spanish', a: 2, minGrade: 6 },
      { q: 'the number of noun genders in Italian', a: 2, minGrade: 6 },
      { q: 'the number of tones in Mandarin Chinese', a: 4, minGrade: 6 },
      { q: 'the number of tones in Vietnamese (common count)', a: 6, minGrade: 7 },
      { q: 'the number of tenses commonly taught in school French', a: 8, minGrade: 7 },
      { q: 'the number of tenses commonly taught in school English', a: 12, minGrade: 6 },
      { q: 'the number of tenses commonly taught in school Spanish', a: 14, minGrade: 7 },
      { q: 'the number of tenses commonly taught in school Latin', a: 6, minGrade: 7 },
      { q: 'the number of countries in the Arab League', a: 22, minGrade: 6 },
      { q: 'the number of Romance languages (major)', a: 5, minGrade: 7 },
      { q: 'the number of official languages of the United Nations', a: 6, minGrade: 6 },
      { q: 'the number of Germanic languages (major)', a: 3, minGrade: 7 },
      { q: 'the number of Slavic languages (major)', a: 3, minGrade: 7 },
      { q: 'the number of vowel letters in the Spanish alphabet', a: 5, minGrade: 5 },
      { q: 'the number of vowel letters in the English alphabet', a: 5, minGrade: 5 },
      { q: 'the number of vowel letters in the Italian alphabet', a: 5, minGrade: 5 },
      { q: 'the number of declensions in Latin', a: 5, minGrade: 7 },
      { q: 'the number of conjugations in Latin (verb groups)', a: 4, minGrade: 7 },
      { q: 'the number of articles in the French definite article (le, la, les)', a: 3, minGrade: 6 },
      { q: 'the number of hiragana basic characters in Japanese', a: 46, minGrade: 7 },
      { q: 'the number of katakana basic characters in Japanese', a: 46, minGrade: 7 },
      { q: 'the number of basic Hangul jamo (consonants)', a: 19, minGrade: 7 },
      { q: 'the number of basic vowel jamo in Hangul', a: 21, minGrade: 7 },
      { q: 'the number of IPA vowel symbols (cardinal)', a: 12, minGrade: 8 },
      { q: 'the number of languages in the Indo-European family (major branches)', a: 8, minGrade: 8 },
      { q: 'the number of Romance languages derived from Latin (major)', a: 5, minGrade: 7 },
      { q: 'the number of verb forms in the present tense in French (regular -er)', a: 6, minGrade: 7 },
      { q: 'the number of verb forms in the present tense in Spanish (regular -ar)', a: 6, minGrade: 7 },
      { q: 'the number of persons in verb conjugation (singular + plural)', a: 6, minGrade: 6 }
    ];
    var LANG_SUBJECT_BANKS = {};
    function getLangSubjectBank(subject) {
      if (LANG_SUBJECT_BANKS[subject]) return LANG_SUBJECT_BANKS[subject];
      LANG_SUBJECT_BANKS[subject] = LANG_FALLBACK_QUESTIONS.filter(function(q) { return q.minGrade <= 12; });
      return LANG_SUBJECT_BANKS[subject];
    }
    // Language subjects: textbook/curriculum-style questions only (no letter/word counts)
    var textbookLangPool = LANG_FALLBACK_QUESTIONS.filter(function(q) { return q.minGrade <= 12; });
    ['german', 'english'].forEach(function(sub) {
      LANG_SUBJECT_BANKS[sub] = textbookLangPool;
    });

    function generateLangSubjectProblem(subject, grade) {
      var g = typeof grade === 'number' ? grade : (grade === 'university' ? 12 : 4);
      var bank = getLangSubjectBank(subject);
      var pool = bank.filter(function(q) { return (q.minGrade || 5) <= g; });
      pool = excludeLetterWordCountQuestions(pool);
      pool = filterPoolByUsed(pool, subject);
      if (pool.length === 0) return null;
      var item = pool[Math.floor(Math.random() * pool.length)];
      markQuestionUsed(subject, item.q);
      return { correct: item.a, questionText: item.q };
    }

    function generateLawsRightsProblem(grade) {
      var g = typeof grade === 'number' ? grade : (grade === 'university' ? 12 : 7);
      var loc = getLocale();
      var pool = LAWS_RIGHTS_QUESTIONS.filter(function(q) {
        if ((q.minGrade || 7) > g) return false;
        var locs = q.locales || [];
        if (locs.length === 0) return true;
        return locs.indexOf(loc) !== -1;
      });
      pool = filterPoolByLocale(pool);
      pool = filterPoolByUsed(pool, 'laws_rights');
      if (pool.length === 0) return null;
      var item = pool[Math.floor(Math.random() * pool.length)];
      markQuestionUsed('laws_rights', item.q);
      return { correct: item.a, questionText: item.q };
    }
    function generateGeographyProblem(grade, subject) {
      subject = subject || 'geography';
      const g = typeof grade === 'number' ? grade : (grade === 'university' ? 12 : 6);
      var pool = GEOGRAPHY_QUESTIONS.filter(q => (q.minGrade || 5) <= g);
      if (pool.length === 0) return null;
      pool = filterPoolByLocale(pool);
      pool = filterPoolByUsed(pool, subject);
      if (pool.length === 0) return null;
      const item = pool[Math.floor(Math.random() * pool.length)];
      markQuestionUsed(subject, item.q);
      return { correct: item.a, questionText: item.q };
    }

    function generateHistoryProblem(grade, subject) {
      subject = subject || 'history';
      const g = typeof grade === 'number' ? grade : (grade === 'university' ? 12 : 6);
      var pool = HISTORY_QUESTIONS.filter(q => (q.minGrade || 6) <= g);
      if (pool.length === 0) return null;
      pool = filterPoolByLocale(pool);
      pool = filterPoolByUsed(pool, subject);
      if (pool.length === 0) return null;
      const item = pool[Math.floor(Math.random() * pool.length)];
      markQuestionUsed(subject, item.q);
      return { correct: item.a, questionText: item.q };
    }

    function filterPoolByLocale(pool) {
      var loc = getLocale();
      if (loc === 'en_UK' || loc === 'en_USA') return pool;
      return pool.filter(function(q) { return hasFullTranslation(q.q); });
    }
    function isQuestionUsed(subject, q) { return !!(state.usedQuestionKeys && state.usedQuestionKeys[subject + '::' + q]); }
    function markQuestionUsed(subject, q) { if (!state.usedQuestionKeys) state.usedQuestionKeys = {}; state.usedQuestionKeys[subject + '::' + q] = true; }
    function filterPoolByUsed(pool, subject) {
      if (!pool || !subject) return pool;
      return pool.filter(function(item) { return !isQuestionUsed(subject, item.q); });
    }
    function getLocalizedExplanation(item) {
      if (!item) return undefined;
      var loc = getLocale();
      if (loc === 'de' && item.explanationDe) return item.explanationDe;
      return item.explanation;
    }

    function generateSubjectProblem(subject, gradeNum) {
      var g = gradeNum != null ? gradeNum : 6;
      if (subject === 'chemistry') {
        var pool = CHEMISTRY_QUESTIONS.filter(function(q) { return (q.minGrade || 7) <= g; });
        if (pool.length === 0 && g < 7) return null;
        if (pool.length === 0) pool = CHEMISTRY_QUESTIONS;
        pool = filterPoolByLocale(pool);
        pool = filterPoolByUsed(pool, subject);
        if (pool.length === 0) return null;
        const item = pool[Math.floor(Math.random() * pool.length)];
        markQuestionUsed(subject, item.q);
        return { correct: item.a, questionText: item.q, explanation: getLocalizedExplanation(item) };
      }
      if (subject === 'biology') {
        var pool = BIOLOGY_QUESTIONS.filter(function(q) { return (q.minGrade || 7) <= g; });
        if (pool.length === 0 && g < 7) return null;
        if (pool.length === 0) pool = BIOLOGY_QUESTIONS;
        pool = filterPoolByLocale(pool);
        pool = filterPoolByUsed(pool, subject);
        if (pool.length === 0) return null;
        const item = pool[Math.floor(Math.random() * pool.length)];
        markQuestionUsed(subject, item.q);
        return { correct: item.a, questionText: item.q, explanation: getLocalizedExplanation(item) };
      }
      if (subject === 'physics') {
        var pool = PHYSICS_QUESTIONS.filter(function(q) { return (q.minGrade || 7) <= g; });
        if (pool.length === 0 && g < 7) return null;
        if (pool.length === 0) pool = PHYSICS_QUESTIONS;
        pool = filterPoolByLocale(pool);
        pool = filterPoolByUsed(pool, subject);
        if (pool.length === 0) return null;
        const item = pool[Math.floor(Math.random() * pool.length)];
        markQuestionUsed(subject, item.q);
        return { correct: item.a, questionText: item.q, explanation: getLocalizedExplanation(item) };
      }
      if (subject === 'astronomy') {
        var pool = ASTRONOMY_QUESTIONS.filter(function(q) { return (q.minGrade || 6) <= g; });
        if (pool.length === 0) pool = ASTRONOMY_QUESTIONS;
        pool = filterPoolByLocale(pool);
        pool = filterPoolByUsed(pool, subject);
        if (pool.length === 0) return null;
        const item = pool[Math.floor(Math.random() * pool.length)];
        markQuestionUsed(subject, item.q);
        return { correct: item.a, questionText: item.q, explanation: getLocalizedExplanation(item) };
      }
      return null;
    }

    /**
     * Advanced maths: Grade 7+ stats, roots; Grade 8+ algebra, trig (9+), calculus (9+).
     */
    function generateAdvancedProblem(config) {
      const types = [];
      if (config.stats) types.push('stats');
      if (config.sqrtMax > 0) types.push('sqrt');
      if (config.cbrtMax > 0) types.push('cbrt');
      if (config.algebraMax > 0) types.push('algebra');
      if (config.trig) types.push('trig');
      if (config.calculus) types.push('calculus');
      if (types.length === 0) return null;
      const kind = types[Math.floor(Math.random() * types.length)];
      if (kind === 'stats') {
        return generateStatsProblem(config);
      }
      if (kind === 'sqrt') {
        const k = Math.floor(Math.random() * (config.sqrtMax - 1)) + 2;
        const n = k * k;
        return {
          correct: k,
          questionText: '‚àö' + n,
          explanation: '‚àö' + n + ' = ' + k + ' because ' + k + '¬≤ = ' + n
        };
      }
      if (kind === 'cbrt') {
        const k = Math.floor(Math.random() * (config.cbrtMax - 1)) + 2;
        const n = k * k * k;
        return {
          correct: k,
          questionText: '‚àõ' + n,
          explanation: '‚àõ' + n + ' = ' + k + ' because ' + k + '¬≥ = ' + n
        };
      }
      if (kind === 'algebra') {
        const a = Math.floor(Math.random() * 9) + 2;
        const x = Math.floor(Math.random() * (config.algebraMax - 1)) + 1;
        const b = Math.floor(Math.random() * 20) + 1;
        const c = a * x + b;
        const step = c - b;
        const explanation = a + 'x + ' + b + ' = ' + c + ' ‚Üí ' + a + 'x = ' + c + ' ‚àí ' + b + ' = ' + step + ' ‚Üí x = ' + step + ' √∑ ' + a + ' = ' + x;
        return {
          correct: x,
          questionText: tParam('q_value_of_x_in', a, b, c),
          explanation
        };
      }
      if (kind === 'trig') {
        const funcs = ['sin', 'cos', 'tan'];
        const fn = funcs[Math.floor(Math.random() * funcs.length)];
        const angles = TRIG_ANGLES.filter(t => {
          const v = fn === 'sin' ? t.sin : fn === 'cos' ? t.cos : t.tan;
          return v !== null && v !== undefined;
        });
        if (angles.length === 0) return null;
        const t = angles[Math.floor(Math.random() * angles.length)];
        const val = fn === 'sin' ? t.sin : fn === 'cos' ? t.cos : t.tan;
        const valStr = Number.isInteger(val) ? val : (val === 0.5 ? '0.5' : String(val));
        return {
          correct: val,
          questionText: fn + '(' + t.deg + '¬∞)',
          explanation: fn + '(' + t.deg + '¬∞) = ' + valStr
        };
      }
      if (kind === 'calculus') {
        const n = Math.floor(Math.random() * 4) + 2;
        const x = Math.floor(Math.random() * 8) + 1;
        const deriv = n * Math.pow(x, n - 1);
        const expPart = n === 2 ? '2x' : n + 'x^' + (n - 1);
        const explanation = 'd/dx of x^' + n + ' = ' + expPart + ', so at x = ' + x + ': ' + n + ' √ó ' + x + '^' + (n - 1) + ' = ' + n + ' √ó ' + Math.pow(x, n - 1) + ' = ' + deriv;
        return {
          correct: deriv,
          questionText: tParam('q_value_of_deriv', n, x),
          explanation
        };
      }
      return null;
    }

    function generateProblem(forcedSubject) {
      const age = state.age != null ? state.age : 12;
      const grade = getGradeFromAge(age);
      const config = getCurriculumConfig(age);
      const subjects = state.subjects && state.subjects.length ? state.subjects : ['maths'];
      const gradeNum = grade === 'university' ? 12 : grade;

      if (forcedSubject === 'geography') {
        const p = generateGeographyProblem(gradeNum);
        if (p) return p;
      }
      if (forcedSubject === 'history') {
        const p = generateHistoryProblem(gradeNum);
        if (p) return p;
      }
      if (forcedSubject === 'german') {
        const p = generateGermanProblem(gradeNum);
        if (p) return p;
      }
      if (forcedSubject === 'musik') {
        const p = generateMusikProblem(gradeNum);
        if (p) return p;
      }
      if (forcedSubject === 'english') {
        const p = generateEnglishProblem(gradeNum);
        if (p) return p;
      }
      if (forcedSubject === 'chemistry' || forcedSubject === 'biology' || forcedSubject === 'physics' || forcedSubject === 'astronomy') {
        const p = generateSubjectProblem(forcedSubject, gradeNum);
        if (p) return p;
        if ((forcedSubject === 'chemistry' || forcedSubject === 'biology' || forcedSubject === 'physics') && gradeNum < 7) forcedSubject = 'maths';
      }
      if (forcedSubject === 'maths' || !forcedSubject) {
        if (config.geometry && Math.random() < 0.2) {
          const geom = generateGeometryProblem(config, gradeNum);
          if (geom) return geom;
        }
        if (config.diagrams && Math.random() < 0.22) {
          const d = generateDiagramProblem(config);
          if (d) return d;
        }
        if (config.advanced && Math.random() < 0.42) {
          const adv = generateAdvancedProblem(config);
          if (adv) return adv;
        }
      }

      if (!forcedSubject) {
        const scienceSubjects = subjects.filter(s => ['chemistry', 'biology', 'physics', 'astronomy'].includes(s));
        const langSubjects = subjects.filter(s => ['german', 'english'].includes(s));
        const canScience = scienceSubjects.length > 0 && ((grade === 'university' || grade >= 7));
        const canLang = langSubjects.length > 0 && ((grade === 'university' || grade >= 5));
        const scienceOnly = subjects.length > 0 && !subjects.includes('maths') && !subjects.includes('geography') && !subjects.includes('history') && langSubjects.length === 0;
        if (canScience && (scienceOnly || Math.random() < 0.35)) {
          const subj = scienceSubjects[Math.floor(Math.random() * scienceSubjects.length)];
          const p = generateSubjectProblem(subj, gradeNum);
          if (p) return p;
        }
      }
      if (forcedSubject === 'maths' || !forcedSubject) {
      const pool = SYMBOLS.filter(s => config.symbols.includes(s.op));
      const sym = pool[Math.floor(Math.random() * pool.length)];
      const maxN = config.maxNum || 1000;
      let a, b;
      if (sym.op === '**' && config.powerMaxBase > 0) {
        a = Math.floor(Math.random() * config.powerMaxBase) + 1;
        b = Math.floor(Math.random() * config.powerMaxExp) + 1;
      } else if (sym.op === '*' && config.multMax != null) {
        a = Math.floor(Math.random() * config.multMax) + 1;
        b = Math.floor(Math.random() * config.multMax) + 1;
      } else if (sym.op === '/') {
        b = Math.floor(Math.random() * (config.divMax || 50)) + 1;
        const quotient = Math.floor(Math.random() * Math.min(20, Math.floor(maxN / b))) + 1;
        a = b * quotient;
      } else {
        a = Math.floor(Math.random() * maxN) + 1;
        b = Math.floor(Math.random() * maxN) + 1;
        if (sym.op === '-' && a < b) { const t = a; a = b; b = t; }
      }
      const correct = sym.fn(a, b);
      const label = sym.label;
      const questionText = `${a} ${label} ${b}`;
      const explanation = a + ' ' + label + ' ' + b + ' = ' + (Number.isInteger(correct) ? correct : formatAnswer(correct));
      return { a, b, sym, correct, questionText, explanation };
      }
    }

    function startGame() {
      state.quizCompleted = false;
      state.score = 0;
      state.usedQuestionKeys = {};
      const subs = state.subjects && state.subjects.length ? state.subjects : ['maths'];
      state.lives = Math.min(2 + subs.length, 5);
      state.currentQ = 0;
      state.answerLog = [];
      state.totalQuestions = QUESTIONS_PER_SUBJECT * subs.length;
      state.questionPlan = [];
      subs.forEach(s => {
        for (let i = 0; i < QUESTIONS_PER_SUBJECT; i++) state.questionPlan.push(s);
      });
      for (let i = state.questionPlan.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [state.questionPlan[i], state.questionPlan[j]] = [state.questionPlan[j], state.questionPlan[i]];
      }
      state.answered = false;
      state.timePerQuestion = [];
      state.questionStartTime = null;
      stopTimer();
      hideEmojiAnimation();
      applyTranslations();
      showScreen('game-screen');
      document.getElementById('score').textContent = '0';
      document.getElementById('lives').textContent = String(state.lives);
      document.getElementById('mistakes-stat').textContent = '0/' + state.totalQuestions;
      document.getElementById('q-total').textContent = String(state.totalQuestions);
      document.getElementById('question-timer').textContent = '0:00';
      document.getElementById('avg-time').textContent = '‚Äî';
      document.getElementById('feedback').classList.remove('show', 'correct', 'wrong');
      document.getElementById('feedback').textContent = '';
      document.getElementById('next-btn-wrap').classList.remove('show');
      document.getElementById('answer-form').classList.remove('hidden');
      document.getElementById('answer-form').querySelector('button[type="submit"]').disabled = false;
      document.getElementById('game-over-msg').style.display = 'none';
      document.getElementById('final-mistakes').style.display = 'none';
      document.getElementById('results-title').textContent = t('results_title');
      document.getElementById('final-score').style.display = 'block';
      nextQuestion();
    }

    function nextQuestion() {
      stopTimer();
      hideEmojiAnimation();
      state.answered = false;
      document.getElementById('feedback').classList.remove('show', 'correct', 'wrong');
      document.getElementById('feedback').textContent = '';
      document.getElementById('next-btn-wrap').classList.remove('show');
      document.getElementById('answer-form').classList.remove('hidden');
      document.getElementById('answer-form').querySelector('button[type="submit"]').disabled = false;

      state.currentQ++;
      const mistakesSoFar = (state.answerLog && state.answerLog.length) ? state.answerLog.filter(function(e) { return !e.correct; }).length : 0;
      document.getElementById('q-num').textContent = String(state.currentQ);
      document.getElementById('score').textContent = String(state.score);
      document.getElementById('lives').textContent = String(state.lives);
      document.getElementById('mistakes-stat').textContent = mistakesSoFar + '/' + state.totalQuestions;
      bumpEmoji('stat-question');
      document.getElementById('answer').value = '';
      document.getElementById('answer').focus();

      if (state.currentQ > state.totalQuestions || state.lives <= 0) {
        stopTimer();
        const mistakes = (state.answerLog && state.answerLog.length)
          ? state.answerLog.filter(function(e) { return !e.correct; }).length
          : (state.totalQuestions - state.score);
        document.getElementById('final-score').textContent = `${state.score}/${state.totalQuestions}`;
        document.getElementById('final-mistakes').textContent = tParam('results_mistakes_format', mistakes, state.totalQuestions);
        document.getElementById('final-mistakes').style.display = 'block';
        if (state.lives <= 0) {
          document.getElementById('results-title').textContent = t('game_over_lives');
          document.getElementById('final-score').style.display = 'none';
          document.getElementById('game-over-msg').style.display = 'block';
          document.getElementById('game-over-msg').textContent = t('game_over_goodbye');
        } else {
          document.getElementById('final-score').style.display = 'block';
          document.getElementById('game-over-msg').style.display = 'none';
        }
        const avgTime = state.timePerQuestion.length
          ? state.timePerQuestion.reduce((a, b) => a + (Number.isFinite(b) ? b : 0), 0) / state.timePerQuestion.length
          : 0;
        const grade = getGradeFromAge(state.age);
        const locale = getLocale();
        const languageLabel = (typeof LOCALE_LABELS !== 'undefined' && LOCALE_LABELS[locale]) ? LOCALE_LABELS[locale] : locale;
        const entry = { name: state.name, age: state.age, grade, score: state.score, avgTime: Number.isFinite(avgTime) ? avgTime : 0, language: languageLabel, subjects: (state.subjects || []).join(', ') };
        const { list: scoreList, isFirst } = addEntryAndGetRank(entry);
        renderScoreboard('scoreboard-results', scoreList, state.name);
        renderResultsSummary(state.answerLog || []);
        document.getElementById('results-scoreboard-wrap').style.display = 'none';
        document.getElementById('show-scoreboard-btn').style.display = '';
        document.getElementById('show-scoreboard-btn').textContent = t('btn_continue_scoreboard');
        state.quizCompleted = true;
        var pctCorrect = state.totalQuestions > 0 ? state.score / state.totalQuestions : 0;
        if (state.score > 0 && pctCorrect >= 0.5) {
          if (isFirst) runFireworks();
          else runConfetti();
        }
        applyTranslations();
        showScreen('results-screen');
        return;
      }

      state.currentProblem = generateProblem(state.questionPlan[state.currentQ - 1]);
      if (!state.currentProblem) state.currentProblem = generateProblem('maths');
      if (!state.currentProblem) state.currentProblem = { correct: 4, questionText: '2 + 2' };
      state.correctAnswer = state.currentProblem.correct;
      const diagramEl = document.getElementById('diagram-container');
      if (state.currentProblem.diagramHtml) {
        diagramEl.style.display = 'block';
        diagramEl.innerHTML = state.currentProblem.diagramHtml;
      } else {
        diagramEl.style.display = 'none';
        diagramEl.innerHTML = '';
      }
      let qt = state.currentProblem.questionText;
      if (!qt || typeof qt !== 'string') { qt = '2 + 2'; state.currentProblem.questionText = qt; }
      document.getElementById('question').textContent = translateQuestionText(qt);
      var choicesEl = document.getElementById('answer-choices');
      var inputWrap = document.querySelector('.answer-input-wrap');
      choicesEl.style.display = 'none';
      choicesEl.innerHTML = '';
      if (inputWrap) inputWrap.style.display = '';
      document.getElementById('answer').value = '';
      startTimer();
    }

    function appendExplanation(feedbackEl, problem) {
      if (!problem || !problem.explanation) return;
      const p = document.createElement('p');
      p.className = 'explanation';
      p.textContent = problem.explanation;
      feedbackEl.appendChild(p);
    }

    function parseAnswer(raw) {
      const s = String(raw).trim().replace(/,/g, '.');
      if (s === '' || s === '-') return null;
      const n = Number(s);
      return Number.isFinite(n) ? n : null;
    }

    function normalizeTextAnswer(s) {
      if (s == null || typeof s !== 'string') return '';
      return s.trim().toLowerCase().replace(/\s+/g, ' ');
    }

    function answersMatch(user, correct) {
      if (Array.isArray(correct)) {
        const u = normalizeTextAnswer(user);
        if (u === '') return false;
        return correct.some(function(c) {
          if (typeof c === 'number') return parseAnswer(user) !== null && Math.round(parseAnswer(user) * 1e5) / 1e5 === Math.round(c * 1e5) / 1e5;
          return u === normalizeTextAnswer(String(c));
        });
      }
      if (typeof correct === 'string') {
        const u = normalizeTextAnswer(user);
        if (u === '') return false;
        return u === normalizeTextAnswer(correct);
      }
      const u = parseAnswer(user);
      if (u === null) return false;
      const r = 5;
      return Math.round(u * Math.pow(10, r)) / Math.pow(10, r) ===
             Math.round(correct * Math.pow(10, r)) / Math.pow(10, r);
    }
    function formatCorrectAnswer(correct) {
      if (Array.isArray(correct)) return correct.map(function(c) { return typeof c === 'number' ? (Number.isInteger(c) ? c : formatAnswer(c)) : c; }).join(', ');
      if (typeof correct === 'string') return correct;
      return Number.isInteger(correct) ? String(correct) : formatAnswer(correct);
    }

    document.querySelectorAll('.btn-lang').forEach(function(btn) {
      btn.addEventListener('click', function() {
        state.language = btn.getAttribute('data-lang');
        if (state.language === 'en') {
          showScreen('english-variant-screen');
          applyTranslations();
        } else {
          state.englishVariant = 'UK';
          showCurriculumScreen();
        }
      });
    });

    document.querySelectorAll('.btn-variant').forEach(function(btn) {
      btn.addEventListener('click', function() {
        state.englishVariant = btn.getAttribute('data-variant');
        showCurriculumScreen();
      });
    });

    document.getElementById('curriculum-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const errEl = document.getElementById('curriculum-error');
      const selected = document.querySelector('input[name="curriculum"]:checked');
      errEl.textContent = '';
      if (!selected) {
        errEl.textContent = t('err_select_subject');
        return;
      }
      state.curriculum = selected.value;
      applyTranslations();
      showScreen('age-screen');
      renderScoreboard('scoreboard-start', loadScoreboard());
    });

    document.getElementById('age-form').addEventListener('submit', (e) => {
      e.preventDefault();
      const errEl = document.getElementById('age-error');
      const nameInput = document.getElementById('player-name');
      const nameRaw = (nameInput && nameInput.value ? nameInput.value : '').trim();
      const input = document.getElementById('age');
      const raw = input.value.trim();
      errEl.textContent = '';
      errEl.style.color = '';
      if (!nameRaw) {
        errEl.textContent = t('err_enter_name');
        return;
      }
      var scoreboard = loadScoreboard();
      var nameLower = nameRaw.toLowerCase();
      var isTaken = scoreboard && scoreboard.some(function(row) { return (row.name || '').toLowerCase() === nameLower; });
      if (isTaken) {
        if (nameInput) nameInput.value = '';
        nameInput.focus();
        errEl.textContent = t('err_username_taken');
        errEl.className = 'error username-taken';
        errEl.style.color = '#e44';
        errEl.style.fontSize = '1.05rem';
        var tid = setTimeout(function() {
          errEl.textContent = '';
          errEl.className = 'error';
          errEl.style.color = '';
          errEl.style.fontSize = '';
        }, 5000);
        if (typeof window !== 'undefined' && window.ageFormUsernameTimeout) clearTimeout(window.ageFormUsernameTimeout);
        window.ageFormUsernameTimeout = tid;
        return;
      }
      state.name = nameRaw.slice(0, 30);
      const age = parseInt(raw, 10);
      if (raw === '' || Number.isNaN(age)) {
        errEl.textContent = t('err_enter_number');
        return;
      }
      if (age < 0) {
        errEl.textContent = t('err_valid_age');
        return;
      }
      if (age < MIN_AGE) {
        errEl.textContent = t('err_age_min');
        return;
      }
      if (age > MAX_AGE) {
        errEl.textContent = t('err_age_max');
        return;
      }
      state.age = age;
      const grade = getGradeFromAge(age);
      const isGrade4 = (grade !== 'university' && grade === 4);
      const canPickScience = (grade !== 'university' && grade >= 6) || grade === 'university';
      const canPickGeoHistory = (grade !== 'university' && grade >= 5) || grade === 'university';
      const canPickGrade7 = (grade !== 'university' && grade >= 7) || grade === 'university';
      var matchSubject = LOCALE_TO_SUBJECT[getLocale()];
      var grade4Subjects = ['maths', 'musik', 'english', 'german'];
      if (matchSubject) grade4Subjects.push(matchSubject);
      document.querySelectorAll('.subject-option[data-grade6]').forEach(el => {
        const label = el.closest('label');
        if (label) {
          const cb = label.querySelector('input[type="checkbox"]');
          if (cb) {
            if (canPickScience) {
              label.classList.remove('disabled');
              cb.disabled = false;
              cb.checked = false;
            } else {
              label.classList.add('disabled');
              cb.disabled = true;
              cb.checked = false;
            }
          }
        }
      });
      document.querySelectorAll('.subject-option[data-grade5]').forEach(el => {
        const label = el.closest('label');
        if (label) {
          const cb = label.querySelector('input[type="checkbox"]');
          if (cb) {
            var enable = canPickGeoHistory;
            if (isGrade4) enable = grade4Subjects.indexOf(cb.value) !== -1;
            if (enable) {
              label.classList.remove('disabled');
              cb.disabled = false;
              if (!isGrade4) cb.checked = false;
            } else {
              label.classList.add('disabled');
              cb.disabled = true;
              cb.checked = false;
            }
          }
        }
      });
      document.querySelectorAll('.subject-option[data-grade7]').forEach(el => {
        const label = el.closest('label');
        if (label) {
          const cb = label.querySelector('input[type="checkbox"]');
          if (cb) {
            if (canPickGrade7) {
              label.classList.remove('disabled');
              cb.disabled = false;
              cb.checked = false;
            } else {
              label.classList.add('disabled');
              cb.disabled = true;
              cb.checked = false;
            }
          }
        }
      });
      if (matchSubject && !isGrade4) {
        var matchCb = document.querySelector('input[name="subjects"][value="' + matchSubject + '"]');
        if (matchCb) {
          var matchLabel = matchCb.closest('label');
          if (matchLabel) {
            matchLabel.classList.remove('disabled');
            matchCb.disabled = false;
          }
        }
      }
      if (isGrade4 && matchSubject) {
        var matchCb = document.querySelector('input[name="subjects"][value="' + matchSubject + '"]');
        if (matchCb) matchCb.checked = true;
      }
      applyTranslations();
      showScreen('subject-screen');
    });

    var LANG_SUBJECTS = ['german','english'];
    function hasLangSubject(checked) {
      return checked && checked.some(function(s) { return LANG_SUBJECTS.indexOf(s) !== -1; });
    }

    document.getElementById('subject-form').addEventListener('submit', (e) => {
      e.preventDefault();
      const errEl = document.getElementById('subject-error');
      const checked = Array.from(document.querySelectorAll('input[name="subjects"]:checked')).map(cb => cb.value);
      errEl.textContent = '';
      if (!checked.length) {
        errEl.textContent = t('err_select_subject');
        return;
      }
      state.subjects = checked;
      state.screenHistory = ['subject-screen'];
      state.lastModeScreen = hasLangSubject(checked) ? 'mode-lang-screen' : 'mode-screen';
      applyTranslations();
      showScreenWithBack(state.lastModeScreen);
    });

    document.getElementById('btn-mode-quiz').addEventListener('click', () => {
      state.mode = 'quiz';
      state.screenHistory.push('mode-screen');
      startGame();
    });

    document.getElementById('btn-mode-learn').addEventListener('click', () => {
      state.mode = 'learn';
      state.screenHistory.push('mode-screen');
      showLearnContent();
    });

    document.getElementById('btn-mode-lang-quiz').addEventListener('click', () => {
      state.mode = 'quiz';
      state.screenHistory.push('mode-lang-screen');
      state.lastModeScreen = 'mode-lang-screen';
      startGame();
    });
    document.getElementById('btn-mode-lang-info').addEventListener('click', () => {
      state.mode = 'learn';
      state.screenHistory.push('mode-lang-screen');
      showLearnContent();
    });
    document.getElementById('answer-form').addEventListener('submit', (e) => {
      e.preventDefault();
      if (state.answered) return;
      const form = document.getElementById('answer-form');
      const input = document.getElementById('answer');
      const feedbackEl = document.getElementById('feedback');
      const nextWrap = document.getElementById('next-btn-wrap');
      const userAnswer = input.value.trim();
      const correct = state.correctAnswer;

      state.answered = true;
      stopTimer();
      let elapsed = getElapsedSeconds();
      if (!Number.isFinite(elapsed) || elapsed < 0) elapsed = 0;
      if (elapsed > MAX_SECONDS_PER_QUESTION) elapsed = MAX_SECONDS_PER_QUESTION;
      state.timePerQuestion.push(elapsed);
      updateAverageDisplay();
      form.classList.add('hidden');
      form.querySelector('button[type="submit"]').disabled = true;

      const correctBool = answersMatch(userAnswer, correct);
      state.answerLog.push({
        questionText: (state.currentProblem && state.currentProblem.questionText) || '',
        correctAnswer: correct,
        userAnswer: userAnswer,
        correct: correctBool,
        explanation: (state.currentProblem && state.currentProblem.explanation) || undefined
      });
      const mistakesSoFar = state.answerLog.filter(function(e) { return !e.correct; }).length;
      const mistEl = document.getElementById('mistakes-stat');
      if (mistEl) mistEl.textContent = mistakesSoFar + '/' + state.totalQuestions;

      if (correctBool) {
        state.score++;
        showEmojiAnimation(true);
        bumpEmoji('stat-score');
        feedbackEl.className = 'feedback show correct';
        feedbackEl.innerHTML = t('feedback_correct');
        feedbackEl.querySelector('.joke')?.remove();
        feedbackEl.querySelector('.explanation')?.remove();
        nextWrap.classList.add('show');
      } else {
        state.lives--;
        document.getElementById('lives').textContent = String(state.lives);
        showEmojiAnimation(false);
        bumpEmoji('stat-lives');
        const show = Array.isArray(correct) ? formatCorrectAnswer(correct) : (typeof correct === 'string' ? correct : (Number.isInteger(correct) ? correct : formatAnswer(correct)));
        feedbackEl.className = 'feedback show wrong';
        feedbackEl.innerHTML = t('feedback_wrong') + ' <strong>' + show + '</strong>.';
        appendExplanation(feedbackEl, state.currentProblem || null);
        const joke = document.createElement('p');
        joke.className = 'joke';
        joke.textContent = JOKES[Math.floor(Math.random() * JOKES.length)];
        feedbackEl.appendChild(joke);
        nextWrap.classList.add('show');
      }
    });

    document.getElementById('next-question-btn').addEventListener('click', () => {
      nextQuestion();
    });

    document.getElementById('show-scoreboard-btn').addEventListener('click', function() {
      var wrap = document.getElementById('results-scoreboard-wrap');
      var btn = document.getElementById('show-scoreboard-btn');
      renderScoreboard('scoreboard-results', loadScoreboard(), state.name);
      if (wrap) wrap.style.display = 'block';
      if (btn) btn.style.display = 'none';
      wrap && wrap.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    document.getElementById('play-again').addEventListener('click', () => {
      startGame();
    });

    function runFireworks() {
      const overlay = document.getElementById('celebration-overlay');
      const canvas = document.getElementById('celebration-canvas');
      if (!overlay || !canvas) return;
      overlay.style.display = 'block';
      const ctx = canvas.getContext('2d');
      let w = canvas.width = window.innerWidth;
      let h = canvas.height = window.innerHeight;
      window.addEventListener('resize', () => { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; });

      const bursts = [];
      const colors = ['#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3', '#54a0ff', '#5f27cd', '#00d2d3', '#ff9f43'];
      function makeBurst(x, y) {
        const particles = [];
        for (let i = 0; i < 60; i++) {
          const angle = (Math.PI * 2 * i) / 60 + Math.random();
          const speed = 3 + Math.random() * 6;
          particles.push({
            x, y,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed,
            color: colors[Math.floor(Math.random() * colors.length)],
            life: 1,
    
    
        decay: 0.008 + Math.random() * 0.01
          });
        }
        return particles;
      }
      for (let i = 0; i < 6; i++) {
        setTimeout(() => bursts.push(makeBurst(Math.random() * w * 0.6 + w * 0.2, Math.random() * h * 0.4 + h * 0.2)), i * 400);
      }
      let start = Date.now();
      function loop() {
        ctx.fillStyle = 'rgba(10,10,11,0.2)';
        ctx.fillRect(0, 0, w, h);
        const now = Date.now();
        if (now - start > 5200) {
          overlay.style.display = 'none';
          return;
        }
        bursts.forEach(particles => {
          particles.forEach(p => {
            p.x += p.vx;
            p.y += p.vy;
            p.vy += 0.12;
            p.life -= p.decay;
            if (p.life <= 0) return;
            ctx.globalAlpha = p.life;
            ctx.fillStyle = p.color;
            ctx.beginPath();
            ctx.arc(p.x, p.y, 2.5, 0, Math.PI * 2);
            ctx.fill();
          });
        });
        ctx.globalAlpha = 1;
        requestAnimationFrame(loop);
      }
      requestAnimationFrame(loop);
    }

    function runConfetti() {
      const overlay = document.getElementById('celebration-overlay');
      const canvas = document.getElementById('celebration-canvas');
      if (!overlay || !canvas) return;
      overlay.style.display = 'block';
      const ctx = canvas.getContext('2d');
      let w = canvas.width = window.innerWidth;
      let h = canvas.height = window.innerHeight;
      const colors = ['#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3', '#54a0ff', '#5f27cd', '#00d2d3', '#ff9f43', '#e8e8ea'];
      const pieces = [];
      for (let i = 0; i < 120; i++) {
        pieces.push({
          x: Math.random() * w,
          y: -20 - Math.random() * 200,
          w: 8 + Math.random() * 6,
          h: 4,
          vy: 2 + Math.random() * 4,
          vx: (Math.random() - 0.5) * 2,
          color: colors[Math.floor(Math.random() * colors.length)],
          rot: Math.random() * Math.PI * 2,
          rotSpeed: (Math.random() - 0.5) * 0.2
        });
      }
      let start = Date.now();
      function loop() {
        ctx.clearRect(0, 0, w, h);
        const now = Date.now();
        if (now - start > 4500) {
          overlay.style.display = 'none';
          return;
        }
        pieces.forEach(p => {
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.rotSpeed;
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
          ctx.restore();
        });
        requestAnimationFrame(loop);
      }
      requestAnimationFrame(loop);
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() { renderScoreboard('scoreboard-start', loadScoreboard()); });
    } else {
      renderScoreboard('scoreboard-start', loadScoreboard());
    }
  </script>