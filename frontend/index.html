<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mathgame Python Platform</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <main class="app-shell">
      <h1>Mathgame Python Platform</h1>
      <p class="subtitle">
        Backend-driven quiz engine with web frontend.
      </p>

      <section id="start-screen" class="card">
        <h2>Start game</h2>
        <form id="start-form">
          <label for="player-name">Player name</label>
          <input id="player-name" name="player-name" maxlength="30" required />

          <label for="player-age">Age (8-99)</label>
          <input
            id="player-age"
            name="player-age"
            type="number"
            min="8"
            max="99"
            required
          />

          <fieldset>
            <legend>Subjects</legend>
            <div id="subject-grid" class="subject-grid"></div>
          </fieldset>

          <p id="start-error" class="error"></p>
          <button type="submit">Start quiz</button>
        </form>
      </section>

      <section id="game-screen" class="card hidden">
        <div class="stats">
          <span>Q: <strong id="stat-question">1/10</strong></span>
          <span>Score: <strong id="stat-score">0</strong></span>
          <span>Lives: <strong id="stat-lives">3</strong></span>
          <span>Timer: <strong id="stat-timer">0:00</strong></span>
          <span>Avg: <strong id="stat-avg">0:00</strong></span>
        </div>

        <div class="question-card">
          <div class="subject-badge" id="question-subject"></div>
          <p id="question-text" class="question-text"></p>
          <div id="diagram-container"></div>
        </div>

        <form id="answer-form">
          <label for="answer-input">Your answer</label>
          <input id="answer-input" autocomplete="off" />
          <button type="submit">Submit answer</button>
        </form>

        <div id="feedback" class="feedback hidden"></div>
        <button id="next-btn" class="hidden">Next question</button>
      </section>

      <section id="results-screen" class="card hidden">
        <h2>Results</h2>
        <p id="results-headline"></p>
        <p id="results-meta" class="muted"></p>

        <h3>Answer review</h3>
        <div id="answer-review" class="answer-review"></div>

        <h3>Leaderboard (last 30 days)</h3>
        <div id="results-scoreboard"></div>

        <button id="play-again-btn">Play again</button>
      </section>

      <section class="card">
        <h2>Leaderboard (live)</h2>
        <div id="start-scoreboard"></div>
      </section>
    </main>

    <script src="/static/app.js" defer></script>
  </body>
</html>
